{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/auth/auth.interceptor.ts","webpack:///./src/app/auth/error.interceptor.ts","webpack:///./src/app/auth/login.service.ts","webpack:///./src/app/card/card.component.css","webpack:///./src/app/card/card.component.html","webpack:///./src/app/card/card.component.ts","webpack:///./src/app/card/card.service.ts","webpack:///./src/app/confirmAction/confirm-action.component.css","webpack:///./src/app/confirmAction/confirm-action.component.html","webpack:///./src/app/confirmAction/confirm-action.component.ts","webpack:///./src/app/course/course.component.css","webpack:///./src/app/course/course.component.html","webpack:///./src/app/course/course.component.ts","webpack:///./src/app/course/course.service.ts","webpack:///./src/app/course/myCourses.component.html","webpack:///./src/app/course/myCourses.component.ts","webpack:///./src/app/course/myCourses.service.ts","webpack:///./src/app/course/newCourse.component.html","webpack:///./src/app/course/newCourse.component.ts","webpack:///./src/app/course/newCourse.service.ts","webpack:///./src/app/home/home.component.css","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/itinerary/lesson/lesson.component.css","webpack:///./src/app/itinerary/lesson/lesson.component.html","webpack:///./src/app/itinerary/lesson/lesson.component.ts","webpack:///./src/app/itinerary/lesson/lesson.service.ts","webpack:///./src/app/itinerary/lesson/lessonEditor/lesson-editor.component.css","webpack:///./src/app/itinerary/lesson/lessonEditor/lesson-editor.component.html","webpack:///./src/app/itinerary/lesson/lessonEditor/lesson-editor.component.ts","webpack:///./src/app/itinerary/lesson/lessonForm/lesson-form.component.css","webpack:///./src/app/itinerary/lesson/lessonForm/lesson-form.component.html","webpack:///./src/app/itinerary/lesson/lessonForm/lesson-form.component.ts","webpack:///./src/app/itinerary/lesson/lessonTools/units-cards-tool.component.css","webpack:///./src/app/itinerary/lesson/lessonTools/units-cards-tool.component.html","webpack:///./src/app/itinerary/lesson/lessonTools/units-cards-tool.component.ts","webpack:///./src/app/itinerary/lesson/unit-lesson.service.ts","webpack:///./src/app/itinerary/module/module.component.css","webpack:///./src/app/itinerary/module/module.component.html","webpack:///./src/app/itinerary/module/module.component.ts","webpack:///./src/app/itinerary/module/module.service.ts","webpack:///./src/app/itinerary/module/moduleEditor/module-editor.component.css","webpack:///./src/app/itinerary/module/moduleEditor/module-editor.component.html","webpack:///./src/app/itinerary/module/moduleEditor/module-editor.component.ts","webpack:///./src/app/itinerary/module/moduleEditor/units-blocks-tool.component.css","webpack:///./src/app/itinerary/module/moduleEditor/units-blocks-tool.component.html","webpack:///./src/app/itinerary/module/moduleEditor/units-blocks-tool.component.ts","webpack:///./src/app/itinerary/module/moduleForm/module-form.component.css","webpack:///./src/app/itinerary/module/moduleForm/module-form.component.html","webpack:///./src/app/itinerary/module/moduleForm/module-form.component.ts","webpack:///./src/app/itinerary/module/moduleRename/module-rename.component.css","webpack:///./src/app/itinerary/module/moduleRename/module-rename.component.html","webpack:///./src/app/itinerary/module/moduleRename/module-rename.component.ts","webpack:///./src/app/itinerary/module/unit-module.service.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/menu/menu.component.css","webpack:///./src/app/menu/menu.component.html","webpack:///./src/app/menu/menu.component.ts","webpack:///./src/app/progress/class-progress/class-progress.component.css","webpack:///./src/app/progress/class-progress/class-progress.component.html","webpack:///./src/app/progress/class-progress/class-progress.component.ts","webpack:///./src/app/progress/module-progress/module-progress.component.css","webpack:///./src/app/progress/module-progress/module-progress.component.html","webpack:///./src/app/progress/module-progress/module-progress.component.ts","webpack:///./src/app/progress/progress.service.ts","webpack:///./src/app/question/addQuestionDialog/addQuestionDialog.component.html","webpack:///./src/app/question/addQuestionDialog/addQuestionDialog.component.ts","webpack:///./src/app/question/answerQuestionDialog/answerDefinitionDialog.component.html","webpack:///./src/app/question/answerQuestionDialog/answerDefinitionDialog.component.ts","webpack:///./src/app/question/definitionQuestion/definitionQuestion.component.html","webpack:///./src/app/question/definitionQuestion/definitionQuestion.component.ts","webpack:///./src/app/question/definitionQuestion/definitionQuestion.service.ts","webpack:///./src/app/question/listQuestion/listQuestion.component.html","webpack:///./src/app/question/listQuestion/listQuestion.component.ts","webpack:///./src/app/question/listQuestion/listQuestion.service.ts","webpack:///./src/app/question/question.component.css","webpack:///./src/app/question/question.component.html","webpack:///./src/app/question/question.component.ts","webpack:///./src/app/question/question.service.ts","webpack:///./src/app/question/testQuestion/testQuestion.component.html","webpack:///./src/app/question/testQuestion/testQuestion.component.ts","webpack:///./src/app/question/testQuestion/testQuestion.service.ts","webpack:///./src/app/relation/relation.type.ts","webpack:///./src/app/slide/slide.service.ts","webpack:///./src/app/tab/tab.service.ts","webpack:///./src/app/unit/unit.component.css","webpack:///./src/app/unit/unit.component.html","webpack:///./src/app/unit/unit.component.ts","webpack:///./src/app/unit/unit.service.ts","webpack:///./src/app/view/view.component.css","webpack:///./src/app/view/view.component.html","webpack:///./src/app/view/view.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <head>\\r\\n    <link href=\\\"https://fonts.googleapis.com/icon?family=Material+Icons\\\" rel=\\\"stylesheet\\\">\\r\\n  </head>\\r\\n\\r\\n  <body>\\r\\n\\r\\n    <div *ngIf=\\\"!loginService.isLogged\\\">\\r\\n      <app-login [url]=\\\"this.router.url\\\"></app-login>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"loginService.isLogged\\\">\\r\\n      <app-menu></app-menu>\\r\\n      <router-outlet></router-outlet>\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import { Router, ActivatedRoute } from '@angular/router';\r\nimport { LoginService } from './auth/login.service';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\n\r\nexport class AppComponent {\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private loginService: LoginService) {\r\n  }\r\n\r\n}\r\n","import { MatAutocompleteModule, MatBadgeModule, MatBottomSheetModule, MatButtonModule, MatButtonToggleModule, MatCardModule,\r\n  MatCheckboxModule, MatChipsModule, MatDatepickerModule, MatDialogModule, MatDividerModule, MatExpansionModule, MatGridListModule,\r\n  MatIconModule, MatInputModule, MatListModule, MatMenuModule, MatNativeDateModule, MatPaginatorModule, MatProgressBarModule,\r\n  MatProgressSpinnerModule, MatRadioModule, MatRippleModule, MatSelectModule, MatSidenavModule, MatSliderModule, MatSlideToggleModule,\r\n  MatSnackBarModule, MatSortModule, MatStepperModule, MatTableModule, MatTabsModule, MatToolbarModule, MatTooltipModule, MatTreeModule,\r\n} from '@angular/material';\r\n\r\nimport { CovalentCommonModule, CovalentLayoutModule, CovalentMediaModule, CovalentExpansionPanelModule,\r\n  CovalentStepsModule, CovalentLoadingModule, CovalentDialogsModule, CovalentSearchModule, CovalentPagingModule,\r\n  CovalentNotificationsModule, CovalentMenuModule, CovalentDataTableModule, CovalentMessageModule } from '@covalent/core';\r\n\r\nimport {FormsModule, NgModel} from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { routing } from './app.routing';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { BasicAuthInterceptor } from './auth/auth.interceptor';\r\nimport { ErrorInterceptor } from './auth/error.interceptor';\r\nimport { LocationStrategy, HashLocationStrategy } from '@angular/common';\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\nimport { NgJsonEditorModule } from 'ang-jsoneditor';\r\nimport { ClipboardModule } from 'ngx-clipboard';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LoginService } from './auth/login.service';\r\nimport { LessonService } from './itinerary/lesson/lesson.service';\r\nimport { ViewComponent } from './view/view.component';\r\nimport { CardComponent } from './card/card.component';\r\nimport { LessonEditorComponent } from './itinerary/lesson/lessonEditor/lesson-editor.component';\r\nimport { CardService } from './card/card.service';\r\nimport { SlideService } from './slide/slide.service';\r\nimport { QuestionComponent } from './question/question.component';\r\nimport { UnitService } from './unit/unit.service';\r\nimport { UnitComponent } from './unit/unit.component';\r\nimport { DefinitionQuestionComponent } from './question/definitionQuestion/definitionQuestion.component';\r\nimport { DefinitionQuestionService } from './question/definitionQuestion/definitionQuestion.service';\r\nimport { ListQuestionComponent } from './question/listQuestion/listQuestion.component';\r\nimport { ListQuestionService } from './question/listQuestion/listQuestion.service';\r\nimport { ModuleProgressComponent } from './progress/module-progress/module-progress.component';\r\nimport { ClassProgressComponent } from './progress/class-progress/class-progress.component';\r\nimport { ProgressService } from './progress/progress.service';\r\nimport {QuestionService} from './question/question.service';\r\nimport {TestQuestionComponent} from './question/testQuestion/testQuestion.component';\r\nimport {TestQuestionService} from './question/testQuestion/testQuestion.service';\r\nimport {MyCoursesComponent} from './course/myCourses.component';\r\nimport {MyCoursesService} from './course/myCourses.service';\r\nimport {CourseComponent} from './course/course.component';\r\nimport {CourseService} from './course/course.service';\r\nimport {TabService} from './tab/tab.service';\r\nimport {NgxChartsModule} from '@swimlane/ngx-charts';\r\nimport {NewCourseComponent} from './course/newCourse.component';\r\nimport {NewCourseService} from './course/newCourse.service';\r\nimport {LoginComponent} from './login/login.component';\r\nimport {MenuComponent} from './menu/menu.component';\r\nimport {UnitsCardsToolComponent} from './itinerary/lesson/lessonTools/units-cards-tool.component';\r\nimport {LessonFormComponent} from './itinerary/lesson/lessonForm/lesson-form.component';\r\nimport {AnswerDefinitionDialogComponent} from './question/answerQuestionDialog/answerDefinitionDialog.component';\r\nimport {HomeComponent} from './home/home.component';\r\nimport {LessonComponent} from './itinerary/lesson/lesson.component';\r\nimport {ConfirmActionComponent} from './confirmAction/confirm-action.component';\r\nimport {AddQuestionDialogComponent} from './question/addQuestionDialog/addQuestionDialog.component';\r\nimport {ModuleComponent} from './itinerary/module/module.component';\r\nimport {ModuleEditorComponent} from './itinerary/module/moduleEditor/module-editor.component';\r\nimport {ModuleService} from './itinerary/module/module.service';\r\nimport {UnitLessonService} from './itinerary/lesson/unit-lesson.service';\r\nimport {UnitModuleService} from './itinerary/module/unit-module.service';\r\nimport {ModuleFormComponent} from './itinerary/module/moduleForm/module-form.component';\r\nimport {UnitsBlocksToolComponent} from './itinerary/module/moduleEditor/units-blocks-tool.component';\r\nimport {ModuleRenameComponent} from './itinerary/module/moduleRename/module-rename.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LessonFormComponent,\r\n    LessonComponent,\r\n    ModuleComponent,\r\n    ModuleFormComponent,\r\n    LoginComponent,\r\n    MenuComponent,\r\n    ViewComponent,\r\n    UnitComponent,\r\n    CardComponent,\r\n    LessonEditorComponent,\r\n    ModuleEditorComponent,\r\n    UnitsCardsToolComponent,\r\n    UnitsBlocksToolComponent,\r\n    DefinitionQuestionComponent,\r\n    ListQuestionComponent,\r\n    QuestionComponent,\r\n    ModuleProgressComponent,\r\n    ClassProgressComponent,\r\n    TestQuestionComponent,\r\n    MyCoursesComponent,\r\n    CourseComponent,\r\n    NewCourseComponent,\r\n    AnswerDefinitionDialogComponent,\r\n    AddQuestionDialogComponent,\r\n    HomeComponent,\r\n    ConfirmActionComponent,\r\n    ModuleRenameComponent\r\n  ],\r\n  entryComponents: [\r\n    ConfirmActionComponent,\r\n    ModuleRenameComponent\r\n  ],\r\n  imports: [\r\n    ClipboardModule,\r\n    BrowserAnimationsModule,\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatStepperModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    FormsModule,\r\n    routing,\r\n    NgJsonEditorModule,\r\n    CovalentCommonModule, CovalentLayoutModule, CovalentMediaModule, CovalentExpansionPanelModule,\r\n    CovalentStepsModule, CovalentLoadingModule, CovalentDialogsModule, CovalentSearchModule, CovalentPagingModule,\r\n    CovalentNotificationsModule, CovalentMenuModule, CovalentDataTableModule, CovalentMessageModule, NgxChartsModule\r\n  ],\r\n  providers: [LoginService, LessonService, ModuleService, CardService, SlideService, DefinitionQuestionService, ListQuestionService,\r\n    QuestionService, ProgressService, TestQuestionService, MyCoursesService, CourseService, TabService, UnitService, NewCourseService,\r\n    MenuComponent, UnitLessonService, UnitModuleService,\r\n    { provide: HTTP_INTERCEPTORS, useClass: BasicAuthInterceptor, multi: true },\r\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n    { provide: LocationStrategy, useClass: HashLocationStrategy}],\r\n  bootstrap: [AppComponent]\r\n})\r\n\r\nexport class AppModule { }\r\n","import { LessonEditorComponent } from './itinerary/lesson/lessonEditor/lesson-editor.component';\r\nimport { CardComponent } from './card/card.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ViewComponent } from './view/view.component';\r\nimport { DefinitionQuestionComponent } from './question/definitionQuestion/definitionQuestion.component';\r\nimport { ListQuestionComponent } from './question/listQuestion/listQuestion.component';\r\nimport { QuestionComponent } from './question/question.component';\r\nimport { ModuleProgressComponent } from './progress/module-progress/module-progress.component';\r\nimport {TestQuestionComponent} from './question/testQuestion/testQuestion.component';\r\nimport {MyCoursesComponent} from './course/myCourses.component';\r\nimport {NewCourseComponent} from './course/newCourse.component';\r\nimport {UnitsCardsToolComponent} from './itinerary/lesson/lessonTools/units-cards-tool.component';\r\nimport {LessonFormComponent} from './itinerary/lesson/lessonForm/lesson-form.component';\r\nimport {AnswerDefinitionDialogComponent} from './question/answerQuestionDialog/answerDefinitionDialog.component';\r\nimport {AddQuestionDialogComponent} from './question/addQuestionDialog/addQuestionDialog.component';\r\nimport {UnitComponent} from './unit/unit.component';\r\nimport {HomeComponent} from './home/home.component';\r\nimport {LessonComponent} from './itinerary/lesson/lesson.component';\r\nimport {ModuleComponent} from './itinerary/module/module.component';\r\nimport {ModuleEditorComponent} from './itinerary/module/moduleEditor/module-editor.component';\r\nimport {CourseComponent} from './course/course.component';\r\nimport {ModuleFormComponent} from './itinerary/module/moduleForm/module-form.component';\r\nimport {UnitsBlocksToolComponent} from './itinerary/module/moduleEditor/units-blocks-tool.component';\r\n\r\n\r\nconst appRoutes = [\r\n  { path: '' , component: HomeComponent },\r\n  { path: 'unit' , component: ViewComponent },\r\n  { path: 'unit/:unitId', component: UnitComponent },\r\n  { path: 'unitsCardsTool', component: UnitsCardsToolComponent },\r\n  { path: 'unitsBlocksTool', component: UnitsBlocksToolComponent },\r\n  { path: 'lessonForm', component: LessonFormComponent },\r\n  { path: 'moduleForm', component: ModuleFormComponent },\r\n  { path: 'units/:unitId/cards', component: CardComponent },\r\n  { path: 'units/:unitId/lessons', component: LessonComponent },\r\n  { path: 'units/:unitId/modules', component: ModuleComponent },\r\n  { path: 'units/:unitId/lessons/:lessonId', component: LessonEditorComponent },\r\n  { path: 'units/:unitId/modules/:moduleId/lessons/:lessonId', component: LessonEditorComponent },\r\n  { path: 'units/:unitId/modules/:moduleId', component: ModuleEditorComponent },\r\n  { path: 'course/:courseId/modules/:moduleId', component: ModuleEditorComponent },\r\n  { path: 'units/:unitId/question', component: QuestionComponent },\r\n  { path: 'answerQuestionDialog', component: AnswerDefinitionDialogComponent},\r\n  { path: 'addQuestionDialog', component: AddQuestionDialogComponent},\r\n  { path: 'units/:unitId/itineraries/:itineraryId/definitionQuestion/:questionId', component: DefinitionQuestionComponent},\r\n  { path: 'units/:unitId/itineraries/:itineraryId/listQuestion/:questionId', component: ListQuestionComponent},\r\n  { path: 'units/:unitId/itineraries/:itineraryId/testQuestion/:questionId', component: TestQuestionComponent},\r\n  { path: 'question', component: QuestionComponent},\r\n  { path: 'courses', component: MyCoursesComponent },\r\n  { path: 'progress', component: ModuleProgressComponent },\r\n  { path: 'newCourse', component: NewCourseComponent},\r\n  { path: 'course/:courseId', component: CourseComponent}\r\n\r\n];\r\n\r\nexport const routing = RouterModule.forRoot(appRoutes);\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n// Strategy based on http://jasonwatmore.com/post/2018/09/07/angular-6-basic-http-authentication-tutorial-example\r\n@Injectable()\r\nexport class BasicAuthInterceptor implements HttpInterceptor {\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\r\n    // add authorization header with basic auth credentials if available\r\n    let user = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n    if (user && user.authdata) {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Basic ${user.authdata}`\r\n        }\r\n      });\r\n    }\r\n    return next.handle(request);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { LoginService } from './login.service';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n\r\n  constructor(private loginService: LoginService) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(request).pipe(catchError(err => {\r\n      if (err.status === 401) {\r\n        // auto logout if 401 response returned from api\r\n        this.loginService.removeCurrentUser();\r\n        //location.reload(true);\r\n      }\r\n      return throwError(err);\r\n    }));\r\n  }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {map} from 'rxjs/operators';\r\nimport {Router} from '@angular/router';\r\n\r\nconst LOGIN_URL = 'api/login';\r\nconst LOGOUT_URL = 'api/logout';\r\nconst CURRENT_USER_ITEM = 'currentUser';\r\nconst ROLE_ADMIN = 'ROLE_ADMIN';\r\n\r\nexport interface User {\r\n  id?: number;\r\n  name: string;\r\n  roles: string[];\r\n  authdata: string;\r\n}\r\n\r\n@Injectable()\r\nexport class LoginService {\r\n\r\n  isLogged = false;\r\n  isAdmin = false;\r\n  user: User;\r\n  auth: string;\r\n\r\n  constructor(private http: HttpClient, private router: Router) {\r\n    let user = JSON.parse(localStorage.getItem(CURRENT_USER_ITEM));\r\n    if (user) {\r\n      this.setCurrentUser(user);\r\n    }\r\n  }\r\n\r\n  login(user: string, pass: string) {\r\n    let auth = window.btoa(user + ':' + pass);\r\n    const headers = new HttpHeaders({\r\n      Authorization: 'Basic ' + auth,\r\n      'X-Requested-With': 'XMLHttpRequest',\r\n    });\r\n    return this.http.get<User>(LOGIN_URL, {headers}).pipe(map(user => {\r\n      if (user) {\r\n        this.setCurrentUser(user);\r\n        user.authdata = auth;\r\n        localStorage.setItem(CURRENT_USER_ITEM, JSON.stringify(user));\r\n      }\r\n      return user;\r\n    }));\r\n  }\r\n\r\n  private setCurrentUser(user: User) {\r\n    this.isLogged = true;\r\n    this.user = user;\r\n    this.isAdmin = this.user.roles.indexOf(ROLE_ADMIN) !== -1;\r\n  }\r\n\r\n  logout() {\r\n    return this.http.get(LOGOUT_URL).pipe(map(response => {\r\n      this.removeCurrentUser();\r\n      return response;\r\n    }));\r\n  }\r\n\r\n  getCurrentUser() {\r\n    return this.user;\r\n  }\r\n\r\n  removeCurrentUser() {\r\n    localStorage.removeItem(CURRENT_USER_ITEM);\r\n    this.isLogged = false;\r\n    this.isAdmin = false;\r\n  }\r\n\r\n}\r\n","module.exports = \".card {\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  top: 2rem;\\r\\n  padding: 2rem;\\r\\n  margin: 2rem;\\r\\n}\\r\\n\\r\\n.saved-card {\\r\\n  background-color: #fdf7ff;\\r\\n}\\r\\n\\r\\n.new-card {\\r\\n  background-color: #f5fbff;\\r\\n}\\r\\n\\r\\n.card-input-container {\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.card-input {\\r\\n  width: 100%;\\r\\n  resize: none;\\r\\n}\\r\\n\\r\\n#card-title {\\r\\n  width: 80%;\\r\\n}\\r\\n\\r\\n#delete-card-button {\\r\\n  color: indianred;\\r\\n  position: absolute;\\r\\n  right: 2rem;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n#empty-message {\\r\\n  margin-top: 10rem;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n#add-button {\\r\\n  position: fixed;\\r\\n  color: white;\\r\\n  background-color: #7d3c90;\\r\\n  top: 3.45rem;\\r\\n  z-index: 501;\\r\\n  right: 1rem;\\r\\n}\\r\\n\\r\\n#add-button:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n#spinner-container {\\r\\n  position: fixed;\\r\\n  width: calc(100% - 30rem);\\r\\n  right: 8rem;\\r\\n  top: 3.6rem;\\r\\n  z-index: 9999;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n#spinner {\\r\\n  display: inline;\\r\\n  z-index: 10000;\\r\\n  height: 1.8rem;\\r\\n  width: 1.8rem;\\r\\n}\\r\\n\\r\\n#spinner-text {\\r\\n  position: fixed;\\r\\n  display: inline;\\r\\n  z-index: 10000;\\r\\n  color: #ffffff;\\r\\n  margin: 0.35rem 0.5rem 0.35rem 0.5rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FyZC9jYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7RUFDVCxhQUFhO0VBQ2IsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFlBQVk7RUFDWixXQUFXO0FBQ2I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxXQUFXO0VBQ1gsYUFBYTtFQUNiLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2QsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7RUFDZixlQUFlO0VBQ2YsY0FBYztFQUNkLGNBQWM7RUFDZCxxQ0FBcUM7QUFDdkMiLCJmaWxlIjoic3JjL2FwcC9jYXJkL2NhcmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHRvcDogMnJlbTtcclxuICBwYWRkaW5nOiAycmVtO1xyXG4gIG1hcmdpbjogMnJlbTtcclxufVxyXG5cclxuLnNhdmVkLWNhcmQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZGY3ZmY7XHJcbn1cclxuXHJcbi5uZXctY2FyZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZmJmZjtcclxufVxyXG5cclxuLmNhcmQtaW5wdXQtY29udGFpbmVyIHtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG59XHJcblxyXG4uY2FyZC1pbnB1dCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcmVzaXplOiBub25lO1xyXG59XHJcblxyXG4jY2FyZC10aXRsZSB7XHJcbiAgd2lkdGg6IDgwJTtcclxufVxyXG5cclxuI2RlbGV0ZS1jYXJkLWJ1dHRvbiB7XHJcbiAgY29sb3I6IGluZGlhbnJlZDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgcmlnaHQ6IDJyZW07XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4jZW1wdHktbWVzc2FnZSB7XHJcbiAgbWFyZ2luLXRvcDogMTByZW07XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4jYWRkLWJ1dHRvbiB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2QzYzkwO1xyXG4gIHRvcDogMy40NXJlbTtcclxuICB6LWluZGV4OiA1MDE7XHJcbiAgcmlnaHQ6IDFyZW07XHJcbn1cclxuXHJcbiNhZGQtYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTc2OWI4O1xyXG59XHJcblxyXG4jc3Bpbm5lci1jb250YWluZXIge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gMzByZW0pO1xyXG4gIHJpZ2h0OiA4cmVtO1xyXG4gIHRvcDogMy42cmVtO1xyXG4gIHotaW5kZXg6IDk5OTk7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4jc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogaW5saW5lO1xyXG4gIHotaW5kZXg6IDEwMDAwO1xyXG4gIGhlaWdodDogMS44cmVtO1xyXG4gIHdpZHRoOiAxLjhyZW07XHJcbn1cclxuXHJcbiNzcGlubmVyLXRleHQge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgei1pbmRleDogMTAwMDA7XHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbiAgbWFyZ2luOiAwLjM1cmVtIDAuNXJlbSAwLjM1cmVtIDAuNXJlbTtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <button id=\\\"add-button\\\" mat-button (click)=\\\"addCard()\\\">\\r\\n      <mat-icon>add</mat-icon>\\r\\n      Añadir ficha\\r\\n    </button>\\r\\n\\r\\n    <div id=\\\"spinner-container\\\" *ngIf=\\\"showSpinner\\\">\\r\\n      <img id=\\\"spinner\\\" src=\\\"../../assets/img/spinner.gif\\\">\\r\\n      <span id=\\\"spinner-text\\\">Cargando...</span>\\r\\n    </div>\\r\\n\\r\\n    <div #cardList>\\r\\n      <mat-card [ngClass]=\\\"card.id != 0 ? 'card saved-card' : 'card new-card'\\\" *ngFor = \\\"let card of cards\\\">\\r\\n        <mat-form-field id=\\\"card-title\\\" class=\\\"example-full-width card-input card-input-container\\\">\\r\\n          <input matInput class=\\\"card-input\\\" placeholder=\\\"Título\\\" [(ngModel)]=\\\"card.name\\\" required (change)=\\\"save(card)\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-icon id=\\\"delete-card-button\\\" (click)=\\\"deleteCard(card.id)\\\" matTooltip=\\\"Eliminar\\\">delete</mat-icon>\\r\\n        <mat-form-field class=\\\"example-full-width card-input card-input-area\\\">\\r\\n          <textarea matInput class=\\\"card-input\\\" placeholder=\\\"Contenido\\\" required (change)=\\\"save(card)\\\" (input)=\\\"changeTextArea($event)\\\" [(ngModel)]=\\\"card.content\\\"></textarea>\\r\\n        </mat-form-field>\\r\\n      </mat-card>\\r\\n      <div *ngIf=\\\"cards.length == 0\\\" id=\\\"empty-message\\\">\\r\\n        Esta unidad no tiene ninguna ficha\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Unit } from '../unit/unit.model';\r\nimport {CardService} from './card.service';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {AfterViewChecked, Component, ElementRef, OnInit, ViewChild} from '@angular/core';\r\nimport {Card} from './card.model';\r\nimport {UnitService} from '../unit/unit.service';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {ConfirmActionComponent} from '../confirmAction/confirm-action.component';\r\n\r\n@Component({\r\n  selector: 'app-cards',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.css']\r\n})\r\n\r\nexport class CardComponent implements OnInit, AfterViewChecked {\r\n\r\n  @ViewChild('cardList') cardList: ElementRef;\r\n\r\n  unitId: number;\r\n  cards: Card[] = [];\r\n  unit: Unit;\r\n  showSpinner = false;\r\n\r\n  confirmText = 'Se eliminará la ficha permanentemente';\r\n  button1 = 'Cancelar';\r\n  button2 = 'Borrar';\r\n\r\n  constructor(private router: Router, private activatedRoute: ActivatedRoute, private cardService: CardService,\r\n              private unitService: UnitService, private dialog: MatDialog) {}\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.unitId = params.unitId;\r\n      this.showSpinner = true;\r\n      this.unitService.getUnit(this.unitId).subscribe((data: Unit) => {\r\n        this.unit = data;\r\n        this.cards = this.unit.cards;\r\n        this.showSpinner = false;\r\n      });\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.cardList.nativeElement.childNodes.forEach((card) => {\r\n      try {\r\n        this.fitContent(card.childNodes[2].firstChild.firstChild.childNodes[2].firstChild);\r\n      } catch (e) {}\r\n    });\r\n  }\r\n\r\n  private addCard() {\r\n    if ((this.cards.length === 0) || (this.cards[0].id !== 0) || (this.cards[0].name && this.cards[0].content)) {\r\n      this.cards.unshift({\r\n        id: 0,\r\n        name: '',\r\n        content: ''\r\n      });\r\n    }\r\n    this.focusNewCard();\r\n  }\r\n\r\n  private focusNewCard() {\r\n    window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });\r\n  }\r\n\r\n  private getCardIndex(id: number): number {\r\n    let index = -1;\r\n    this.cards.forEach((card, i) => {\r\n      if (card.id === id) {\r\n        index = i;\r\n      }\r\n    });\r\n    return index;\r\n  }\r\n\r\n  private deleteCard(id: number) {\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {confirmText: this.confirmText, button1: this.button1, button2: this.button2}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result === 1) {\r\n        this.showSpinner = true;\r\n        if (id === 0) {\r\n          this.cards.splice(0, 1);\r\n          this.showSpinner = false;\r\n        } else {\r\n          this.cardService.deleteCard(this.unitId, id).subscribe(() => {\r\n            this.cards.splice(this.getCardIndex(id), 1);\r\n            this.showSpinner = false;\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  save(card: Card) {\r\n    if (card.name && card.content) {\r\n      this.showSpinner = true;\r\n      if (card.id === 0) {\r\n        this.cardService.create(this.unitId, card).subscribe((createdCard) => {\r\n          card.id = createdCard.id;\r\n          this.showSpinner = false;\r\n        });\r\n      } else {\r\n        this.cardService.save(this.unitId, card).subscribe(() => {\r\n          this.showSpinner = false;\r\n        }, error => {\r\n          console.error(error);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTextArea(event: Event) {\r\n    this.fitContent(event.target as HTMLTextAreaElement);\r\n  }\r\n\r\n  fitContent(textArea: HTMLTextAreaElement) {\r\n    textArea.style.overflow = 'hidden';\r\n    textArea.style.height = '0px';\r\n    textArea.style.height = textArea.scrollHeight + 'px';\r\n  }\r\n\r\n}\r\n","import { Card } from './card.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class CardService {\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  deleteCard(unitId: number, cardId: number) {\r\n    return this.http.delete('/api/units/' + unitId + '/cards/' + cardId);\r\n  }\r\n\r\n  create(unitId: number, card: Card) {\r\n    const body = JSON.stringify(card);\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n    return this.http.post<Card>('/api/units/' + unitId + '/cards/', body, { headers });\r\n  }\r\n\r\n  save(unitId: number, card: Card) {\r\n    const body = JSON.stringify(card);\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n    return this.http.put<Card>('/api/units/' + unitId + '/cards/' + card.id, body, { headers });\r\n  }\r\n\r\n}\r\n","module.exports = \"#dialog {\\r\\n  padding: 1rem 2rem 1rem 2rem;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n#info {\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n#discard-button {\\r\\n  background-color: #f9c4c4;\\r\\n  margin-left: 1.5rem;\\r\\n  margin-right: 1.5rem;\\r\\n}\\r\\n\\r\\n#discard-button:hover {\\r\\n  background-color: #e4b3b3;\\r\\n}\\r\\n\\r\\n#save-button {\\r\\n  background-color: #e7e3f9;\\r\\n  margin-left: 1.5rem;\\r\\n  margin-right: 1.5rem;\\r\\n}\\r\\n\\r\\n#save-button {\\r\\n  background-color: #d7d4e8;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29uZmlybUFjdGlvbi9jb25maXJtLWFjdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsNEJBQTRCO0VBQzVCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJmaWxlIjoic3JjL2FwcC9jb25maXJtQWN0aW9uL2NvbmZpcm0tYWN0aW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGlhbG9nIHtcclxuICBwYWRkaW5nOiAxcmVtIDJyZW0gMXJlbSAycmVtO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuI2luZm8ge1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbiNkaXNjYXJkLWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5YzRjNDtcclxuICBtYXJnaW4tbGVmdDogMS41cmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMS41cmVtO1xyXG59XHJcblxyXG4jZGlzY2FyZC1idXR0b246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNGIzYjM7XHJcbn1cclxuXHJcbiNzYXZlLWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTNmOTtcclxuICBtYXJnaW4tbGVmdDogMS41cmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMS41cmVtO1xyXG59XHJcblxyXG4jc2F2ZS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNkN2Q0ZTg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div id=\\\"dialog\\\">\\r\\n  <div id=\\\"info\\\">{{data.confirmText}}</div>\\r\\n  <button id=\\\"discard-button\\\" mat-button (click)=\\\"saveChanges()\\\">{{data.button2}}</button>\\r\\n  <button id=\\\"save-button\\\" mat-button (click)=\\\"onNoClick()\\\">{{data.button1}}</button>\\r\\n</div>\\r\\n\"","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\n\r\nexport interface DialogConfirmData {\r\n  confirmText: string;\r\n  button1: string;\r\n  button2: string;\r\n}\r\n\r\n@Component({\r\n  templateUrl: 'confirm-action.component.html',\r\n  styleUrls: ['./confirm-action.component.css']\r\n})\r\n\r\nexport class ConfirmActionComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<ConfirmActionComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: DialogConfirmData) {}\r\n\r\n  onNoClick() {\r\n    this.dialogRef.close(2);\r\n  }\r\n\r\n  saveChanges() {\r\n    this.dialogRef.close(1);\r\n  }\r\n\r\n}\r\n","module.exports = \".row {\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  flex-wrap: wrap;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.column {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  flex-basis: 100%;\\r\\n  flex: 1;\\r\\n  margin-left: 5%;\\r\\n  margin-right: 5%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.module-column {\\r\\n  width: 66%;\\r\\n  padding: 0 10px 0 0;\\r\\n  float: left;\\r\\n}\\r\\n\\r\\n.student-column {\\r\\n  width: 33%;\\r\\n  padding: 0 10px 0 0;\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.result {\\r\\n  padding: 1rem;\\r\\n  cursor: pointer;\\r\\n  margin: 0 -0.6em 0 -0.6em;\\r\\n  border-top: 1px solid #e5e9f0;\\r\\n  background-color: #ffffff;\\r\\n}\\r\\n\\r\\n.result-wrapper {\\r\\n  position: absolute;\\r\\n  overflow-y: auto;\\r\\n  overflow-x: hidden;\\r\\n  width: 100%;\\r\\n  height: 200px;\\r\\n  border: lightgrey;\\r\\n}\\r\\n\\r\\n#module-name:hover, #user-result:hover{\\r\\n  background: lightgrey;\\r\\n}\\r\\n\\r\\n.green-color{\\r\\n  color: green\\r\\n}\\r\\n\\r\\n.red-color{\\r\\n  color: red\\r\\n}\\r\\n\\r\\n.pointer-cursor{\\r\\n  cursor: pointer\\r\\n}\\r\\n\\r\\n.indianred-color{\\r\\n  color: indianred\\r\\n}\\r\\n\\r\\n.delete-course {\\r\\n  color: indianred;\\r\\n  cursor: pointer;\\r\\n  padding: 0 0 0 1rem;\\r\\n}\\r\\n\\r\\n.edit-course{\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.save-course{\\r\\n  background-color: #7d3c90;\\r\\n  color: #ffffff\\r\\n}\\r\\n\\r\\n.bottom-margin{\\r\\n  margin-bottom: 10%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.center-align {\\r\\n  text-align: center;\\r\\n  align-content: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.courses-title {\\r\\n  margin-top: 5rem;\\r\\n}\\r\\n\\r\\n.title {\\r\\n  margin-top: 4rem;\\r\\n}\\r\\n\\r\\n.course-button {\\r\\n  width: 90%;\\r\\n  padding: 1rem 0 1rem 2rem;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n.admin-course-button {\\r\\n  background-color: #f9f2fd;\\r\\n}\\r\\n\\r\\n.user-course-button {\\r\\n  background-color: #eaeefd;\\r\\n}\\r\\n\\r\\n.courses-list {\\r\\n  position: absolute;\\r\\n  width: 70%;\\r\\n  left: 15%;\\r\\n  top: 10rem;\\r\\n}\\r\\n\\r\\n#course-search {\\r\\n  position: absolute;\\r\\n  top: 4rem;\\r\\n  width: 40%;\\r\\n  left: 25%;\\r\\n}\\r\\n\\r\\n#new-course-button {\\r\\n  position: absolute;\\r\\n  background-color: #efe1fd;\\r\\n  top: 4rem;\\r\\n  left: 65%;\\r\\n  right: 25%;\\r\\n  margin: 1rem 2% 0 2%;\\r\\n}\\r\\n\\r\\n#search {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.course-form {\\r\\n  width: 75%\\r\\n}\\r\\n\\r\\n.tab {\\r\\n  background-color: #7d3c90;\\r\\n  color: #ffffff;\\r\\n  padding: 0.3rem 0 0.3rem 3.5rem;\\r\\n  position: relative;\\r\\n  cursor: pointer;\\r\\n  width: 100%;\\r\\n  margin-bottom: 0.5rem;\\r\\n  text-align: left;\\r\\n  height: 3rem;\\r\\n}\\r\\n\\r\\n.student-tab{\\r\\n  width: 60%;\\r\\n}\\r\\n\\r\\n.tab-group{\\r\\n  margin-left: 3rem\\r\\n}\\r\\n\\r\\n.tab:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.activeTab {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.tab-text {\\r\\n  margin-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.tab-icon {\\r\\n  position: absolute;\\r\\n  left: 1.37rem;\\r\\n  margin-top: 0.4rem;\\r\\n}\\r\\n\\r\\n.tab-icon-without-menu {\\r\\n  position: absolute;\\r\\n  left: 1.37rem;\\r\\n  top: 0.78rem;\\r\\n}\\r\\n\\r\\n#course-content {\\r\\n  margin-top: 6rem;\\r\\n  position: absolute;\\r\\n  right: 0;\\r\\n  padding-bottom: 2rem;\\r\\n}\\r\\n\\r\\n.with-menu {\\r\\n  width: calc(100% - 21.5rem);\\r\\n}\\r\\n\\r\\n.without-menu {\\r\\n  width: calc(100% - 6.2rem);\\r\\n}\\r\\n\\r\\n#lateral-panel {\\r\\n  position: fixed;\\r\\n  top: 3rem;\\r\\n  bottom: 0;\\r\\n  background-color: #5d306a;\\r\\n  padding: 1rem;\\r\\n}\\r\\n\\r\\n#hide-menu-button {\\r\\n  z-index: 501;\\r\\n  top: 3rem;\\r\\n  position: fixed;\\r\\n  color: #ffffff;\\r\\n  padding: 0.8rem;\\r\\n  border-bottom-right-radius: 1rem;\\r\\n  border-top-right-radius: 1rem;\\r\\n  background-image: linear-gradient(to right, #5d306a 0%, #3e2047 100%);\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.show-hide-menu-button {\\r\\n  left: calc(21rem);\\r\\n}\\r\\n\\r\\n.hidden-hide-menu-button {\\r\\n  left: calc(5.2rem);\\r\\n}\\r\\n\\r\\n.left-zero {\\r\\n  width: 20rem;\\r\\n}\\r\\n\\r\\n.hidden-menu {\\r\\n  width: 4.2rem;\\r\\n}\\r\\n\\r\\n#top-panel {\\r\\n  position: fixed;\\r\\n  top: 3rem;\\r\\n  right: 0;\\r\\n  height: 2.5rem;\\r\\n  z-index: 500;\\r\\n  background-color: #5d306a;\\r\\n  text-align: right;\\r\\n  padding: 0.3rem 0 0.3rem 0;\\r\\n}\\r\\n\\r\\n.example-tree-invisible {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.toolsBar {\\r\\n  height: 6.2rem;\\r\\n  padding-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.admin {\\r\\n  background-color: #5d306a;\\r\\n}\\r\\n\\r\\n.student {\\r\\n  background-color: #30376a;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-invalid .mat-input-element, .mat-warn .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-label {\\r\\n  color: rgba(0,0,0,.6)!important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY291cnNlL2NvdXJzZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixnQkFBZ0I7RUFDaEIsT0FBTztFQUNQLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLG1CQUFtQjtFQUNuQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsbUJBQW1CO0VBQ25CLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLDZCQUE2QjtFQUM3Qix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsYUFBYTtFQUNiLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFO0FBQ0Y7O0FBRUE7RUFDRTtBQUNGOztBQUVBO0VBQ0U7QUFDRjs7QUFFQTtFQUNFO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekI7QUFDRjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIscUJBQXFCO0VBQ3JCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFVBQVU7RUFDVix5QkFBeUI7RUFDekIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixTQUFTO0VBQ1QsVUFBVTtBQUNaOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxVQUFVO0VBQ1YsU0FBUztBQUNYOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixTQUFTO0VBQ1QsU0FBUztFQUNULFVBQVU7RUFDVixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRTtBQUNGOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCwrQkFBK0I7RUFDL0Isa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixXQUFXO0VBQ1gscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRTtBQUNGOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGVBQWU7RUFDZixTQUFTO0VBQ1QsU0FBUztFQUNULHlCQUF5QjtFQUN6QixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxZQUFZO0VBQ1osU0FBUztFQUNULGVBQWU7RUFDZixjQUFjO0VBQ2QsZUFBZTtFQUNmLGdDQUFnQztFQUNoQyw2QkFBNkI7RUFDN0IscUVBQXFFO0VBQ3JFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsU0FBUztFQUNULFFBQVE7RUFDUixjQUFjO0VBQ2QsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsY0FBYztFQUNkLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJzcmMvYXBwL2NvdXJzZS9jb3Vyc2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yb3cge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5jb2x1bW4ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmbGV4LWJhc2lzOiAxMDAlO1xyXG4gIGZsZXg6IDE7XHJcbiAgbWFyZ2luLWxlZnQ6IDUlO1xyXG4gIG1hcmdpbi1yaWdodDogNSU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ubW9kdWxlLWNvbHVtbiB7XHJcbiAgd2lkdGg6IDY2JTtcclxuICBwYWRkaW5nOiAwIDEwcHggMCAwO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcblxyXG4uc3R1ZGVudC1jb2x1bW4ge1xyXG4gIHdpZHRoOiAzMyU7XHJcbiAgcGFkZGluZzogMCAxMHB4IDAgMDtcclxuICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuXHJcbi5yZXN1bHQge1xyXG4gIHBhZGRpbmc6IDFyZW07XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG1hcmdpbjogMCAtMC42ZW0gMCAtMC42ZW07XHJcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU5ZjA7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnJlc3VsdC13cmFwcGVyIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxuICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAyMDBweDtcclxuICBib3JkZXI6IGxpZ2h0Z3JleTtcclxufVxyXG5cclxuI21vZHVsZS1uYW1lOmhvdmVyLCAjdXNlci1yZXN1bHQ6aG92ZXJ7XHJcbiAgYmFja2dyb3VuZDogbGlnaHRncmV5O1xyXG59XHJcblxyXG4uZ3JlZW4tY29sb3J7XHJcbiAgY29sb3I6IGdyZWVuXHJcbn1cclxuXHJcbi5yZWQtY29sb3J7XHJcbiAgY29sb3I6IHJlZFxyXG59XHJcblxyXG4ucG9pbnRlci1jdXJzb3J7XHJcbiAgY3Vyc29yOiBwb2ludGVyXHJcbn1cclxuXHJcbi5pbmRpYW5yZWQtY29sb3J7XHJcbiAgY29sb3I6IGluZGlhbnJlZFxyXG59XHJcblxyXG4uZGVsZXRlLWNvdXJzZSB7XHJcbiAgY29sb3I6IGluZGlhbnJlZDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgcGFkZGluZzogMCAwIDAgMXJlbTtcclxufVxyXG5cclxuLmVkaXQtY291cnNle1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnNhdmUtY291cnNle1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3ZDNjOTA7XHJcbiAgY29sb3I6ICNmZmZmZmZcclxufVxyXG5cclxuLmJvdHRvbS1tYXJnaW57XHJcbiAgbWFyZ2luLWJvdHRvbTogMTAlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmNlbnRlci1hbGlnbiB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmNvdXJzZXMtdGl0bGUge1xyXG4gIG1hcmdpbi10b3A6IDVyZW07XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgbWFyZ2luLXRvcDogNHJlbTtcclxufVxyXG5cclxuLmNvdXJzZS1idXR0b24ge1xyXG4gIHdpZHRoOiA5MCU7XHJcbiAgcGFkZGluZzogMXJlbSAwIDFyZW0gMnJlbTtcclxuICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG59XHJcblxyXG4uYWRtaW4tY291cnNlLWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjJmZDtcclxufVxyXG5cclxuLnVzZXItY291cnNlLWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VhZWVmZDtcclxufVxyXG5cclxuLmNvdXJzZXMtbGlzdCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiA3MCU7XHJcbiAgbGVmdDogMTUlO1xyXG4gIHRvcDogMTByZW07XHJcbn1cclxuXHJcbiNjb3Vyc2Utc2VhcmNoIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiA0cmVtO1xyXG4gIHdpZHRoOiA0MCU7XHJcbiAgbGVmdDogMjUlO1xyXG59XHJcblxyXG4jbmV3LWNvdXJzZS1idXR0b24ge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlMWZkO1xyXG4gIHRvcDogNHJlbTtcclxuICBsZWZ0OiA2NSU7XHJcbiAgcmlnaHQ6IDI1JTtcclxuICBtYXJnaW46IDFyZW0gMiUgMCAyJTtcclxufVxyXG5cclxuI3NlYXJjaCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5jb3Vyc2UtZm9ybSB7XHJcbiAgd2lkdGg6IDc1JVxyXG59XHJcblxyXG4udGFiIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2QzYzkwO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDAuM3JlbSAwIDAuM3JlbSAzLjVyZW07XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxuICBoZWlnaHQ6IDNyZW07XHJcbn1cclxuXHJcbi5zdHVkZW50LXRhYntcclxuICB3aWR0aDogNjAlO1xyXG59XHJcblxyXG4udGFiLWdyb3Vwe1xyXG4gIG1hcmdpbi1sZWZ0OiAzcmVtXHJcbn1cclxuXHJcbi50YWI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhNzY5Yjg7XHJcbn1cclxuXHJcbi5hY3RpdmVUYWIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhNzY5Yjg7XHJcbn1cclxuXHJcbi50YWItdGV4dCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxufVxyXG5cclxuLnRhYi1pY29uIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMS4zN3JlbTtcclxuICBtYXJnaW4tdG9wOiAwLjRyZW07XHJcbn1cclxuXHJcbi50YWItaWNvbi13aXRob3V0LW1lbnUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBsZWZ0OiAxLjM3cmVtO1xyXG4gIHRvcDogMC43OHJlbTtcclxufVxyXG5cclxuI2NvdXJzZS1jb250ZW50IHtcclxuICBtYXJnaW4tdG9wOiA2cmVtO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMDtcclxuICBwYWRkaW5nLWJvdHRvbTogMnJlbTtcclxufVxyXG5cclxuLndpdGgtbWVudSB7XHJcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDIxLjVyZW0pO1xyXG59XHJcblxyXG4ud2l0aG91dC1tZW51IHtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gNi4ycmVtKTtcclxufVxyXG5cclxuI2xhdGVyYWwtcGFuZWwge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB0b3A6IDNyZW07XHJcbiAgYm90dG9tOiAwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM1ZDMwNmE7XHJcbiAgcGFkZGluZzogMXJlbTtcclxufVxyXG5cclxuI2hpZGUtbWVudS1idXR0b24ge1xyXG4gIHotaW5kZXg6IDUwMTtcclxuICB0b3A6IDNyZW07XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDAuOHJlbTtcclxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMXJlbTtcclxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMXJlbTtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM1ZDMwNmEgMCUsICMzZTIwNDcgMTAwJSk7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uc2hvdy1oaWRlLW1lbnUtYnV0dG9uIHtcclxuICBsZWZ0OiBjYWxjKDIxcmVtKTtcclxufVxyXG5cclxuLmhpZGRlbi1oaWRlLW1lbnUtYnV0dG9uIHtcclxuICBsZWZ0OiBjYWxjKDUuMnJlbSk7XHJcbn1cclxuXHJcbi5sZWZ0LXplcm8ge1xyXG4gIHdpZHRoOiAyMHJlbTtcclxufVxyXG5cclxuLmhpZGRlbi1tZW51IHtcclxuICB3aWR0aDogNC4ycmVtO1xyXG59XHJcblxyXG4jdG9wLXBhbmVsIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAzcmVtO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGhlaWdodDogMi41cmVtO1xyXG4gIHotaW5kZXg6IDUwMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWQzMDZhO1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIHBhZGRpbmc6IDAuM3JlbSAwIDAuM3JlbSAwO1xyXG59XHJcblxyXG4uZXhhbXBsZS10cmVlLWludmlzaWJsZSB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLnRvb2xzQmFyIHtcclxuICBoZWlnaHQ6IDYuMnJlbTtcclxuICBwYWRkaW5nLWxlZnQ6IDAuNXJlbTtcclxufVxyXG5cclxuLmFkbWluIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWQzMDZhO1xyXG59XHJcblxyXG4uc3R1ZGVudCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMwMzc2YTtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNrIHtcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utb3V0bGluZS5tYXQtZm9ybS1maWVsZC1pbnZhbGlkLm1hdC1mb3JtLWZpZWxkLWludmFsaWQgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhpY2t7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtaW5wdXQtZWxlbWVudCB7XHJcbiAgY2FyZXQtY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtaW5wdXQtZWxlbWVudCwgLm1hdC13YXJuIC5tYXQtaW5wdXQtZWxlbWVudCB7XHJcbiAgY2FyZXQtY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6IHJnYmEoMCwwLDAsLjYpIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuIl19 */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n<span *ngIf=\\\"this.loginService.isAdmin\\\">\\r\\n  <div id=\\\"lateral-panel\\\" [ngClass]=\\\"showMenu ? 'left-zero' : 'hidden-menu'\\\">\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 0 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(0)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">description</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Contenido</span>\\r\\n    </button>\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 1 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(1)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">bar_chart</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Seguimiento del módulo</span>\\r\\n    </button>\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 2 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(2)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">bar_chart</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Seguimiento de la clase</span>\\r\\n    </button>\\r\\n\\r\\n  </div>\\r\\n  <mat-icon id=\\\"hide-menu-button\\\" [ngClass]=\\\"showMenu ? 'show-hide-menu-button' : 'hidden-hide-menu-button'\\\" (click)=\\\"setShowMenu(!showMenu)\\\">reorder</mat-icon>\\r\\n\\r\\n  <div id=\\\"top-panel\\\" [ngClass]=\\\"showMenu ? 'with-menu' : 'without-menu'\\\"></div>\\r\\n\\r\\n  <div id=\\\"course-content\\\" [ngClass]=\\\"showMenu ? 'with-menu' : 'without-menu'\\\">\\r\\n    <div *ngIf=\\\"this.activeTab == 0\\\">\\r\\n      <h1 class=\\\"tab-group\\\">\\r\\n        {{course?.name}}\\r\\n        <div class=\\\"mat-button\\\" (click)=\\\"openEditCourseDialog()\\\">\\r\\n          <mat-icon>edit</mat-icon>\\r\\n        </div>\\r\\n      </h1>\\r\\n\\r\\n      <mat-tab-group class=\\\"tab-group\\\">\\r\\n        <mat-tab label=\\\"Itinerario Formativo\\\">\\r\\n\\r\\n          <mat-tree [dataSource]=\\\"dataSource\\\" [treeControl]=\\\"treeControl\\\" class=\\\"example-tree menu-margin\\\">\\r\\n            <mat-tree-node *matTreeNodeDef=\\\"let node1\\\" matTreeNodeToggle>\\r\\n                  <span class=\\\"mat-tree-node\\\" id=\\\"{{node1.name}}\\\">\\r\\n                    <button mat-icon-button disabled></button>\\r\\n                    <mat-card class=\\\"lesson-button\\\">\\r\\n                      {{node1?.name}}\\r\\n                    </mat-card>\\r\\n                  </span>\\r\\n            </mat-tree-node>\\r\\n            <mat-nested-tree-node *matTreeNodeDef=\\\"let node2; when: hasChild\\\">\\r\\n                  <span id=\\\"{{node2.name}}\\\">\\r\\n                    <div class=\\\"mat-tree-node\\\">\\r\\n                      <button mat-icon-button matTreeNodeToggle\\r\\n                              [attr.aria-label]=\\\"'toggle ' + node2?.name\\\">\\r\\n                        <mat-icon class=\\\"mat-icon-rtl-mirror\\\">\\r\\n                          {{treeControl.isExpanded(node2) ? 'expand_more' : 'chevron_right'}}\\r\\n                        </mat-icon>\\r\\n                      </button>\\r\\n                      <h3>{{node2?.name}}</h3>\\r\\n                    </div>\\r\\n                    <ul [class.example-tree-invisible]=\\\"!treeControl.isExpanded(node2)\\\">\\r\\n                      <ng-container matTreeNodeOutlet></ng-container>\\r\\n                    </ul>\\r\\n                  </span>\\r\\n            </mat-nested-tree-node>\\r\\n          </mat-tree>\\r\\n        </mat-tab>\\r\\n        <mat-tab label=\\\"Alumnos\\\">\\r\\n          <h2>Alumnos del curso</h2>\\r\\n          <span *ngFor=\\\"let student of this.course?.students\\\">\\r\\n              <div class=\\\"tab student-tab mat-button\\\">\\r\\n                <mat-icon class=\\\"tab-icon\\\">account_circle</mat-icon>\\r\\n                {{student.name}}\\r\\n              </div>\\r\\n            </span>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <app-module-progress *ngIf=\\\"activeTab==1\\\"></app-module-progress>\\r\\n    <app-class-progress *ngIf=\\\"activeTab==2\\\"></app-class-progress>\\r\\n\\r\\n  </div>\\r\\n</span>\\r\\n\\r\\n<span *ngIf=\\\"!this.loginService.isAdmin\\\">\\r\\n\\r\\n</span>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {Course} from './course.model';\r\nimport {LoginService} from '../auth/login.service';\r\nimport {CourseService} from './course.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {NestedTreeControl} from '@angular/cdk/tree';\r\nimport {Module} from '../itinerary/module/module.model';\r\nimport {MatDialog, MatTreeNestedDataSource} from '@angular/material';\r\nimport {TabService} from '../tab/tab.service';\r\nimport {NewCourseComponent} from './newCourse.component';\r\n\r\n@Component({\r\n  templateUrl: './course.component.html',\r\n  styleUrls: ['./course.component.css']\r\n})\r\n\r\nexport class CourseComponent implements OnInit {\r\n  course: Course;\r\n  id: number;\r\n\r\n  treeControl = new NestedTreeControl<Module>(node => !!node && node.blocks);\r\n  dataSource = new MatTreeNestedDataSource<Module>();\r\n\r\n  showMenu = true;\r\n  activeTab = 0;\r\n\r\n  constructor(private loginService: LoginService,\r\n              private courseService: CourseService,\r\n              private activatedRoute: ActivatedRoute,\r\n              private router: Router,\r\n              private tabService: TabService,\r\n              public dialog: MatDialog) {}\r\n\r\n  ngOnInit(): void {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.id = params.courseId;\r\n      if (this.loginService.isAdmin) {\r\n        this.courseService.getCourse(this.id).subscribe((data: Course) => {\r\n          this.course = data;\r\n          this.dataSource.data = this.course.module.blocks;\r\n          this.tabService.setCourse(this.course.name, this.course.id);\r\n        }, error => {\r\n          console.log(error);\r\n        });\r\n      } else {\r\n        this.courseService.addNewStudent(this.id, this.loginService.getCurrentUser()).subscribe((data: any) => {\r\n          this.router.navigate(['/courses']);\r\n        }, error => { console.log(error); } );\r\n      }\r\n    });\r\n  }\r\n\r\n  hasChild = (_: number, node: Module) => !!node && !!node.blocks && node.blocks.length > 0;\r\n\r\n  private activateTab(tab: number) {\r\n    this.activeTab = tab;\r\n  }\r\n\r\n  private setShowMenu(showMenu: boolean) {\r\n    this.showMenu = showMenu;\r\n  }\r\n\r\n  openEditCourseDialog() {\r\n    const dialogRef = this.dialog.open(NewCourseComponent, {\r\n      width: '600px',\r\n      data: {data: this.course.id}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {User} from '../auth/login.service';\r\n\r\n@Injectable()\r\nexport class CourseService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getCourse(id: number) {\r\n    return this.http.get('/api/course/' + id);\r\n  }\r\n\r\n  addNewStudent(id: number, student: User) {\r\n    const body = JSON.stringify(student);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<User>('/api/course/' + id + '/students/', body, {headers});\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n\\r\\n  <div id=\\\"course-search\\\">\\r\\n    <mat-form-field appearance=\\\"outline\\\" id=\\\"search\\\">\\r\\n      <mat-label>Buscar curso</mat-label>\\r\\n      <input id=\\\"search-input\\\" matInput [(ngModel)]=\\\"searchField\\\" (ngModelChange)=\\\"search()\\\"/>\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <button mat-button *ngIf=\\\"this.loginService.isAdmin\\\" id=\\\"new-course-button\\\" (click)=\\\"openAddCourseDialog()\\\">\\r\\n    <mat-icon>add</mat-icon>\\r\\n    Nuevo Curso\\r\\n  </button>\\r\\n\\r\\n  <div class=\\\"courses-list center-align\\\">\\r\\n    <span *ngFor=\\\"let course of showingCourses\\\">\\r\\n      <span *ngIf=\\\"this.loginService.isAdmin\\\">\\r\\n        <button mat-button  [ngClass]=\\\"loginService.isAdmin ? 'course-button admin-course-button' : 'course-button user-course-button'\\\" [routerLink]=\\\"['/course', course.id]\\\">\\r\\n          {{course.name}}\\r\\n        </button>\\r\\n      </span>\\r\\n      <span *ngIf=\\\"!this.loginService.isAdmin\\\">\\r\\n        <button mat-button  [ngClass]=\\\"loginService.isAdmin ? 'course-button admin-course-button' : 'course-button user-course-button'\\\" [routerLink]=\\\"['/course', course.id, 'modules', course.module.id]\\\">\\r\\n          {{course.name}}\\r\\n        </button>\\r\\n      </span>\\r\\n      <mat-icon *ngIf=\\\"this.loginService.isAdmin\\\" class=\\\"delete-course\\\" (click)=\\\"deleteCourse(course)\\\">delete</mat-icon>\\r\\n      <p></p>\\r\\n    </span>\\r\\n  </div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {LoginService} from '../auth/login.service';\r\nimport {MyCoursesService} from './myCourses.service';\r\nimport {Course} from './course.model';\r\nimport {Router} from '@angular/router';\r\nimport {TabService} from '../tab/tab.service';\r\nimport {TdDialogService} from '@covalent/core';\r\nimport {MatDialog} from '@angular/material';\r\nimport {NewCourseComponent} from './newCourse.component';\r\n\r\n@Component({\r\n  templateUrl: './myCourses.component.html',\r\n  styleUrls: ['./course.component.css']\r\n})\r\n\r\nexport class MyCoursesComponent implements OnInit {\r\n  courses: Course[];\r\n  searchField = '';\r\n  showingCourses: Course[];\r\n\r\n  constructor(private loginService: LoginService,\r\n              private courseService: MyCoursesService,\r\n              private router: Router,\r\n              private tabService: TabService,\r\n              private dialogService: TdDialogService,\r\n              public dialog: MatDialog) {\r\n    this.courses = [];\r\n    this.showingCourses = [];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.tabService.setCourses();\r\n    if (this.loginService.isAdmin) {\r\n      this.courseService.getTeacherCourses(this.loginService.getCurrentUser().id).subscribe((data: Course[]) => {\r\n        this.courses = data;\r\n        this.showingCourses = this.courses;\r\n      }, error => {console.log(error); });\r\n    } else {\r\n      this.courseService.getUserCourses(this.loginService.getCurrentUser().id).subscribe((data: Course[]) => {\r\n        this.courses = data;\r\n        this.showingCourses = this.courses;\r\n      }, error => {console.log(error); });\r\n    }\r\n  }\r\n\r\n  deleteCourse(course: Course) {\r\n    this.dialogService.openConfirm({\r\n      message: '¿Seguro que desea eliminar el curso ' + course.name + ' ?',\r\n      title: 'Confirmación'\r\n    }).afterClosed().subscribe((accept: boolean) => {\r\n      if (accept) {\r\n        this.courseService.deleteCourse(course.id).subscribe((_) => {\r\n          this.courses.splice(this.courses.indexOf(course), 1);\r\n        }, error => {console.log(error); });\r\n      }\r\n    });\r\n  }\r\n\r\n  search() {\r\n    if (this.searchField !== '') {\r\n      this.courseService.searchByNameContaining(this.searchField).subscribe((data: Course[]) => {\r\n        this.showingCourses = data;\r\n      }, error => {\r\n        console.log(error);\r\n      });\r\n    } else {\r\n      this.showingCourses = this.courses;\r\n    }\r\n  }\r\n\r\n  openAddCourseDialog() {\r\n    const dialogRef = this.dialog.open(NewCourseComponent, {\r\n      width: '600px',\r\n      data: {}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      console.log(result);\r\n      if (result === 1) {\r\n        this.ngOnInit();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class MyCoursesService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getUserCourses(id: number) {\r\n    return this.http.get('/api/course/user/' + id);\r\n  }\r\n\r\n  getTeacherCourses(id: number) {\r\n    return this.http.get('/api/course/teacher/' + id);\r\n  }\r\n\r\n  deleteCourse(id: number) {\r\n    return this.http.delete('api/course/' + id);\r\n  }\r\n\r\n  searchByNameContaining(name: string) {\r\n    return this.http.get('api/course/search/' + name);\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body class=\\\"center-align\\\">\\r\\n  <div class=\\\"center-align\\\">\\r\\n    <img src=\\\"../../../assets/img/spinner.gif\\\" id=\\\"spinner\\\" class=\\\"top-margin\\\" *ngIf=\\\"showSpinner\\\">\\r\\n\\r\\n    <span *ngIf=\\\"!this.showSpinner\\\">\\r\\n      <h1 mat-dialog-title class=\\\"center-align title\\\" *ngIf=\\\"this.courseId == undefined\\\">Nuevo curso</h1>\\r\\n      <h1 mat-dialog-title class=\\\"center-align title\\\" *ngIf=\\\"this.courseId != undefined\\\">{{this.course?.name}}</h1>\\r\\n\\r\\n      <div mat-dialog-content>\\r\\n\\r\\n        <form class=\\\"center-align\\\" name=\\\"newCourseName\\\">\\r\\n          <mat-form-field class=\\\"course-form\\\">\\r\\n            <input matInput placeholder=\\\"Nombre del curso\\\" [(ngModel)]=\\\"courseName\\\" name=\\\"name\\\" required>\\r\\n          </mat-form-field>\\r\\n        </form>\\r\\n\\r\\n        <form name=\\\"newCourseDesc\\\" class=\\\"center-align\\\">\\r\\n          <mat-form-field class=\\\"course-form\\\">\\r\\n            <textarea matInput placeholder=\\\"Descripción del curso\\\" [(ngModel)]=\\\"courseDescription\\\" name=\\\"description\\\" required></textarea>\\r\\n          </mat-form-field>\\r\\n        </form>\\r\\n        <h3>Itinerario del curso</h3>\\r\\n        <div class=\\\"mat-button\\\" style=\\\"background-color: #7d3c90; color: #ffffff;\\\" (click)=\\\"addModule()\\\">\\r\\n          Seleccionar Itinerario\\r\\n        </div>\\r\\n\\r\\n        <h5>Itinerario seleccionado</h5>\\r\\n        <span>{{this.chosenModule?.name}}</span>\\r\\n        <div *ngIf=\\\"this.chosenModule == undefined\\\">\\r\\n          <p>Ningún itinerario seleccionado</p>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div mat-dialog-actions>\\r\\n        <button mat-button (click)=\\\"cancel()\\\">Cancelar</button>\\r\\n        <button (click)=\\\"save()\\\" class=\\\"mat-button save-course\\\">\\r\\n          Guardar\\r\\n        </button>\\r\\n      </div>\\r\\n    </span>\\r\\n\\r\\n  </div>\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, Inject, OnInit, Optional} from '@angular/core';\r\nimport {LoginService, User} from '../auth/login.service';\r\nimport {NewCourseService} from './newCourse.service';\r\nimport {Course} from './course.model';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {TabService} from '../tab/tab.service';\r\nimport {UnitService} from '../unit/unit.service';\r\nimport {Module} from '../itinerary/module/module.model';\r\nimport {MAT_DIALOG_DATA, MatBottomSheet, MatDialog, MatDialogRef, MatSnackBar} from '@angular/material';\r\nimport {UnitsBlocksToolComponent} from '../itinerary/module/moduleEditor/units-blocks-tool.component';\r\nimport {MyCoursesComponent} from './myCourses.component';\r\nimport {CourseComponent} from './course.component';\r\n\r\n@Component({\r\n  templateUrl: './newCourse.component.html',\r\n  styleUrls: ['./course.component.css']\r\n})\r\n\r\nexport class NewCourseComponent implements OnInit {\r\n  courseId: number;\r\n  courseName = '';\r\n  courseDescription = '';\r\n  chosenModule: Module;\r\n  course: Course;\r\n  showSpinner = false;\r\n\r\n  constructor(private courseService: NewCourseService,\r\n              private loginService: LoginService, private routing: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private tabService: TabService,\r\n              private unitService: UnitService,\r\n              private bottomSheet: MatBottomSheet,\r\n              private myCoursesDialogRef: MatDialogRef<MyCoursesComponent>,\r\n              private courseDialogRef: MatDialogRef<CourseComponent>,\r\n              private snackBar: MatSnackBar,\r\n              public dialog: MatDialog,\r\n              @Inject(MAT_DIALOG_DATA) public data: any) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.data.data !== undefined) {\r\n      this.courseId = this.data.data;\r\n\r\n      this.courseService.getCourse(this.courseId).subscribe((data: Course) => {\r\n        this.course = data;\r\n        this.courseName = this.course.name;\r\n        this.courseDescription = this.course.description;\r\n        this.chosenModule = this.course.module;\r\n        this.tabService.setCourse(this.courseName, this.courseId); }, error => {console.log(error); });\r\n      }\r\n  }\r\n\r\n  save() {\r\n    if (this.courseName === '' || this.courseName === undefined) {\r\n      this.openError('El nombre del curso no puede estar vacío', 'Entendido');\r\n      return;\r\n    }\r\n    if (this.courseDescription === '' || this.courseDescription === undefined) {\r\n      this.openError('La descripción del curso no puede estar vacía', 'Entendido');\r\n      return;\r\n    }\r\n    if (this.chosenModule === undefined) {\r\n      this.openError('Debes elegir un itinerario para el curso', 'Entendido');\r\n      return;\r\n    }\r\n\r\n    if (this.courseId === undefined) {\r\n      this.course = {name : this.courseName, description: this.courseDescription};\r\n      this.course.teacher = this.loginService.getCurrentUser();\r\n      this.course.module = this.chosenModule;\r\n      this.courseService.postCourse(this.course).subscribe((data: Course) => {\r\n        this.copyUrl(data.id);\r\n        this.openError('La URL para acceder al curso ha sido copiada al portapapeles', 'Entendido');\r\n        this.myCoursesDialogRef.close(1);\r\n      }, error => {console.log(error); } );\r\n\r\n    } else {\r\n      this.course.name = this.courseName;\r\n      this.course.description = this.courseDescription;\r\n      this.course.teacher = this.loginService.getCurrentUser();\r\n      this.course.module = this.chosenModule;\r\n      this.showSpinner = true;\r\n      this.courseService.putCourse(this.course, this.courseId).subscribe((data: Course) => {\r\n        this.courseDialogRef.close(1);\r\n        this.showSpinner = false;\r\n      }, error => {console.log(error); } );\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    if (this.courseId === undefined) {\r\n      this.myCoursesDialogRef.close(2);\r\n    } else {\r\n      this.courseDialogRef.close(2);\r\n    }\r\n  }\r\n\r\n  addModule() {\r\n    this.bottomSheet.open(UnitsBlocksToolComponent, {}).afterDismissed().subscribe((data) => {\r\n      this.chosenModule = data;\r\n    });\r\n  }\r\n\r\n  openError(message: string, action: string) {\r\n    this.snackBar.open(message, action, {\r\n      duration: 2000,\r\n    });\r\n  }\r\n\r\n  copyUrl(id: number) {\r\n    const url = window.location.href.substring(0, window.location.href.length - 1) + '/' + id;\r\n    document.addEventListener('copy', (e: ClipboardEvent) => {\r\n      e.clipboardData.setData('text/plain', (url));\r\n      e.preventDefault();\r\n      document.removeEventListener('copy', null);\r\n    });\r\n    document.execCommand('copy');\r\n  }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Course} from './course.model';\r\n\r\n@Injectable()\r\nexport class NewCourseService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  postCourse(course: Course) {\r\n    const body = JSON.stringify(course);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<Course>('/api/course/', body, {headers});\r\n  }\r\n\r\n  putCourse(course: Course, id: number) {\r\n    const body = JSON.stringify(course);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.put<Course>('/api/course/' + id, body, {headers});\r\n  }\r\n\r\n  getCourse(id: number) {\r\n    return this.http.get('/api/course/' + id);\r\n  }\r\n\r\n  searchUserByNameContaining(name: string) {\r\n    return this.http.get('/api/student/search/' + name);\r\n  }\r\n}\r\n","module.exports = \".card-content {\\r\\n  position: absolute;\\r\\n  top: 6rem;\\r\\n  height: 30rem;\\r\\n  cursor: pointer;\\r\\n  background-size: 150%;\\r\\n  background-repeat: no-repeat;\\r\\n  background-position: center;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.units {\\r\\n  left: 3rem;\\r\\n  right: calc(50% + 1.5rem);\\r\\n  background-image: url('home-units.png');\\r\\n}\\r\\n\\r\\n.courses {\\r\\n  right: 3rem;\\r\\n  left: calc(50% + 1.5rem);\\r\\n  background-image: url('home-courses.png');\\r\\n}\\r\\n\\r\\n.title {\\r\\n  padding-top: 1.5rem;\\r\\n  font-size: 2rem;\\r\\n  font-weight: bold;\\r\\n  color: rgba(30, 4, 47, 0.6);\\r\\n}\\r\\n\\r\\n.description {\\r\\n  padding-top: 0.5rem;\\r\\n  color: rgba(135, 99, 158, 0.6);\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULGFBQWE7RUFDYixlQUFlO0VBQ2YscUJBQXFCO0VBQ3JCLDRCQUE0QjtFQUM1QiwyQkFBMkI7RUFDM0Isa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLHlCQUF5QjtFQUN6Qix1Q0FBd0Q7QUFDMUQ7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsd0JBQXdCO0VBQ3hCLHlDQUEwRDtBQUM1RDs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQiw4QkFBOEI7QUFDaEMiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkLWNvbnRlbnQge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDZyZW07XHJcbiAgaGVpZ2h0OiAzMHJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYmFja2dyb3VuZC1zaXplOiAxNTAlO1xyXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnVuaXRzIHtcclxuICBsZWZ0OiAzcmVtO1xyXG4gIHJpZ2h0OiBjYWxjKDUwJSArIDEuNXJlbSk7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi4vLi4vYXNzZXRzL2ltZy9ob21lLXVuaXRzLnBuZ1wiKTtcclxufVxyXG5cclxuLmNvdXJzZXMge1xyXG4gIHJpZ2h0OiAzcmVtO1xyXG4gIGxlZnQ6IGNhbGMoNTAlICsgMS41cmVtKTtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9hc3NldHMvaW1nL2hvbWUtY291cnNlcy5wbmdcIik7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgcGFkZGluZy10b3A6IDEuNXJlbTtcclxuICBmb250LXNpemU6IDJyZW07XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgY29sb3I6IHJnYmEoMzAsIDQsIDQ3LCAwLjYpO1xyXG59XHJcblxyXG4uZGVzY3JpcHRpb24ge1xyXG4gIHBhZGRpbmctdG9wOiAwLjVyZW07XHJcbiAgY29sb3I6IHJnYmEoMTM1LCA5OSwgMTU4LCAwLjYpO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n\\r\\n  <div style=\\\"margin-top: 10rem\\\">\\r\\n    <mat-card class=\\\"card-content units\\\" [routerLink]=\\\"['/unit']\\\">\\r\\n      <div class=\\\"title\\\">UNIDADES</div>\\r\\n      <div class=\\\"description\\\">Gestiona las unidades y su contenido</div>\\r\\n    </mat-card>\\r\\n    <mat-card class=\\\"card-content courses\\\" [routerLink]=\\\"['/courses']\\\">\\r\\n      <div class=\\\"title\\\">CURSOS</div>\\r\\n      <div class=\\\"description\\\">Modela el contenido en forma de cursos</div>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {TabService} from \"../tab/tab.service\";\r\nimport {LoginService} from '../auth/login.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\n\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor(private tabService: TabService,\r\n              private loginService: LoginService,\r\n              private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    if (!this.loginService.isAdmin) {\r\n      this.router.navigate(['/courses']);\r\n    }\r\n    this.tabService.setHome();\r\n  }\r\n\r\n}\r\n","module.exports = \"#lesson-search {\\r\\n  position: absolute;\\r\\n  top: 4rem;\\r\\n  width: 37%;\\r\\n  left: 32%;\\r\\n}\\r\\n\\r\\n#search {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.new-lesson-button {\\r\\n  position: fixed;\\r\\n  color: white;\\r\\n  background-color: #7d3c90;\\r\\n  top: 3.45rem;\\r\\n  z-index: 501;\\r\\n  right: 1rem;\\r\\n}\\r\\n\\r\\n.tool:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.lessons-list {\\r\\n  position: absolute;\\r\\n  top: 10rem;\\r\\n  width: 50%;\\r\\n  left: 25%;\\r\\n}\\r\\n\\r\\n.lesson-button {\\r\\n  margin-top: 0.5rem;\\r\\n  width: 85%;\\r\\n  padding: 1rem 0 1rem 2rem;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n.admin-lesson-button {\\r\\n  background-color: #f9f2fd;\\r\\n}\\r\\n\\r\\n.user-lesson-button {\\r\\n  background-color: #eaeefd;\\r\\n}\\r\\n\\r\\n#options-lesson-button {\\r\\n  height: 4.2rem;\\r\\n  background-color: #f9f2fd;\\r\\n  margin-left: 0.5rem;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n#delete-option {\\r\\n  color: indianred;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-invalid .mat-input-element, .mat-warn .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-label {\\r\\n  color: rgba(0,0,0,.6)!important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L2xlc3Nvbi9sZXNzb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtFQUNWLFNBQVM7QUFDWDs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixVQUFVO0VBQ1YsU0FBUztBQUNYOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVix5QkFBeUI7RUFDekIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJzcmMvYXBwL2l0aW5lcmFyeS9sZXNzb24vbGVzc29uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbGVzc29uLXNlYXJjaCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNHJlbTtcclxuICB3aWR0aDogMzclO1xyXG4gIGxlZnQ6IDMyJTtcclxufVxyXG5cclxuI3NlYXJjaCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5uZXctbGVzc29uLWJ1dHRvbiB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2QzYzkwO1xyXG4gIHRvcDogMy40NXJlbTtcclxuICB6LWluZGV4OiA1MDE7XHJcbiAgcmlnaHQ6IDFyZW07XHJcbn1cclxuXHJcbi50b29sOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTc2OWI4O1xyXG59XHJcblxyXG4ubGVzc29ucy1saXN0IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAxMHJlbTtcclxuICB3aWR0aDogNTAlO1xyXG4gIGxlZnQ6IDI1JTtcclxufVxyXG5cclxuLmxlc3Nvbi1idXR0b24ge1xyXG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICB3aWR0aDogODUlO1xyXG4gIHBhZGRpbmc6IDFyZW0gMCAxcmVtIDJyZW07XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuLmFkbWluLWxlc3Nvbi1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWYyZmQ7XHJcbn1cclxuXHJcbi51c2VyLWxlc3Nvbi1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWVlZmQ7XHJcbn1cclxuXHJcbiNvcHRpb25zLWxlc3Nvbi1idXR0b24ge1xyXG4gIGhlaWdodDogNC4ycmVtO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWYyZmQ7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbiNkZWxldGUtb3B0aW9uIHtcclxuICBjb2xvcjogaW5kaWFucmVkO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utb3V0bGluZSAubWF0LWZvcm0tZmllbGQtb3V0bGluZSB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhpY2sge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lLm1hdC1mb3JtLWZpZWxkLWludmFsaWQubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGlja3tcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICBjYXJldC1jb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWludmFsaWQgLm1hdC1pbnB1dC1lbGVtZW50LCAubWF0LXdhcm4gLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICBjYXJldC1jb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcclxuICBjb2xvcjogcmdiYSgwLDAsMCwuNikhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <button mat-button *ngIf=\\\"this.loginService.isAdmin\\\" class=\\\"tool new-lesson-button\\\" (click)=\\\"addLesson()\\\">\\r\\n      <mat-icon>add</mat-icon>\\r\\n      Nueva Lección\\r\\n    </button>\\r\\n\\r\\n    <div id=\\\"lesson-search\\\">\\r\\n      <mat-form-field appearance=\\\"outline\\\" id=\\\"search\\\">\\r\\n        <mat-label>Buscar lección</mat-label>\\r\\n        <input id=\\\"search-input\\\" matInput (keyup)=\\\"searchLesson($event.target.value)\\\"/>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"lessons-list center-align\\\">\\r\\n        <span *ngFor=\\\"let lesson of lessonsResult\\\">\\r\\n          <button mat-button [ngClass]=\\\"loginService.isAdmin ? 'lesson-button admin-lesson-button' : 'lesson-button user-lesson-button'\\\" (click)=\\\"editLesson(lesson.id)\\\">\\r\\n            {{lesson.name}}\\r\\n          </button>\\r\\n          <button id=\\\"options-lesson-button\\\" mat-button matTooltip=\\\"Opciones\\\" [matTooltipPosition]=\\\"optionInfoPosition\\\" [matMenuTriggerFor]=\\\"menu\\\">\\r\\n            <mat-icon>more_vert</mat-icon>\\r\\n          </button>\\r\\n          <mat-menu #menu=\\\"matMenu\\\">\\r\\n            <button mat-menu-item>Renombrar</button>\\r\\n            <button mat-menu-item>Copiar</button>\\r\\n            <button mat-menu-item id=\\\"delete-option\\\" (click)=\\\"deleteLesson(lesson.id)\\\">Eliminar</button>\\r\\n          </mat-menu>\\r\\n        </span>\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {Lesson} from './lesson.model';\r\nimport {LessonService} from './lesson.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport {Unit} from '../../unit/unit.model';\r\nimport {UnitService} from '../../unit/unit.service';\r\nimport {LessonFormComponent} from './lessonForm/lesson-form.component';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {ConfirmActionComponent} from '../../confirmAction/confirm-action.component';\r\nimport {UnitLessonService} from './unit-lesson.service';\r\n\r\n@Component({\r\n  selector: 'app-lessons',\r\n  templateUrl: './lesson.component.html',\r\n  styleUrls: ['./lesson.component.css']\r\n})\r\n\r\nexport class LessonComponent implements OnInit {\r\n\r\n  unit: Unit;\r\n  unitId: number;\r\n\r\n  lessons: Lesson[];\r\n  lessonsResult: Lesson[];\r\n\r\n  newLesson: Lesson;\r\n\r\n  optionInfoPosition = 'after';\r\n\r\n  confirmText = 'Se eliminará la lección permanentemente';\r\n  button1 = 'Cancelar';\r\n  button2 = 'Borrar';\r\n\r\n  constructor(private loginService: LoginService,\r\n              private lessonService: LessonService,\r\n              private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private unitService: UnitService,\r\n              private unitLessonService: UnitLessonService,\r\n              public dialog: MatDialog) {\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.lessons = [];\r\n    this.lessonsResult = [];\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.unitId = params.unitId;\r\n    });\r\n\r\n    this.unitService.getUnit(this.unitId).subscribe((data: Unit) => {\r\n      this.unit = data;\r\n      this.lessons = data.lessons;\r\n      this.lessonsResult = this.lessons;\r\n    }, error => {console.log(error); });\r\n\r\n  }\r\n\r\n  editLesson(lessonId: number) {\r\n    this.router.navigate(['/units/' + this.unitId + '/lessons/' + lessonId]);\r\n  }\r\n\r\n  searchLesson(value: string) {\r\n    this.lessonsResult = [];\r\n    for (let result of this.lessons) {\r\n      if (result.name.toLowerCase().includes(value.toLowerCase())) {\r\n        this.lessonsResult.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  addLesson(): void {\r\n    this.newLesson = {name: ''};\r\n    const dialogRef = this.dialog.open(LessonFormComponent, {\r\n      data: {itinerary: this.newLesson}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.newLesson = result;\r\n      if (typeof this.newLesson !== 'undefined') {\r\n        if (this.newLesson.name !== '') {\r\n          this.unitLessonService.addLesson(this.unitId, this.newLesson).subscribe((data) => {\r\n            this.router.navigate(['/units/' + this.unitId + '/lessons/' + data.id]);\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteLesson(lessonId: number) {\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {confirmText: this.confirmText, button1: this.button1, button2: this.button2}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result === 1) {\r\n        this.unitLessonService.deleteLesson(this.unitId, lessonId).subscribe(() => {\r\n          this.ngOnInit();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Lesson } from './lesson.model';\r\n\r\n@Injectable()\r\nexport class LessonService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getLessons() {\r\n    return this.http.get('/api/lessons/');\r\n  }\r\n\r\n  getLesson(id: number) {\r\n    return this.http.get('/api/lessons/' + id);\r\n  }\r\n\r\n  updateLesson(lesson: Lesson): Observable<Lesson> {\r\n    const body = JSON.stringify(lesson);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.put<Lesson>('/api/lessons/' + lesson.id , body, {headers});\r\n  }\r\n\r\n  removeSlide(itinerary: Lesson, id: number) {\r\n    return this.http.delete('/api/lessons/' + itinerary.id + '/slide/' + id);\r\n  }\r\n\r\n}\r\n","module.exports = \".toolsBar {\\r\\n  height: 6.2rem;\\r\\n  padding-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.admin {\\r\\n  background-color: #5d306a;\\r\\n}\\r\\n\\r\\n.student {\\r\\n  background-color: #30376a;\\r\\n}\\r\\n\\r\\n.tools {\\r\\n  color: white;\\r\\n  position: absolute;\\r\\n  top: 3.7rem;\\r\\n}\\r\\n\\r\\n.tool {\\r\\n  margin-left: 0.5rem;\\r\\n  background-color: #7d3c90;\\r\\n}\\r\\n\\r\\n.tool:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.deleteItinerary-button {\\r\\n  background-color: indianred;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n#editor-container {\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 55%;\\r\\n  top: 6.5rem;\\r\\n  bottom: 0.5rem;\\r\\n  margin: 0.5rem;\\r\\n}\\r\\n\\r\\n#html-lesson-editor {\\r\\n  top: 4.5rem;\\r\\n  height: 20rem;\\r\\n}\\r\\n\\r\\n.slides-container {\\r\\n  position: absolute;\\r\\n  height: calc(100vh - 15rem);\\r\\n  background-color: #f9f2fd;\\r\\n  overflow-y: scroll;\\r\\n}\\r\\n\\r\\n.slide-content {\\r\\n  margin-bottom: 1rem;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.text-area {\\r\\n  position: absolute;\\r\\n  resize: none;\\r\\n  border: none;\\r\\n  width: 93%;\\r\\n  top: 0.5rem;\\r\\n  bottom: 0.5rem;\\r\\n  padding: 0.5rem;\\r\\n  font-size: 15px;\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.html-lesson-representation-editor {\\r\\n  position: absolute;\\r\\n  right: 0;\\r\\n  left: 45%;\\r\\n  top: 6.5rem;\\r\\n  bottom: 0.5rem;\\r\\n  border-radius: 0.5rem;\\r\\n  margin: 0.5rem;\\r\\n  height: 10rem;\\r\\n}\\r\\n\\r\\n.html-lesson-view {\\r\\n  margin: 1rem;\\r\\n}\\r\\n\\r\\n.html-lesson-title {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.slide {\\r\\n  margin-top: 1rem;\\r\\n  margin-left: 10%;\\r\\n  margin-right: 10%;\\r\\n}\\r\\n\\r\\n.spinner {\\r\\n  position: absolute;\\r\\n  width: 10%;\\r\\n  margin-right: 45%;\\r\\n  margin-left: 45%;\\r\\n  margin-top: 30%;\\r\\n}\\r\\n\\r\\n.center {\\r\\n  position: absolute;\\r\\n  width: 10%;\\r\\n  margin-top: 20%;\\r\\n  margin-right: 45%;\\r\\n  margin-left: 45%;\\r\\n  z-index: 1000;\\r\\n}\\r\\n\\r\\n#prev {\\r\\n  color: white;\\r\\n  position: absolute;\\r\\n  background-color: #30376a;\\r\\n  left: -8%;\\r\\n  top: 42%;\\r\\n}\\r\\n\\r\\n#next {\\r\\n  color: white;\\r\\n  position: absolute;\\r\\n  background-color: #30376a;\\r\\n  right: -8%;\\r\\n  top: 42%;\\r\\n}\\r\\n\\r\\n.progress {\\r\\n  margin-top: 2rem;\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L2xlc3Nvbi9sZXNzb25FZGl0b3IvbGVzc29uLWVkaXRvci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLDJCQUEyQjtFQUMzQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsT0FBTztFQUNQLFVBQVU7RUFDVixXQUFXO0VBQ1gsY0FBYztFQUNkLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtBQUNmOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLDJCQUEyQjtFQUMzQix5QkFBeUI7RUFDekIsa0JBQWtCO0FBQ3BCOztBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osWUFBWTtFQUNaLFVBQVU7RUFDVixXQUFXO0VBQ1gsY0FBYztFQUNkLGVBQWU7RUFDZixlQUFlO0VBQ2YsYUFBYTtBQUNmOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsV0FBVztFQUNYLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLFNBQVM7RUFDVCxRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixVQUFVO0VBQ1YsUUFBUTtBQUNWOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL2l0aW5lcmFyeS9sZXNzb24vbGVzc29uRWRpdG9yL2xlc3Nvbi1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b29sc0JhciB7XHJcbiAgaGVpZ2h0OiA2LjJyZW07XHJcbiAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbn1cclxuXHJcbi5hZG1pbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzVkMzA2YTtcclxufVxyXG5cclxuLnN0dWRlbnQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMDM3NmE7XHJcbn1cclxuXHJcbi50b29scyB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDMuN3JlbTtcclxufVxyXG5cclxuLnRvb2wge1xyXG4gIG1hcmdpbi1sZWZ0OiAwLjVyZW07XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdkM2M5MDtcclxufVxyXG5cclxuLnRvb2w6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhNzY5Yjg7XHJcbn1cclxuXHJcbi5kZWxldGVJdGluZXJhcnktYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmRpYW5yZWQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4jZWRpdG9yLWNvbnRhaW5lciB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDU1JTtcclxuICB0b3A6IDYuNXJlbTtcclxuICBib3R0b206IDAuNXJlbTtcclxuICBtYXJnaW46IDAuNXJlbTtcclxufVxyXG5cclxuI2h0bWwtbGVzc29uLWVkaXRvciB7XHJcbiAgdG9wOiA0LjVyZW07XHJcbiAgaGVpZ2h0OiAyMHJlbTtcclxufVxyXG5cclxuLnNsaWRlcy1jb250YWluZXIge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNXJlbSk7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjJmZDtcclxuICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbn1cclxuLnNsaWRlLWNvbnRlbnQge1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4udGV4dC1hcmVhIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgcmVzaXplOiBub25lO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICB3aWR0aDogOTMlO1xyXG4gIHRvcDogMC41cmVtO1xyXG4gIGJvdHRvbTogMC41cmVtO1xyXG4gIHBhZGRpbmc6IDAuNXJlbTtcclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgb3V0bGluZTogbm9uZTtcclxufVxyXG5cclxuLmh0bWwtbGVzc29uLXJlcHJlc2VudGF0aW9uLWVkaXRvciB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGxlZnQ6IDQ1JTtcclxuICB0b3A6IDYuNXJlbTtcclxuICBib3R0b206IDAuNXJlbTtcclxuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XHJcbiAgbWFyZ2luOiAwLjVyZW07XHJcbiAgaGVpZ2h0OiAxMHJlbTtcclxufVxyXG5cclxuLmh0bWwtbGVzc29uLXZpZXcge1xyXG4gIG1hcmdpbjogMXJlbTtcclxufVxyXG5cclxuLmh0bWwtbGVzc29uLXRpdGxlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zbGlkZSB7XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxuICBtYXJnaW4tbGVmdDogMTAlO1xyXG4gIG1hcmdpbi1yaWdodDogMTAlO1xyXG59XHJcblxyXG4uc3Bpbm5lciB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAxMCU7XHJcbiAgbWFyZ2luLXJpZ2h0OiA0NSU7XHJcbiAgbWFyZ2luLWxlZnQ6IDQ1JTtcclxuICBtYXJnaW4tdG9wOiAzMCU7XHJcbn1cclxuXHJcbi5jZW50ZXIge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB3aWR0aDogMTAlO1xyXG4gIG1hcmdpbi10b3A6IDIwJTtcclxuICBtYXJnaW4tcmlnaHQ6IDQ1JTtcclxuICBtYXJnaW4tbGVmdDogNDUlO1xyXG4gIHotaW5kZXg6IDEwMDA7XHJcbn1cclxuXHJcbiNwcmV2IHtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMDM3NmE7XHJcbiAgbGVmdDogLTglO1xyXG4gIHRvcDogNDIlO1xyXG59XHJcblxyXG4jbmV4dCB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzNzZhO1xyXG4gIHJpZ2h0OiAtOCU7XHJcbiAgdG9wOiA0MiU7XHJcbn1cclxuXHJcbi5wcm9ncmVzcyB7XHJcbiAgbWFyZ2luLXRvcDogMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAycmVtO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <!-- TOOLS BAR UNIT -->\\r\\n    <div [ngClass]=\\\"loginService.isAdmin ? 'toolsBar admin' : 'toolsBar student'\\\">\\r\\n      <mat-chip-list *ngIf=\\\"loginService.isAdmin\\\" class=\\\"tools\\\">\\r\\n        <button mat-button class=\\\"tool\\\">\\r\\n          <mat-icon>add_photo_alternate</mat-icon>Añadir imagen\\r\\n        </button>\\r\\n        <button mat-button class=\\\"tool\\\" (click)=\\\"openBottomSheet()\\\">\\r\\n          <mat-icon>assignment</mat-icon>Buscar fichas\\r\\n        </button>\\r\\n        <button mat-button class=\\\"tool\\\">\\r\\n          <mat-icon>book</mat-icon>Buscar slides\\r\\n        </button>\\r\\n        <button mat-button class=\\\"tool\\\">\\r\\n          <mat-icon>description</mat-icon>Buscar ejercicios\\r\\n        </button>\\r\\n      </mat-chip-list>\\r\\n    </div>\\r\\n\\r\\n    <!-- TOOLS BAR COURSE-->\\r\\n\\r\\n    <!-- EDITOR -->\\r\\n    <div *ngIf=\\\"loginService.isAdmin\\\">\\r\\n      <mat-card id=\\\"editor-container\\\">\\r\\n        <textarea id=\\\"text-area-editor\\\" class=\\\"text-area\\\" [(ngModel)]=\\\"lessonContent\\\" (change)=\\\"updateHTMLView()\\\" (scroll)=\\\"scrollText()\\\"></textarea>\\r\\n      </mat-card>\\r\\n    </div>\\r\\n\\r\\n    <!-- HTML REPRESENTATION -->\\r\\n    <div [ngClass]=\\\"loginService.isAdmin ? 'html-lesson-representation-editor' : 'html-lesson-view'\\\">\\r\\n      <img [ngClass]=\\\"loginService.isAdmin ? 'spinner' : 'center'\\\" src=\\\"../../../../assets/img/spinner.gif\\\" *ngIf=\\\"showSpinner\\\">\\r\\n      <h1 [ngClass]=\\\"!loginService.isAdmin ? 'html-lesson-title' : ''\\\">{{lesson?.name}}</h1>\\r\\n      <mat-card *ngIf=\\\"(loginService.isAdmin && !showSpinner)\\\" id=\\\"slide-area-editor\\\" class=\\\"slides-container\\\">\\r\\n        <div *ngIf=\\\"loginService.isAdmin\\\">\\r\\n          <div *ngFor=\\\"let slide of contentHTML\\\">\\r\\n            <mat-card class=\\\"slide-content\\\">\\r\\n              <div [innerHTML]=\\\"slide\\\"></div>\\r\\n            </mat-card>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-card>\\r\\n      <div *ngIf=\\\"(!loginService.isAdmin &&  !showSpinner)\\\">\\r\\n        <mat-progress-bar class=\\\"progress\\\" mode=\\\"determinate\\\" value=\\\"{{progress}}\\\"></mat-progress-bar>\\r\\n        <mat-card class=\\\"slide slide-content\\\">\\r\\n          <button *ngIf=\\\"(contentSlide !== 0)\\\" mat-icon-button id=\\\"prev\\\" (click)=\\\"prevSlide()\\\"><mat-icon>keyboard_arrow_left</mat-icon></button>\\r\\n          <div [innerHTML]=\\\"contentHTML[contentSlide]\\\"></div>\\r\\n          <button *ngIf=\\\"(contentSlide !== contentHTML.length-1)\\\" mat-icon-button id=\\\"next\\\" (click)=\\\"nextSlide()\\\"><mat-icon>keyboard_arrow_right</mat-icon></button>\\r\\n        </mat-card>\\r\\n        <mat-progress-bar class=\\\"progress\\\" mode=\\\"determinate\\\" value=\\\"{{progress}}\\\"></mat-progress-bar>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import { Unit } from '../../../unit/unit.model';\r\nimport { SlideService } from '../../../slide/slide.service';\r\nimport { Lesson } from '../lesson.model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { TdDialogService } from '@covalent/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport {MatBottomSheet} from '@angular/material/bottom-sheet';\r\n\r\nimport { LessonService } from '../lesson.service';\r\nimport { LoginService } from '../../../auth/login.service';\r\nimport { UnitService } from '../../../unit/unit.service';\r\n\r\nimport Asciidoctor from 'asciidoctor';\r\nimport {Slide} from '../../../slide/slide.model';\r\nimport {DefinitionQuestionService} from '../../../question/definitionQuestion/definitionQuestion.service';\r\nimport {UnitsCardsToolComponent} from '../lessonTools/units-cards-tool.component';\r\nimport {TabService} from '../../../tab/tab.service';\r\nimport {UnitLessonService} from '../unit-lesson.service';\r\nimport {CourseService} from '../../../course/course.service';\r\nimport {Course} from '../../../course/course.model';\r\nimport {ModuleService} from '../../module/module.service';\r\nimport {Module} from '../../module/module.model';\r\n\r\n\r\nfunction convertToHTML(text) {\r\n  const asciidoctor = Asciidoctor();\r\n  const html = asciidoctor.convert(text);\r\n  return(html);\r\n}\r\n\r\n@Component({\r\n  selector: 'app-lesson-editor',\r\n  templateUrl: './lesson-editor.component.html',\r\n  styleUrls: ['./lesson-editor.component.css']\r\n})\r\n\r\nexport class LessonEditorComponent implements OnInit {\r\n\r\n  contentHTML: any[];\r\n  contentSlide: number;\r\n  progress: number;\r\n\r\n  index: string;\r\n\r\n  lessonContent: any;\r\n  lessonContentExtended: string;\r\n\r\n  slidesContentExtended: string[];\r\n\r\n  extractedData: string[];\r\n  position: number[];\r\n\r\n  unit: Unit;\r\n  lesson: Lesson;\r\n\r\n  unitId: number;\r\n  moduleId: number;\r\n  lessonId: number;\r\n\r\n  contentCount: number;\r\n\r\n  showSpinner = false;\r\n  componentsChecker: number;\r\n\r\n  subSlide: boolean;\r\n\r\n  constructor(private slideService: SlideService,\r\n              private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private dialogService: TdDialogService,\r\n              private loginService: LoginService,\r\n              private lessonService: LessonService,\r\n              private definitionQuestionService: DefinitionQuestionService,\r\n              private unitService: UnitService,\r\n              private courseService: CourseService,\r\n              private moduleService: ModuleService,\r\n              private bottomSheet: MatBottomSheet,\r\n              private unitLessonService: UnitLessonService,\r\n              private tabService: TabService) {\r\n    this.showSpinner = true;\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.contentSlide = 0;\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.unitId = params.unitId;\r\n      this.lessonId = params.lessonId;\r\n\r\n      this.lessonService.getLesson(this.lessonId).subscribe((lesson: Lesson) => {\r\n        if (this.loginService.isAdmin) {\r\n          this.moduleId = params.moduleId;\r\n          this.unitService.getUnit(this.unitId).subscribe((unit: Unit) => {\r\n            if (typeof this.moduleId === 'undefined') {\r\n              this.tabService.setLesson(unit.name, this.unitId, lesson.name);\r\n            } else {\r\n              this.moduleService.getModule(this.moduleId).subscribe((module: Module) => {\r\n                this.tabService.setLessonInModule(unit.name, this.unitId, module.name, module.id, lesson.name);\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          this.moduleId = params.moduleId;\r\n          this.moduleService.getModule(this.moduleId).subscribe((module: Module) => {\r\n            this.courseService.getCourse(this.unitId).subscribe((course: Course) => {\r\n                this.tabService.setLessonInModule(course.name, course.id, module.name, module.id, lesson.name);\r\n            });\r\n          });\r\n        }\r\n        this.loadItinerary();\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  loadItinerary() {\r\n    this.lessonService.getLesson(this.lessonId).subscribe((data: Lesson) => {\r\n      this.lesson = {\r\n        id: data.id,\r\n        name: data.name,\r\n        slides: data.slides\r\n      };\r\n      this.lessonContent = '== ' + this.lesson.name + '\\n';\r\n      this.lessonContentExtended = '';\r\n      this.slidesToContent(this.lesson.slides);\r\n      this.extendContent(this.lessonContent);\r\n    });\r\n  }\r\n\r\n  viewHTMLVersion() {\r\n    this.contentHTML = [];\r\n    this.slidesContentExtended = this.lessonContentExtended.split('===');\r\n    if (!this.loginService.isAdmin) {\r\n      this.index = '=== Índice\\n\\n';\r\n      this.lesson.slides.forEach( (slide: Slide) => {\r\n        this.index = this.index + '. ' + slide.name + '\\n';\r\n      });\r\n      this.contentHTML.push(convertToHTML(this.index));\r\n    }\r\n    let counter = 0;\r\n    this.slidesContentExtended.forEach( (slide: string) => {\r\n      if (counter !== 0) {\r\n        this.contentHTML.push(convertToHTML('=== ' + slide + '\\n'));\r\n      }\r\n      counter = counter + 1;\r\n    });\r\n  }\r\n\r\n  slidesToContent(slides: Slide[]) {\r\n    if (slides.length === 0) {\r\n      this.showSpinner = false;\r\n    } else {\r\n      slides.forEach((slide: Slide) => {\r\n        this.lessonContent = this.lessonContent + slide.content + '// ' + slide.id + '\\n\\n';\r\n      });\r\n    }\r\n  }\r\n\r\n  async getEmbebedContent(contentId: number, contentId2: number, unitId: number, content: string, contentCounter: number, type: string) {\r\n    let contentEmbebed;\r\n    if (type === 'card') {\r\n      contentEmbebed = await this.unitService.getCard(contentId, unitId).toPromise();\r\n      this.extractedData.splice(contentCounter, 1, contentEmbebed.content);\r\n    } else if (type === 'slide') {\r\n      this.subSlide = true;\r\n      contentEmbebed = await this.unitLessonService.getSlideFormLesson(contentId, contentId2, unitId).toPromise();\r\n      this.extractedData.splice(contentCounter, 1, contentEmbebed.content.split('=== ')[1]);\r\n    } else if (type === 'question') {\r\n      contentEmbebed = await this.definitionQuestionService.getDefinitionQuestion(contentId).toPromise();\r\n      const url = 'http://localhost:4200/#/units/' + unitId + '/itineraries/11/definitionQuestion/' + contentId;\r\n      this.extractedData.splice(contentCounter, 1, contentEmbebed.questionText + '\\n\\n- ' + url + '[Resolver^]');\r\n    }\r\n    this.addExtractedData(content);\r\n  }\r\n\r\n  contentCounterFunction(content: string) {\r\n    this.contentCount = 0;\r\n    let lines: string[];\r\n    lines = content.split('\\n');\r\n    lines.forEach((line: string) => {\r\n      let words: string[];\r\n      words = line.split('.');\r\n      if (words[0] === 'assert') {\r\n        this.contentCount = this.contentCount + 1;\r\n      }\r\n    });\r\n  }\r\n\r\n  extendContent(content: string) {\r\n    this.subSlide = false;\r\n    this.contentCounterFunction(content);\r\n    this.extractedData = [];\r\n    for (let i = 0; i < this.contentCount; i++) {\r\n      this.extractedData.push('');\r\n    }\r\n    this.position = [];\r\n    let counter = 0;\r\n    let contentCounter = 0;\r\n    let lines: string[];\r\n    lines = content.split('\\n');\r\n    lines.forEach((line: string) => {\r\n      let words: string[];\r\n      words = line.split('.');\r\n      if (words[0] === 'assert') {\r\n        let parameters: string[];\r\n        parameters = words[1].split('/');\r\n        if (parameters[0] === 'card') {\r\n          this.position.push(counter);\r\n          this.getEmbebedContent(Number(parameters[1]), null, Number(parameters[2]), content, contentCounter, 'card');\r\n          contentCounter = contentCounter + 1;\r\n        } else if (parameters[0] === 'slide') {\r\n          this.position.push(counter);\r\n          this.getEmbebedContent(Number(parameters[1]), Number(parameters[2]), Number(parameters[3]), content, contentCounter, 'slide');\r\n          contentCounter = contentCounter + 1;\r\n        } else if (parameters[0] === 'question') {\r\n          this.position.push(counter);\r\n          this.getEmbebedContent(Number(parameters[1]), null, Number(parameters[2]), content, contentCounter, 'question');\r\n          contentCounter = contentCounter + 1;\r\n        }\r\n      }\r\n      this.addExtractedData(content);\r\n      counter = counter + 1;\r\n    });\r\n  }\r\n\r\n  addExtractedData(content: string) {\r\n    this.componentsChecker = 0;\r\n    this.lessonContentExtended = '';\r\n    let lines: string[];\r\n    lines = content.split('\\n');\r\n    for (let i = 0; i < this.position.length; i ++) {\r\n      lines[this.position[i]] = this.extractedData[i];\r\n    }\r\n    lines.forEach((line: string) => {\r\n      this.lessonContentExtended = this.lessonContentExtended + line + '\\n';\r\n    });\r\n    this.extractedData.forEach((component: string) => {\r\n      if (component !== '') {\r\n        this.componentsChecker = this.componentsChecker + 1;\r\n      }\r\n    });\r\n    if (this.componentsChecker === this.contentCount) {\r\n      if (this.subSlide) {\r\n        this.extendContent(this.lessonContentExtended);\r\n      } else {\r\n        this.showSpinner = false;\r\n        this.viewHTMLVersion();\r\n        this.progress = (1 / (this.contentHTML.length)) * 100;\r\n      }\r\n    }\r\n  }\r\n\r\n  contentToItinerary(content: string) {\r\n    let slidesContent: string[];\r\n    slidesContent = content.split('=== ');\r\n    if (slidesContent[0].split(' ')[0] === '==') {\r\n      this.lesson.name = '';\r\n      for (let i = 1; i < slidesContent[0].split(' ').length; i ++) {\r\n        this.lesson.name = this.lesson.name + slidesContent[0].split(' ')[i].split('\\n')[0] + ' ';\r\n      }\r\n    }\r\n    this.contentToSlides(slidesContent);\r\n  }\r\n\r\n  contentToSlides(content: string[]) {\r\n    this.lesson.slides = [];\r\n    let slide: Slide;\r\n    for (let i = 1; i < content.length; i ++) {\r\n      slide = { name: '', content: ''};\r\n      let lines: string[];\r\n      lines = content[i].split('\\n');\r\n      slide.name = lines[0];\r\n      slide.content = '=== ' + slide.name + '\\n';\r\n      for (let j = 1; j < lines.length; j ++) {\r\n        if (j < lines.length - 2) {\r\n          if (!(lines[j].split(' ')[0] === '//')) {\r\n            slide.content = slide.content + lines[j] + '\\n';\r\n          }\r\n        } else {\r\n          if ( (lines.length > 2) && ( j >= 2) ) {\r\n            if (lines[j - 2].split(' ')[0] === '//') {\r\n              slide.id = Number(lines[j - 2].split(' ')[1]);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.lesson.slides.push(slide);\r\n    }\r\n  }\r\n\r\n  updateHTMLView() {\r\n    this.contentToItinerary(this.lessonContent);\r\n    this.showSpinner = true;\r\n    this.lessonService.updateLesson(this.lesson).subscribe((_) => {\r\n      this.loadItinerary();\r\n    }, (error) => {\r\n      console.error(error);\r\n    });\r\n  }\r\n\r\n  openBottomSheet(): void {\r\n    this.bottomSheet.open(UnitsCardsToolComponent);\r\n  }\r\n\r\n  nextSlide() {\r\n    this.contentSlide++;\r\n    this.progress = this.progress + ((1 / (this.contentHTML.length)) * 100);\r\n  }\r\n\r\n  prevSlide() {\r\n    this.contentSlide--;\r\n    this.progress = this.progress - ((1 / (this.contentHTML.length)) * 100);\r\n  }\r\n\r\n  scrollSlides() {\r\n    const div = document.getElementById('slide-area-editor');\r\n    const div2 = document.getElementById('text-area-editor');\r\n    div2.scrollTop = div.scrollTop;\r\n  }\r\n\r\n  scrollText() {\r\n    const div = document.getElementById('slide-area-editor');\r\n    const div2 = document.getElementById('text-area-editor');\r\n    div.scrollTop = div2.scrollTop;\r\n  }\r\n\r\n}\r\n","module.exports = \".addItinerary-button {\\r\\n  background-color: #7d3c90;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.itinerary-form {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.itinerary-form-buttons {\\r\\n  margin-left: 5.5rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L2xlc3Nvbi9sZXNzb25Gb3JtL2xlc3Nvbi1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvaXRpbmVyYXJ5L2xlc3Nvbi9sZXNzb25Gb3JtL2xlc3Nvbi1mb3JtLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRkSXRpbmVyYXJ5LWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdkM2M5MDtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5pdGluZXJhcnktZm9ybSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uaXRpbmVyYXJ5LWZvcm0tYnV0dG9ucyB7XHJcbiAgbWFyZ2luLWxlZnQ6IDUuNXJlbTtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n\\r\\n  <div class=\\\"itinerary-form\\\">\\r\\n    <h1 mat-dialog-title>NUEVA LECCIÓN</h1>\\r\\n    <div mat-dialog-content>\\r\\n      <mat-form-field>\\r\\n        <mat-label>Nombre del la lección</mat-label>\\r\\n        <input matInput [(ngModel)]=\\\"data.itinerary.name\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div mat-dialog-actions class=\\\"itinerary-form-buttons\\\">\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\">Cancelar</button>\\r\\n      <button mat-button class=\\\"addItinerary-button\\\" [mat-dialog-close]=\\\"data.itinerary\\\" cdkFocusInitial>Añadir</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {Lesson} from '../lesson.model';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {UnitComponent} from '../../../unit/unit.component';\r\n\r\nexport interface DialogData {\r\n  itinerary: Lesson;\r\n}\r\n\r\n@Component({\r\n  templateUrl: './lesson-form.component.html',\r\n  styleUrls: ['./lesson-form.component.css']\r\n})\r\n\r\nexport class LessonFormComponent {\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<UnitComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","module.exports = \"#unitSearcher {\\r\\n  margin-left: 30%;\\r\\n}\\r\\n\\r\\n.card {\\r\\n  margin-bottom: 1rem;\\r\\n  margin-top: 1rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L2xlc3Nvbi9sZXNzb25Ub29scy91bml0cy1jYXJkcy10b29sLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvaXRpbmVyYXJ5L2xlc3Nvbi9sZXNzb25Ub29scy91bml0cy1jYXJkcy10b29sLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjdW5pdFNlYXJjaGVyIHtcclxuICBtYXJnaW4tbGVmdDogMzAlO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICBtYXJnaW4tdG9wOiAxcmVtO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <mat-form-field id=\\\"unitSearcher\\\">\\r\\n      <input matInput (keyup)=\\\"applyFilterUnits($event.target.value)\\\" placeholder=\\\"Nombre de la unidad\\\">\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-accordion *ngFor = \\\"let unit of this.unitsResult\\\">\\r\\n      <mat-expansion-panel class=\\\"card\\\">\\r\\n        <mat-expansion-panel-header>\\r\\n          <mat-panel-title>\\r\\n            {{unit.name}}\\r\\n          </mat-panel-title>\\r\\n        </mat-expansion-panel-header>\\r\\n        <div *ngFor = \\\"let card of unit.cards\\\">\\r\\n          {{card.name}}\\r\\n          <mat-card>\\r\\n            assert.card/{{card.id}}/{{unit.id}}\\r\\n            <button id=\\\"copyButton\\\" mat-icon-button matTooltip=\\\"Copiar\\\" [matTooltipPosition]=\\\"copyInfoPosition\\\" (click)=\\\"openLink($event, 'assert.card/' + card.id + '/' + unit.id)\\\">\\r\\n              <mat-icon>file_copy</mat-icon>\\r\\n            </button>\\r\\n          </mat-card>\\r\\n        </div>\\r\\n      </mat-expansion-panel>\\r\\n    </mat-accordion>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Unit} from '../../../unit/unit.model';\r\nimport {UnitService} from '../../../unit/unit.service';\r\nimport {MatBottomSheetRef} from '@angular/material/bottom-sheet';\r\nimport { ClipboardService } from 'ngx-clipboard';\r\n\r\n\r\n@Component({\r\n  templateUrl: './units-cards-tool.component.html',\r\n  styleUrls: ['./units-cards-tool.component.css']\r\n})\r\n\r\nexport class UnitsCardsToolComponent implements OnInit {\r\n\r\n  units: Unit[];\r\n  unitsResult: Unit[];\r\n\r\n  copyInfoPosition = 'after';\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private unitService: UnitService,\r\n              private bottomSheetRef: MatBottomSheetRef<UnitsCardsToolComponent>,\r\n              private clipboardService: ClipboardService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.unitService.getUnits().subscribe((data: Unit[]) => {\r\n      this.units = [];\r\n      this.unitsResult = [];\r\n      data.forEach((unit: Unit) => {\r\n        this.units.push({\r\n          id: unit.id,\r\n          name: unit.name,\r\n          cards: unit.cards,\r\n          lessons: unit.lessons\r\n        });\r\n        this.unitsResult = this.units;\r\n      });\r\n    });\r\n  }\r\n\r\n  applyFilterUnits(value: string) {\r\n    this.unitsResult = [];\r\n    for (let result of this.units) {\r\n      if (result.name.toLowerCase().includes(value.toLowerCase())) {\r\n        this.unitsResult.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  openLink(event: MouseEvent, text: string): void {\r\n    this.clipboardService.copyFromContent(text);\r\n    this.bottomSheetRef.dismiss();\r\n    event.preventDefault();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Lesson } from './lesson.model';\r\n\r\n@Injectable()\r\nexport class UnitLessonService {\r\n\r\n  baseUrl = '/api/units/';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getSlideFormLesson(slideId: number, lessonId: number, unitId: number) {\r\n    return this.http.get(this.baseUrl + unitId + '/lessons/' + lessonId + '/slides/' + slideId);\r\n  }\r\n\r\n  addLesson(unitId: number, lesson: Lesson) {\r\n    const body = JSON.stringify(lesson);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<Lesson>(this.baseUrl + unitId + '/lessons', body, { headers });\r\n  }\r\n\r\n  deleteLesson(unitId: number, lessonId: number) {\r\n    return this.http.delete<Lesson>(this.baseUrl + unitId + '/lessons/' + lessonId);\r\n  }\r\n\r\n}\r\n","module.exports = \"#module-search {\\r\\n  position: absolute;\\r\\n  top: 4rem;\\r\\n  width: 37%;\\r\\n  left: 32%;\\r\\n}\\r\\n\\r\\n#search {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.new-module-button {\\r\\n  position: fixed;\\r\\n  color: white;\\r\\n  background-color: #7d3c90;\\r\\n  top: 3.45rem;\\r\\n  z-index: 501;\\r\\n  right: 1rem;\\r\\n}\\r\\n\\r\\n.tool:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.modules-list {\\r\\n  position: absolute;\\r\\n  top: 10rem;\\r\\n  width: 50%;\\r\\n  left: 25%;\\r\\n}\\r\\n\\r\\n.module-button {\\r\\n  margin-top: 0.5rem;\\r\\n  width: 85%;\\r\\n  padding: 1rem 0 1rem 2rem;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n.admin-module-button {\\r\\n  background-color: #f9f2fd;\\r\\n}\\r\\n\\r\\n.user-module-button {\\r\\n  background-color: #eaeefd;\\r\\n}\\r\\n\\r\\n#options-module-button {\\r\\n  height: 4.2rem;\\r\\n  background-color: #f9f2fd;\\r\\n  margin-left: 0.5rem;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n#delete-option {\\r\\n  color: indianred;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-invalid .mat-input-element, .mat-warn .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-label {\\r\\n  color: rgba(0,0,0,.6)!important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsVUFBVTtFQUNWLFNBQVM7QUFDWDs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixVQUFVO0VBQ1YsU0FBUztBQUNYOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVix5QkFBeUI7RUFDekIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJzcmMvYXBwL2l0aW5lcmFyeS9tb2R1bGUvbW9kdWxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbW9kdWxlLXNlYXJjaCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNHJlbTtcclxuICB3aWR0aDogMzclO1xyXG4gIGxlZnQ6IDMyJTtcclxufVxyXG5cclxuI3NlYXJjaCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5uZXctbW9kdWxlLWJ1dHRvbiB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2QzYzkwO1xyXG4gIHRvcDogMy40NXJlbTtcclxuICB6LWluZGV4OiA1MDE7XHJcbiAgcmlnaHQ6IDFyZW07XHJcbn1cclxuXHJcbi50b29sOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTc2OWI4O1xyXG59XHJcblxyXG4ubW9kdWxlcy1saXN0IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAxMHJlbTtcclxuICB3aWR0aDogNTAlO1xyXG4gIGxlZnQ6IDI1JTtcclxufVxyXG5cclxuLm1vZHVsZS1idXR0b24ge1xyXG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICB3aWR0aDogODUlO1xyXG4gIHBhZGRpbmc6IDFyZW0gMCAxcmVtIDJyZW07XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuLmFkbWluLW1vZHVsZS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWYyZmQ7XHJcbn1cclxuXHJcbi51c2VyLW1vZHVsZS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWVlZmQ7XHJcbn1cclxuXHJcbiNvcHRpb25zLW1vZHVsZS1idXR0b24ge1xyXG4gIGhlaWdodDogNC4ycmVtO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWYyZmQ7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbiNkZWxldGUtb3B0aW9uIHtcclxuICBjb2xvcjogaW5kaWFucmVkO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utb3V0bGluZSAubWF0LWZvcm0tZmllbGQtb3V0bGluZSB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhpY2sge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lLm1hdC1mb3JtLWZpZWxkLWludmFsaWQubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGlja3tcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICBjYXJldC1jb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWludmFsaWQgLm1hdC1pbnB1dC1lbGVtZW50LCAubWF0LXdhcm4gLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICBjYXJldC1jb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcclxuICBjb2xvcjogcmdiYSgwLDAsMCwuNikhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n\\r\\n<button mat-button *ngIf=\\\"this.loginService.isAdmin\\\" class=\\\"tool new-module-button\\\" (click)=\\\"addModule()\\\">\\r\\n  <mat-icon>add</mat-icon>\\r\\n  Nuevo Módulo\\r\\n</button>\\r\\n\\r\\n<div id=\\\"module-search\\\">\\r\\n  <mat-form-field appearance=\\\"outline\\\" id=\\\"search\\\">\\r\\n    <mat-label>Buscar módulo</mat-label>\\r\\n    <input id=\\\"search-input\\\" matInput (keyup)=\\\"searchModule($event.target.value)\\\"/>\\r\\n  </mat-form-field>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modules-list center-align\\\">\\r\\n        <span *ngFor=\\\"let module of modulesResult\\\">\\r\\n          <button mat-button [ngClass]=\\\"loginService.isAdmin ? 'module-button admin-module-button' : 'module-button user-module-button'\\\" (click)=\\\"editModule(module.id)\\\">\\r\\n            {{module.name}}\\r\\n          </button>\\r\\n          <button id=\\\"options-module-button\\\" mat-button matTooltip=\\\"Opciones\\\" [matTooltipPosition]=\\\"optionInfoPosition\\\" [matMenuTriggerFor]=\\\"menu\\\">\\r\\n            <mat-icon>more_vert</mat-icon>\\r\\n          </button>\\r\\n          <mat-menu #menu=\\\"matMenu\\\">\\r\\n            <button mat-menu-item (click)=\\\"renameModule(module)\\\">Renombrar</button>\\r\\n            <button mat-menu-item>Copiar</button>\\r\\n            <button mat-menu-item id=\\\"delete-option\\\" (click)=\\\"deleteModule(module.id)\\\">Eliminar</button>\\r\\n          </mat-menu>\\r\\n        </span>\\r\\n</div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport {Unit} from '../../unit/unit.model';\r\nimport {UnitService} from '../../unit/unit.service';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {ConfirmActionComponent} from '../../confirmAction/confirm-action.component';\r\nimport {Module} from './module.model';\r\nimport {UnitModuleService} from './unit-module.service';\r\nimport {ModuleFormComponent} from './moduleForm/module-form.component';\r\nimport {ModuleRenameComponent} from \"./moduleRename/module-rename.component\";\r\nimport {ModuleService} from \"./module.service\";\r\n\r\n@Component({\r\n  selector: 'app-modules',\r\n  templateUrl: './module.component.html',\r\n  styleUrls: ['./module.component.css']\r\n})\r\n\r\nexport class ModuleComponent implements OnInit {\r\n\r\n  unit: Unit;\r\n  unitId: number;\r\n\r\n  modules: Module[];\r\n  modulesResult: Module[];\r\n\r\n  newModule: Module;\r\n\r\n  optionInfoPosition = 'after';\r\n\r\n  confirmText = 'Se eliminará el modulo permanentemente';\r\n  button1 = 'Cancelar';\r\n  button2 = 'Borrar';\r\n\r\n  constructor(private loginService: LoginService,\r\n              private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private unitService: UnitService,\r\n              private moduleService: ModuleService,\r\n              private unitModuleService: UnitModuleService,\r\n              public dialog: MatDialog) {\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.modules = [];\r\n    this.modulesResult = [];\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.unitId = params.unitId;\r\n    });\r\n\r\n    this.unitService.getUnit(this.unitId).subscribe((data: Unit) => {\r\n      this.unit = data;\r\n      this.modules = data.modules;\r\n      this.modulesResult = this.modules;\r\n    }, error => {console.log(error); });\r\n\r\n  }\r\n\r\n  editModule(moduleId: number) {\r\n    this.router.navigate(['/units/' + this.unitId + '/modules/' + moduleId]);\r\n  }\r\n\r\n  searchModule(value: string) {\r\n    this.modulesResult = [];\r\n    for (let result of this.modules) {\r\n      if (result.name.toLowerCase().includes(value.toLowerCase())) {\r\n        this.modulesResult.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  addModule(): void {\r\n    this.newModule = {name: ''};\r\n    const dialogRef = this.dialog.open(ModuleFormComponent, {\r\n      data: {itinerary: this.newModule}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.newModule = result;\r\n      if (typeof this.newModule !== 'undefined') {\r\n        if (this.newModule.name !== '') {\r\n          this.unitModuleService.addModule(this.unitId, this.newModule).subscribe((data) => {\r\n            this.router.navigate(['/units/' + this.unitId + '/modules/' + data.id]);\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteModule(moduleId: number) {\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {confirmText: this.confirmText, button1: this.button1, button2: this.button2}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result === 1) {\r\n        this.unitModuleService.deleteModule(this.unitId, moduleId).subscribe(() => {\r\n          this.ngOnInit();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  renameModule(module: Module) {\r\n    const dialogRef = this.dialog.open(ModuleRenameComponent, {\r\n      data: { name: module.name }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (typeof result !== 'undefined') {\r\n        if ((result !== '') && (result !== module.name)) {\r\n          module.name = result;\r\n          this.moduleService.updateModule(module).subscribe(() => {\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {Block} from '../block.model';\r\nimport {Module} from './module.model';\r\n\r\n@Injectable()\r\nexport class ModuleService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getModules() {\r\n    return this.http.get('/api/modules/');\r\n  }\r\n\r\n  getModule(id: number) {\r\n    return this.http.get('/api/modules/' + id);\r\n  }\r\n\r\n  updateModule(module: Module): Observable<Module> {\r\n    const body = JSON.stringify(module);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.put<Module>('/api/modules/' + module.id , body, {headers});\r\n  }\r\n\r\n  addBlock(moduleId: number, block: Block) {\r\n    const body = JSON.stringify(block);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<Block>('/api/modules/' + moduleId, body, { headers });\r\n  }\r\n\r\n  deleteBlock(moduleId: number, blockId: number) {\r\n    return this.http.delete('/api/modules/' + moduleId + '/blocks/' + blockId);\r\n  }\r\n\r\n}\r\n","module.exports = \".toolsBar {\\r\\n  height: 6.2rem;\\r\\n  padding-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.admin {\\r\\n  background-color: #5d306a;\\r\\n}\\r\\n\\r\\n.student {\\r\\n  background-color: #30376a;\\r\\n}\\r\\n\\r\\n.example-tree-invisible {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.example-tree ul,\\r\\n.example-tree li {\\r\\n  margin-top: 0;\\r\\n  margin-bottom: 0;\\r\\n  list-style-type: none;\\r\\n}\\r\\n\\r\\n.tab {\\r\\n  background-color: #7d3c90;\\r\\n  color: #ffffff;\\r\\n  padding: 0.3rem 0 0.3rem 3.5rem;\\r\\n  position: relative;\\r\\n  cursor: pointer;\\r\\n  width: 100%;\\r\\n  margin-bottom: 0.5rem;\\r\\n  text-align: left;\\r\\n  height: 3rem;\\r\\n}\\r\\n\\r\\n.tab:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.activeTab {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.tab-text {\\r\\n  margin-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.tab-icon {\\r\\n  position: absolute;\\r\\n  left: 1.37rem;\\r\\n  margin-top: 0.4rem;\\r\\n}\\r\\n\\r\\n.tab-icon-without-menu {\\r\\n  position: absolute;\\r\\n  left: 1.37rem;\\r\\n  top: 0.78rem;\\r\\n}\\r\\n\\r\\n#module-content {\\r\\n  margin-top: 2rem;\\r\\n  position: absolute;\\r\\n  right: 0;\\r\\n  padding-bottom: 2rem;\\r\\n}\\r\\n\\r\\n.with-menu {\\r\\n  width: calc(100% - 21.5rem);\\r\\n}\\r\\n\\r\\n.without-menu {\\r\\n  width: calc(100% - 6.2rem);\\r\\n}\\r\\n\\r\\n#lateral-panel {\\r\\n  position: fixed;\\r\\n  top: 3rem;\\r\\n  bottom: 0;\\r\\n  background-color: #30376a;\\r\\n  padding: 1rem;\\r\\n}\\r\\n\\r\\n#hide-menu-button {\\r\\n  z-index: 501;\\r\\n  top: 3rem;\\r\\n  position: fixed;\\r\\n  color: #ffffff;\\r\\n  padding: 0.8rem;\\r\\n  border-bottom-right-radius: 1rem;\\r\\n  border-top-right-radius: 1rem;\\r\\n  background-image: linear-gradient(to right, #30376a 0%, #202047 100%);\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.show-hide-menu-button {\\r\\n  left: calc(21rem);\\r\\n}\\r\\n\\r\\n.hidden-hide-menu-button {\\r\\n  left: calc(5.2rem);\\r\\n}\\r\\n\\r\\n.left-zero {\\r\\n  width: 20rem;\\r\\n}\\r\\n\\r\\n.hidden-menu {\\r\\n  width: 4.2rem;\\r\\n}\\r\\n\\r\\n#top-panel {\\r\\n  position: fixed;\\r\\n  top: 3rem;\\r\\n  right: 0;\\r\\n  height: 2.5rem;\\r\\n  z-index: 500;\\r\\n  background-color: #5d306a;\\r\\n  text-align: right;\\r\\n  padding: 0.3rem 0 0.3rem 0;\\r\\n}\\r\\n\\r\\n.menu-margin{\\r\\n  margin-left:2rem\\r\\n}\\r\\n\\r\\n.index-tree{\\r\\n  background: none;\\r\\n  height: 100%;\\r\\n  overflow-y: scroll;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar {\\r\\n  width: 0px;  /* Remove scrollbar space */\\r\\n  background: transparent;  /* Optional: just make scrollbar invisible */\\r\\n}\\r\\n\\r\\n.white-text{\\r\\n  color: white;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.white-text:hover{\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\nli {\\r\\n  list-style-type: none;\\r\\n}\\r\\n\\r\\n.lesson-button {\\r\\n  margin: 0.5rem;\\r\\n}\\r\\n\\r\\n.lesson-view-button {\\r\\n  margin-left: 2rem;\\r\\n  top: 0.75rem;\\r\\n  position: absolute;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.add-block-button {\\r\\n  background-color: #5d306a;\\r\\n  color: white;\\r\\n  margin-left: 1rem;\\r\\n}\\r\\n\\r\\n.delete-block-button {\\r\\n  background-color: indianred;\\r\\n  color: white;\\r\\n  margin-left: 1rem;\\r\\n}\\r\\n\\r\\n.lesson {\\r\\n  margin-left: 3rem;\\r\\n}\\r\\n\\r\\n.title {\\r\\n  top: -0.3rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGVFZGl0b3IvbW9kdWxlLWVkaXRvci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTs7RUFFRSxhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2QsK0JBQStCO0VBQy9CLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsV0FBVztFQUNYLHFCQUFxQjtFQUNyQixnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGVBQWU7RUFDZixTQUFTO0VBQ1QsU0FBUztFQUNULHlCQUF5QjtFQUN6QixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxZQUFZO0VBQ1osU0FBUztFQUNULGVBQWU7RUFDZixjQUFjO0VBQ2QsZUFBZTtFQUNmLGdDQUFnQztFQUNoQyw2QkFBNkI7RUFDN0IscUVBQXFFO0VBQ3JFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsU0FBUztFQUNULFFBQVE7RUFDUixjQUFjO0VBQ2QsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0U7QUFDRjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVSxHQUFHLDJCQUEyQjtFQUN4Qyx1QkFBdUIsR0FBRyw0Q0FBNEM7QUFDeEU7O0FBRUE7RUFDRSxZQUFZO0VBQ1osZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsWUFBWTtFQUNaLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvYXBwL2l0aW5lcmFyeS9tb2R1bGUvbW9kdWxlRWRpdG9yL21vZHVsZS1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b29sc0JhciB7XHJcbiAgaGVpZ2h0OiA2LjJyZW07XHJcbiAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbn1cclxuXHJcbi5hZG1pbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzVkMzA2YTtcclxufVxyXG5cclxuLnN0dWRlbnQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMDM3NmE7XHJcbn1cclxuXHJcbi5leGFtcGxlLXRyZWUtaW52aXNpYmxlIHtcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uZXhhbXBsZS10cmVlIHVsLFxyXG4uZXhhbXBsZS10cmVlIGxpIHtcclxuICBtYXJnaW4tdG9wOiAwO1xyXG4gIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG59XHJcblxyXG4udGFiIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2QzYzkwO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDAuM3JlbSAwIDAuM3JlbSAzLjVyZW07XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxuICBoZWlnaHQ6IDNyZW07XHJcbn1cclxuXHJcbi50YWI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhNzY5Yjg7XHJcbn1cclxuXHJcbi5hY3RpdmVUYWIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhNzY5Yjg7XHJcbn1cclxuXHJcbi50YWItdGV4dCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxufVxyXG5cclxuLnRhYi1pY29uIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMS4zN3JlbTtcclxuICBtYXJnaW4tdG9wOiAwLjRyZW07XHJcbn1cclxuXHJcbi50YWItaWNvbi13aXRob3V0LW1lbnUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBsZWZ0OiAxLjM3cmVtO1xyXG4gIHRvcDogMC43OHJlbTtcclxufVxyXG5cclxuI21vZHVsZS1jb250ZW50IHtcclxuICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMDtcclxuICBwYWRkaW5nLWJvdHRvbTogMnJlbTtcclxufVxyXG5cclxuLndpdGgtbWVudSB7XHJcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDIxLjVyZW0pO1xyXG59XHJcblxyXG4ud2l0aG91dC1tZW51IHtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gNi4ycmVtKTtcclxufVxyXG5cclxuI2xhdGVyYWwtcGFuZWwge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB0b3A6IDNyZW07XHJcbiAgYm90dG9tOiAwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMDM3NmE7XHJcbiAgcGFkZGluZzogMXJlbTtcclxufVxyXG5cclxuI2hpZGUtbWVudS1idXR0b24ge1xyXG4gIHotaW5kZXg6IDUwMTtcclxuICB0b3A6IDNyZW07XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDAuOHJlbTtcclxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMXJlbTtcclxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMXJlbTtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMzMDM3NmEgMCUsICMyMDIwNDcgMTAwJSk7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uc2hvdy1oaWRlLW1lbnUtYnV0dG9uIHtcclxuICBsZWZ0OiBjYWxjKDIxcmVtKTtcclxufVxyXG5cclxuLmhpZGRlbi1oaWRlLW1lbnUtYnV0dG9uIHtcclxuICBsZWZ0OiBjYWxjKDUuMnJlbSk7XHJcbn1cclxuXHJcbi5sZWZ0LXplcm8ge1xyXG4gIHdpZHRoOiAyMHJlbTtcclxufVxyXG5cclxuLmhpZGRlbi1tZW51IHtcclxuICB3aWR0aDogNC4ycmVtO1xyXG59XHJcblxyXG4jdG9wLXBhbmVsIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAzcmVtO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGhlaWdodDogMi41cmVtO1xyXG4gIHotaW5kZXg6IDUwMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWQzMDZhO1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIHBhZGRpbmc6IDAuM3JlbSAwIDAuM3JlbSAwO1xyXG59XHJcblxyXG4ubWVudS1tYXJnaW57XHJcbiAgbWFyZ2luLWxlZnQ6MnJlbVxyXG59XHJcblxyXG4uaW5kZXgtdHJlZXtcclxuICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gIHdpZHRoOiAwcHg7ICAvKiBSZW1vdmUgc2Nyb2xsYmFyIHNwYWNlICovXHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7ICAvKiBPcHRpb25hbDoganVzdCBtYWtlIHNjcm9sbGJhciBpbnZpc2libGUgKi9cclxufVxyXG5cclxuLndoaXRlLXRleHR7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLndoaXRlLXRleHQ6aG92ZXJ7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbmxpIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbn1cclxuXHJcbi5sZXNzb24tYnV0dG9uIHtcclxuICBtYXJnaW46IDAuNXJlbTtcclxufVxyXG5cclxuLmxlc3Nvbi12aWV3LWJ1dHRvbiB7XHJcbiAgbWFyZ2luLWxlZnQ6IDJyZW07XHJcbiAgdG9wOiAwLjc1cmVtO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2stYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWQzMDZhO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBtYXJnaW4tbGVmdDogMXJlbTtcclxufVxyXG5cclxuLmRlbGV0ZS1ibG9jay1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGluZGlhbnJlZDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgbWFyZ2luLWxlZnQ6IDFyZW07XHJcbn1cclxuXHJcbi5sZXNzb24ge1xyXG4gIG1hcmdpbi1sZWZ0OiAzcmVtO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gIHRvcDogLTAuM3JlbTtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <!-- TOOLS BAR -->\\r\\n    <div *ngIf=\\\"loginService.isLogged\\\" [ngClass]=\\\"loginService.isAdmin ? 'toolsBar admin' : 'toolsBar student'\\\"></div>\\r\\n\\r\\n    <div *ngIf=\\\"!loginService.isAdmin\\\">\\r\\n      <div id=\\\"lateral-panel\\\" [ngClass]=\\\"showMenu ? 'left-zero' : 'hidden-menu'\\\" *ngIf=\\\"!this.loginService.isAdmin\\\">\\r\\n        <mat-tree #tree [dataSource]=\\\"dataSource\\\" [treeControl]=\\\"indexTreeControl\\\" class=\\\"index-tree\\\">\\r\\n          <!-- This is the tree node template for leaf nodes -->\\r\\n          <mat-tree-node *matTreeNodeDef=\\\"let node\\\" matTreeNodeToggle>\\r\\n            <li class=\\\"mat-tree-node white-text\\\" (click)=\\\"expandNode(node)\\\">\\r\\n              <!-- use a disabled button to provide padding for tree leaf -->\\r\\n              <button mat-icon-button disabled></button>\\r\\n              {{node?.name}}\\r\\n            </li>\\r\\n          </mat-tree-node>\\r\\n          <!-- This is the tree node template for expandable nodes -->\\r\\n          <mat-nested-tree-node *matTreeNodeDef=\\\"let node; when: hasChild\\\">\\r\\n            <li>\\r\\n              <div class=\\\"mat-tree-node white-text\\\" (click)=\\\"expandNode(node)\\\">\\r\\n                <button mat-icon-button disabled></button>\\r\\n                {{node?.name}}\\r\\n              </div>\\r\\n              <ul [class.example-tree-invisible]=\\\"!indexTreeControl.isExpanded(node)\\\">\\r\\n                <ng-container matTreeNodeOutlet></ng-container>\\r\\n              </ul>\\r\\n            </li>\\r\\n          </mat-nested-tree-node>\\r\\n        </mat-tree>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"module-content\\\" [ngClass]=\\\"showMenu ? 'with-menu' : 'without-menu'\\\">\\r\\n      <h1 class=\\\"menu-margin\\\">{{module?.name}}\\r\\n        <button *ngIf=\\\"loginService.isAdmin\\\" mat-icon-button class=\\\"add-block-button title\\\" (click)=\\\"addBlock(module)\\\" matTooltip=\\\"Añadir bloque\\\" [matTooltipPosition]=\\\"optionInfoPosition\\\"><mat-icon>add</mat-icon></button>\\r\\n      </h1>\\r\\n      <mat-tree [dataSource]=\\\"dataSource\\\" [treeControl]=\\\"treeControl\\\" class=\\\"example-tree menu-margin\\\">\\r\\n        <!-- This is the tree node template for leaf nodes -->\\r\\n        <mat-tree-node *matTreeNodeDef=\\\"let node1\\\" matTreeNodeToggle>\\r\\n          <li class=\\\"mat-tree-node\\\" id=\\\"{{node1.name}}\\\">\\r\\n            <!-- use a disabled button to provide padding for tree leaf -->\\r\\n            <button mat-icon-button disabled></button>\\r\\n            <mat-card class=\\\"lesson-button\\\">\\r\\n              {{node1?.name}} <mat-icon class=\\\"lesson-view-button\\\" (click)=\\\"viewLesson(node1.id)\\\" matTooltip=\\\"Ver lección\\\" [matTooltipPosition]=\\\"viewLessonPosition\\\">subscriptions</mat-icon>\\r\\n            </mat-card>\\r\\n            <button *ngIf=\\\"loginService.isAdmin\\\" mat-icon-button class=\\\"delete-block-button lesson\\\" (click)=\\\"deleteBlock(node1, node1?.id)\\\" matTooltip=\\\"Eliminar\\\" [matTooltipPosition]=\\\"optionInfoPosition\\\"><mat-icon>delete</mat-icon></button>\\r\\n          </li>\\r\\n        </mat-tree-node>\\r\\n        <!-- This is the tree node template for expandable nodes -->\\r\\n        <mat-nested-tree-node *matTreeNodeDef=\\\"let node2; when: hasChild\\\">\\r\\n          <li id=\\\"{{node2.name}}\\\">\\r\\n            <div class=\\\"mat-tree-node\\\">\\r\\n              <button mat-icon-button matTreeNodeToggle\\r\\n                      [attr.aria-label]=\\\"'toggle ' + node2?.name\\\">\\r\\n                <mat-icon class=\\\"mat-icon-rtl-mirror\\\">\\r\\n                  {{treeControl.isExpanded(node2) ? 'expand_more' : 'chevron_right'}}\\r\\n                </mat-icon>\\r\\n              </button>\\r\\n              <h3>{{node2?.name}}</h3>\\r\\n              <button *ngIf=\\\"loginService.isAdmin\\\" mat-icon-button class=\\\"add-block-button\\\" (click)=\\\"addBlock(node2)\\\" matTooltip=\\\"Añadir bloque\\\" [matTooltipPosition]=\\\"optionInfoPosition\\\"><mat-icon>add</mat-icon></button>\\r\\n              <button *ngIf=\\\"loginService.isAdmin\\\" mat-icon-button class=\\\"delete-block-button\\\" (click)=\\\"deleteBlock(node2, node2?.id)\\\" matTooltip=\\\"Eliminar\\\" [matTooltipPosition]=\\\"optionInfoPosition\\\"><mat-icon>delete</mat-icon></button>\\r\\n            </div>\\r\\n            <ul [class.example-tree-invisible]=\\\"!treeControl.isExpanded(node2)\\\">\\r\\n              <ng-container matTreeNodeOutlet></ng-container>\\r\\n            </ul>\\r\\n          </li>\\r\\n        </mat-nested-tree-node>\\r\\n      </mat-tree>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import { Unit } from '../../../unit/unit.model';\r\nimport {Component, Inject, OnInit, ViewChild} from '@angular/core';\r\nimport { TdDialogService } from '@covalent/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport {MatBottomSheet} from '@angular/material/bottom-sheet';\r\nimport {NestedTreeControl} from '@angular/cdk/tree';\r\nimport {MatTreeFlattener, MatTreeNestedDataSource} from '@angular/material/tree';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nimport {Module} from '../module.model';\r\n\r\nimport { LoginService } from '../../../auth/login.service';\r\nimport { UnitService } from '../../../unit/unit.service';\r\nimport {TabService} from '../../../tab/tab.service';\r\nimport {ModuleService} from '../module.service';\r\nimport {CourseService} from '../../../course/course.service';\r\nimport {Course} from '../../../course/course.model';\r\nimport {UnitsBlocksToolComponent} from './units-blocks-tool.component';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Block} from '../../block.model';\r\nimport {ConfirmActionComponent} from '../../../confirmAction/confirm-action.component';\r\n\r\n@Component({\r\n  selector: 'app-module-editor',\r\n  templateUrl: './module-editor.component.html',\r\n  styleUrls: ['./module-editor.component.css']\r\n})\r\n\r\nexport class ModuleEditorComponent implements OnInit {\r\n\r\n  @ViewChild('tree') tree;\r\n\r\n  unitId: number;\r\n  courseId: number;\r\n\r\n  module: Module;\r\n  moduleId: number;\r\n\r\n  treeControl = new NestedTreeControl<Module>(node => !!node && node.blocks);\r\n  indexTreeControl = new NestedTreeControl<Module>(node => !!node && node.blocks);\r\n  dataSource = new MatTreeNestedDataSource<Module>();\r\n\r\n  table: Map<Block, number>;\r\n\r\n  showMenu: boolean;\r\n  activeTab = 0;\r\n\r\n  viewLessonPosition = 'after';\r\n  optionInfoPosition = 'after';\r\n\r\n  confirmText = 'Se eliminará el modulo permanentemente';\r\n  confirmText2 = 'Se eliminará permanentemente';\r\n  button1 = 'Cancelar';\r\n  button2 = 'Borrar';\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private dialogService: TdDialogService,\r\n              private loginService: LoginService,\r\n              private unitService: UnitService,\r\n              private bottomSheet: MatBottomSheet,\r\n              private tabService: TabService,\r\n              private moduleService: ModuleService,\r\n              private courseService: CourseService,\r\n              @Inject(DOCUMENT) document,\r\n              public dialog: MatDialog) {}\r\n\r\n  ngOnInit() {\r\n    this.table = new Map<Block, number>();\r\n    this.activatedRoute.params.subscribe(params => {\r\n      if (this.loginService.isAdmin) {\r\n        this.showMenu = false;\r\n      } else {\r\n        this.showMenu = true;\r\n      }\r\n      this.unitId = params.unitId;\r\n      this.courseId = params.courseId;\r\n      this.moduleId = params.moduleId;\r\n      this.moduleService.getModule(this.moduleId).subscribe((module: Module) => {\r\n        this.module = module;\r\n        this.dataSource.data = this.module.blocks;\r\n\r\n        for (let block of this.module.blocks) {\r\n          this.completeTable(block, this.module.id);\r\n        }\r\n\r\n        this.indexTreeControl.dataNodes = this.dataSource.data;\r\n        this.indexTreeControl.expandAll();\r\n\r\n        if (this.unitId !== undefined) {\r\n          this.unitService.getUnit(this.unitId).subscribe((unit: Unit) => {\r\n            this.tabService.setUnitModule(unit.name, this.unitId, module.name, module.id);\r\n          });\r\n        } else {\r\n          this.courseService.getCourse(this.courseId).subscribe((course: Course) => {\r\n            this.tabService.setCourseModule(course.module.id, course.id, course.name);\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  hasChild = (_: number, node: Module) => !!node && !!node.blocks && node.blocks.length > 0;\r\n\r\n  completeTable(block: Block, id: number) {\r\n    if (typeof (block as Module).blocks !== 'undefined') {\r\n      for (let b of (block as Module).blocks) {\r\n        this.completeTable(b, block.id);\r\n        this.table.set(block, id);\r\n      }\r\n    } else {\r\n      this.table.set(block, id);\r\n    }\r\n  }\r\n\r\n  expandNode(node: Module) {\r\n    this.expandParents(this.module, node.id);\r\n    this.treeControl.expand(node);\r\n    window.scrollTo(document.getElementById(node.name).offsetLeft, document.getElementById(node.name).offsetTop);\r\n  }\r\n\r\n  expandParents(node: Module, id: number) {\r\n    if (node.id === id) {\r\n      this.treeControl.expand(node);\r\n      return true;\r\n    } else {\r\n      if (node.blocks !== undefined) {\r\n        for (let module of node.blocks) {\r\n          if (this.expandParents(module, id)) {\r\n            this.treeControl.expand(node);\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  viewLesson(lessonId: number) {\r\n    if (this.loginService.isAdmin) {\r\n      this.router.navigate(['/units/' + this.unitId + '/modules/' + this.moduleId + '/lessons/' + lessonId]);\r\n    } else {\r\n      this.router.navigate(['/units/' + this.courseId + '/modules/' + this.moduleId + '/lessons/' + lessonId]);\r\n    }\r\n  }\r\n\r\n  addBlock(node: Module): void {\r\n    this.bottomSheet.open(UnitsBlocksToolComponent, {\r\n      data: node,\r\n    }).afterDismissed().subscribe( () => {\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n\r\n  deleteBlock(node: Module, id: number) {\r\n    const parrentId = this.table.get(node);\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {confirmText: this.confirmText2, button1: this.button1, button2: this.button2}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result === 1) {\r\n        this.moduleService.deleteBlock(parrentId, id).subscribe(() => {\r\n          this.ngOnInit();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"#searcher {\\r\\n  margin-left: 30%;\\r\\n}\\r\\n\\r\\n.card {\\r\\n  margin-bottom: 1rem;\\r\\n  margin-top: 1rem;\\r\\n}\\r\\n\\r\\n.cardin {\\r\\n  margin: 0.5rem;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-invalid .mat-input-element, .mat-warn .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-label {\\r\\n  color: rgba(0,0,0,.6)!important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGVFZGl0b3IvdW5pdHMtYmxvY2tzLXRvb2wuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCIiwiZmlsZSI6InNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGVFZGl0b3IvdW5pdHMtYmxvY2tzLXRvb2wuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNzZWFyY2hlciB7XHJcbiAgbWFyZ2luLWxlZnQ6IDMwJTtcclxufVxyXG5cclxuLmNhcmQge1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxufVxyXG5cclxuLmNhcmRpbiB7XHJcbiAgbWFyZ2luOiAwLjVyZW07XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lIHtcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utb3V0bGluZS5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtb3V0bGluZS10aGljayB7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUubWF0LWZvcm0tZmllbGQtaW52YWxpZC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNre1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWlucHV0LWVsZW1lbnQge1xyXG4gIGNhcmV0LWNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWlucHV0LWVsZW1lbnQsIC5tYXQtd2FybiAubWF0LWlucHV0LWVsZW1lbnQge1xyXG4gIGNhcmV0LWNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xyXG4gIGNvbG9yOiByZ2JhKDAsMCwwLC42KSFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb3JtLWZpZWxkLWludmFsaWQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsIHtcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <mat-form-field id=\\\"searcher\\\">\\r\\n      <input matInput (keyup)=\\\"applyFilterUnits($event.target.value)\\\" placeholder=\\\"Nombre de la unidad\\\">\\r\\n    </mat-form-field>\\r\\n\\r\\n    <mat-accordion *ngFor = \\\"let unit of this.unitsResult\\\">\\r\\n      <mat-expansion-panel class=\\\"card\\\">\\r\\n        <mat-expansion-panel-header>\\r\\n          <mat-panel-title>\\r\\n            {{unit.name}}\\r\\n          </mat-panel-title>\\r\\n        </mat-expansion-panel-header>\\r\\n        <mat-tab-group>\\r\\n          <mat-tab *ngIf=\\\"unit.lessons.length > 0 && this.data != undefined\\\" label=\\\"Lecciones\\\">\\r\\n            <div *ngFor = \\\"let lesson of unit.lessons\\\">\\r\\n              <mat-card class=\\\"cardin\\\">\\r\\n                {{lesson.name}}\\r\\n                <button mat-icon-button matTooltip=\\\"Añadir\\\" [matTooltipPosition]=\\\"copyInfoPosition\\\"\\r\\n                      (click)=\\\"addBlockInToModule($event, lesson)\\\" *ngIf=\\\"this.data != undefined\\\">\\r\\n                  <mat-icon>add</mat-icon>\\r\\n                </button>\\r\\n                <button mat-icon-button matTooltip=\\\"Añadir\\\" [matTooltipPosition]=\\\"copyInfoPosition\\\"\\r\\n                        (click)=\\\"addModuleIntoCourse($event, lesson)\\\" *ngIf=\\\"this.data == undefined\\\">\\r\\n                  <mat-icon>add</mat-icon>\\r\\n                </button>\\r\\n              </mat-card>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n          <mat-tab *ngIf=\\\"unit.modules.length > 0\\\" label=\\\"Módulos\\\">\\r\\n            <div *ngFor = \\\"let module of unit.modules\\\">\\r\\n              <mat-card class=\\\"cardin\\\">\\r\\n                {{module.name}}\\r\\n                <button mat-icon-button matTooltip=\\\"Añadir\\\" [matTooltipPosition]=\\\"copyInfoPosition\\\"\\r\\n                        (click)=\\\"addBlockInToModule($event, module)\\\" *ngIf=\\\"this.data != undefined\\\">\\r\\n                  <mat-icon>add</mat-icon>\\r\\n                </button>\\r\\n                <button mat-icon-button matTooltip=\\\"Añadir\\\" [matTooltipPosition]=\\\"copyInfoPosition\\\"\\r\\n                        (click)=\\\"addModuleIntoCourse($event, module)\\\" *ngIf=\\\"this.data == undefined\\\">\\r\\n                  <mat-icon>add</mat-icon>\\r\\n                </button>\\r\\n              </mat-card>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n        </mat-tab-group>\\r\\n      </mat-expansion-panel>\\r\\n    </mat-accordion>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Component, Inject, OnInit, Optional} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Unit} from '../../../unit/unit.model';\r\nimport {UnitService} from '../../../unit/unit.service';\r\nimport {MAT_BOTTOM_SHEET_DATA, MatBottomSheetRef} from '@angular/material/bottom-sheet';\r\nimport { ClipboardService } from 'ngx-clipboard';\r\nimport {Block} from '../../block.model';\r\nimport {ModuleService} from '../module.service';\r\n\r\n\r\n@Component({\r\n  templateUrl: './units-blocks-tool.component.html',\r\n  styleUrls: ['./units-blocks-tool.component.css']\r\n})\r\n\r\nexport class UnitsBlocksToolComponent implements OnInit {\r\n\r\n  units: Unit[];\r\n  unitsResult: Unit[];\r\n\r\n  copyInfoPosition = 'after';\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private unitService: UnitService,\r\n              private moduleService: ModuleService,\r\n              private bottomSheetRef: MatBottomSheetRef<UnitsBlocksToolComponent>,\r\n              private clipboardService: ClipboardService,\r\n              @Optional() @Inject(MAT_BOTTOM_SHEET_DATA) public data: any) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.unitService.getUnits().subscribe((data: Unit[]) => {\r\n      this.units = [];\r\n      this.unitsResult = [];\r\n      data.forEach((unit: Unit) => {\r\n        this.units.push({\r\n          id: unit.id,\r\n          name: unit.name,\r\n          lessons: unit.lessons,\r\n          modules: unit.modules\r\n        });\r\n        this.unitsResult = this.units;\r\n      });\r\n    });\r\n  }\r\n\r\n  applyFilterUnits(value: string) {\r\n    this.unitsResult = [];\r\n    for (let result of this.units) {\r\n      if (result.name.toLowerCase().includes(value.toLowerCase())) {\r\n        this.unitsResult.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  addBlockInToModule(event: MouseEvent, block: Block): void {\r\n    if (!this.data.parentsId.includes(block.id)) {\r\n      this.moduleService.addBlock(this.data.id, block).subscribe( () => {\r\n        this.bottomSheetRef.dismiss();\r\n        event.preventDefault();\r\n      });\r\n    } else {\r\n      console.log('No se puede añadir');\r\n    }\r\n  }\r\n\r\n  addModuleIntoCourse(event: MouseEvent, block: Block) {\r\n    this.bottomSheetRef.dismiss(block);\r\n    event.preventDefault();\r\n  }\r\n\r\n}\r\n","module.exports = \".addItinerary-button {\\r\\n  background-color: #7d3c90;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.itinerary-form {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.itinerary-form-buttons {\\r\\n  margin-left: 5.5rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGVGb3JtL21vZHVsZS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGVGb3JtL21vZHVsZS1mb3JtLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRkSXRpbmVyYXJ5LWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdkM2M5MDtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5pdGluZXJhcnktZm9ybSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uaXRpbmVyYXJ5LWZvcm0tYnV0dG9ucyB7XHJcbiAgbWFyZ2luLWxlZnQ6IDUuNXJlbTtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n\\r\\n  <div class=\\\"itinerary-form\\\">\\r\\n    <h1 mat-dialog-title>NUEVO MÓDULO</h1>\\r\\n    <div mat-dialog-content>\\r\\n      <mat-form-field>\\r\\n        <mat-label>Nombre del módulo</mat-label>\\r\\n        <input matInput [(ngModel)]=\\\"data.itinerary.name\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div mat-dialog-actions class=\\\"itinerary-form-buttons\\\">\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\">Cancelar</button>\\r\\n      <button mat-button class=\\\"addItinerary-button\\\" [mat-dialog-close]=\\\"data.itinerary\\\" cdkFocusInitial>Añadir</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {UnitComponent} from '../../../unit/unit.component';\r\nimport {Module} from '../module.model';\r\n\r\nexport interface DialogData {\r\n  itinerary: Module;\r\n}\r\n\r\n@Component({\r\n  templateUrl: './module-form.component.html',\r\n  styleUrls: ['./module-form.component.css']\r\n})\r\n\r\nexport class ModuleFormComponent {\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<UnitComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","module.exports = \"#dialog {\\r\\n  padding: 1rem 2rem 1rem 2rem;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n#info {\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n#discard-button {\\r\\n  background-color: #f9c4c4;\\r\\n  margin-left: 1.5rem;\\r\\n  margin-right: 1.5rem;\\r\\n}\\r\\n\\r\\n#discard-button:hover {\\r\\n  background-color: #e4b3b3;\\r\\n}\\r\\n\\r\\n#save-button {\\r\\n  background-color: #e7e3f9;\\r\\n  margin-left: 1.5rem;\\r\\n  margin-right: 1.5rem;\\r\\n}\\r\\n\\r\\n#save-button {\\r\\n  background-color: #d7d4e8;\\r\\n}\\r\\n\\r\\n#courseName {\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRpbmVyYXJ5L21vZHVsZS9tb2R1bGVSZW5hbWUvbW9kdWxlLXJlbmFtZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsNEJBQTRCO0VBQzVCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9pdGluZXJhcnkvbW9kdWxlL21vZHVsZVJlbmFtZS9tb2R1bGUtcmVuYW1lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGlhbG9nIHtcclxuICBwYWRkaW5nOiAxcmVtIDJyZW0gMXJlbSAycmVtO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuI2luZm8ge1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbiNkaXNjYXJkLWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5YzRjNDtcclxuICBtYXJnaW4tbGVmdDogMS41cmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMS41cmVtO1xyXG59XHJcblxyXG4jZGlzY2FyZC1idXR0b246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNGIzYjM7XHJcbn1cclxuXHJcbiNzYXZlLWJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTNmOTtcclxuICBtYXJnaW4tbGVmdDogMS41cmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMS41cmVtO1xyXG59XHJcblxyXG4jc2F2ZS1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNkN2Q0ZTg7XHJcbn1cclxuXHJcbiNjb3Vyc2VOYW1lIHtcclxuICBtYXJnaW4tYm90dG9tOiAycmVtO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<div id=\\\"dialog\\\">\\r\\n  <input matInput id=\\\"courseName\\\" [(ngModel)]=\\\"data.name\\\" placeholder=\\\"{{data.name}}\\\"/>\\r\\n  <button id=\\\"save-button\\\" mat-button (click)=\\\"saveChanges()\\\">Guardar</button>\\r\\n  <button id=\\\"discard-button\\\" mat-button (click)=\\\"onNoClick()\\\">Cancelar</button>\\r\\n</div>\\r\\n\"","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Component, Inject} from '@angular/core';\r\n\r\nexport interface DialogData {\r\n  name: string;\r\n}\r\n\r\n@Component({\r\n  templateUrl: 'module-rename.component.html',\r\n  styleUrls: ['./module-rename.component.css']\r\n})\r\n\r\nexport class ModuleRenameComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<ModuleRenameComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\r\n\r\n  onNoClick() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  saveChanges() {\r\n    this.dialogRef.close(this.data.name);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {Module} from './module.model';\r\n\r\n@Injectable()\r\nexport class UnitModuleService {\r\n\r\n  baseUrl = '/api/units/';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  addModule(unitId: number, module: Module) {\r\n    const body = JSON.stringify(module);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<Module>(this.baseUrl + unitId + '/modules', body, { headers });\r\n  }\r\n\r\n  deleteModule(unitId: number, moduleId: number) {\r\n    return this.http.delete<Module>(this.baseUrl + unitId + '/modules/' + moduleId);\r\n  }\r\n\r\n}\r\n","module.exports = \"#login-container {\\r\\n  text-align: center;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  margin-left: -14rem;\\r\\n  padding: 2rem;\\r\\n  width: 24rem;\\r\\n  border-radius: 0.2rem;\\r\\n  background-color: rgba(228, 229, 255, 0.5);\\r\\n  z-index: 100;\\r\\n  margin-top: 10rem;\\r\\n}\\r\\n\\r\\n#login-user, #login-password, #login-button {\\r\\n  margin: 2rem;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes move_wave {\\r\\n  0% {\\r\\n    transform: translateX(0) translateZ(0) scaleY(1)\\r\\n  }\\r\\n  50% {\\r\\n    transform: translateX(-25%) translateZ(0) scaleY(0.55)\\r\\n  }\\r\\n  100% {\\r\\n    transform: translateX(-50%) translateZ(0) scaleY(1)\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes move_wave {\\r\\n  0% {\\r\\n    transform: translateX(0) translateZ(0) scaleY(1)\\r\\n  }\\r\\n  50% {\\r\\n    transform: translateX(-25%) translateZ(0) scaleY(0.55)\\r\\n  }\\r\\n  100% {\\r\\n    transform: translateX(-50%) translateZ(0) scaleY(1)\\r\\n  }\\r\\n}\\r\\n\\r\\n.waveWrapper {\\r\\n  overflow: hidden;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  bottom: 80%;\\r\\n  top: 0;\\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n.waveWrapperInner {\\r\\n  position: absolute;\\r\\n  width: 100%;\\r\\n  overflow: hidden;\\r\\n  height: 100%;\\r\\n  background-image: linear-gradient(to top, rgba(213, 230, 255, 0.5) 20%, rgba(55, 32, 113, 0.53) 80%);\\r\\n}\\r\\n\\r\\n.bgTop {\\r\\n  z-index: 15;\\r\\n  opacity: 0.5;\\r\\n}\\r\\n\\r\\n.bgMiddle {\\r\\n  z-index: 10;\\r\\n  opacity: 0.75;\\r\\n}\\r\\n\\r\\n.bgBottom {\\r\\n  z-index: 5;\\r\\n}\\r\\n\\r\\n.wave {\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  width: 200%;\\r\\n  height: 100%;\\r\\n  background-repeat: repeat no-repeat;\\r\\n  background-position: 0 bottom;\\r\\n  transform-origin: center bottom;\\r\\n}\\r\\n\\r\\n.waveTop {\\r\\n  background-size: 50% 100px;\\r\\n}\\r\\n\\r\\n.waveAnimation .waveTop {\\r\\n  animation: move-wave 9s;\\r\\n  -webkit-animation: move-wave 9s;\\r\\n  -webkit-animation-delay: 3s;\\r\\n  animation-delay: 3s;\\r\\n}\\r\\n\\r\\n.waveMiddle {\\r\\n  background-size: 50% 120px;\\r\\n}\\r\\n\\r\\n.waveAnimation .waveMiddle {\\r\\n  -webkit-animation: move_wave 30s linear infinite;\\r\\n          animation: move_wave 30s linear infinite;\\r\\n}\\r\\n\\r\\n.waveBottom {\\r\\n  background-size: 50% 100px;\\r\\n}\\r\\n\\r\\n.waveAnimation .waveBottom {\\r\\n  -webkit-animation: move_wave 45s linear infinite;\\r\\n          animation: move_wave 45s linear infinite;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsU0FBUztFQUNULG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsWUFBWTtFQUNaLHFCQUFxQjtFQUNyQiwwQ0FBMEM7RUFDMUMsWUFBWTtFQUNaLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFO0lBQ0U7RUFDRjtFQUNBO0lBQ0U7RUFDRjtFQUNBO0lBQ0U7RUFDRjtBQUNGOztBQVZBO0VBQ0U7SUFDRTtFQUNGO0VBQ0E7SUFDRTtFQUNGO0VBQ0E7SUFDRTtFQUNGO0FBQ0Y7O0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLE9BQU87RUFDUCxRQUFRO0VBQ1IsV0FBVztFQUNYLE1BQU07RUFDTixZQUFZO0FBQ2Q7O0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osb0dBQW9HO0FBQ3RHOztBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFDQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0FBQ2Y7O0FBQ0E7RUFDRSxVQUFVO0FBQ1o7O0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsT0FBTztFQUNQLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUNBQW1DO0VBQ25DLDZCQUE2QjtFQUM3QiwrQkFBK0I7QUFDakM7O0FBQ0E7RUFDRSwwQkFBMEI7QUFDNUI7O0FBQ0E7RUFDRSx1QkFBdUI7RUFDdkIsK0JBQStCO0VBQy9CLDJCQUEyQjtFQUMzQixtQkFBbUI7QUFDckI7O0FBQ0E7RUFDRSwwQkFBMEI7QUFDNUI7O0FBQ0E7RUFDRSxnREFBd0M7VUFBeEMsd0NBQXdDO0FBQzFDOztBQUNBO0VBQ0UsMEJBQTBCO0FBQzVCOztBQUNBO0VBQ0UsZ0RBQXdDO1VBQXhDLHdDQUF3QztBQUMxQyIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbG9naW4tY29udGFpbmVyIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6IDUwJTtcclxuICBtYXJnaW4tbGVmdDogLTE0cmVtO1xyXG4gIHBhZGRpbmc6IDJyZW07XHJcbiAgd2lkdGg6IDI0cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDAuMnJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIyOCwgMjI5LCAyNTUsIDAuNSk7XHJcbiAgei1pbmRleDogMTAwO1xyXG4gIG1hcmdpbi10b3A6IDEwcmVtO1xyXG59XHJcblxyXG4jbG9naW4tdXNlciwgI2xvZ2luLXBhc3N3b3JkLCAjbG9naW4tYnV0dG9uIHtcclxuICBtYXJnaW46IDJyZW07XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbW92ZV93YXZlIHtcclxuICAwJSB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCkgdHJhbnNsYXRlWigwKSBzY2FsZVkoMSlcclxuICB9XHJcbiAgNTAlIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMjUlKSB0cmFuc2xhdGVaKDApIHNjYWxlWSgwLjU1KVxyXG4gIH1cclxuICAxMDAlIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVaKDApIHNjYWxlWSgxKVxyXG4gIH1cclxufVxyXG4ud2F2ZVdyYXBwZXIge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgYm90dG9tOiA4MCU7XHJcbiAgdG9wOiAwO1xyXG4gIG1hcmdpbjogYXV0bztcclxufVxyXG4ud2F2ZVdyYXBwZXJJbm5lciB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsIHJnYmEoMjEzLCAyMzAsIDI1NSwgMC41KSAyMCUsIHJnYmEoNTUsIDMyLCAxMTMsIDAuNTMpIDgwJSk7XHJcbn1cclxuLmJnVG9wIHtcclxuICB6LWluZGV4OiAxNTtcclxuICBvcGFjaXR5OiAwLjU7XHJcbn1cclxuLmJnTWlkZGxlIHtcclxuICB6LWluZGV4OiAxMDtcclxuICBvcGFjaXR5OiAwLjc1O1xyXG59XHJcbi5iZ0JvdHRvbSB7XHJcbiAgei1pbmRleDogNTtcclxufVxyXG4ud2F2ZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6IDA7XHJcbiAgd2lkdGg6IDIwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQgbm8tcmVwZWF0O1xyXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgYm90dG9tO1xyXG4gIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBib3R0b207XHJcbn1cclxuLndhdmVUb3Age1xyXG4gIGJhY2tncm91bmQtc2l6ZTogNTAlIDEwMHB4O1xyXG59XHJcbi53YXZlQW5pbWF0aW9uIC53YXZlVG9wIHtcclxuICBhbmltYXRpb246IG1vdmUtd2F2ZSA5cztcclxuICAtd2Via2l0LWFuaW1hdGlvbjogbW92ZS13YXZlIDlzO1xyXG4gIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAzcztcclxuICBhbmltYXRpb24tZGVsYXk6IDNzO1xyXG59XHJcbi53YXZlTWlkZGxlIHtcclxuICBiYWNrZ3JvdW5kLXNpemU6IDUwJSAxMjBweDtcclxufVxyXG4ud2F2ZUFuaW1hdGlvbiAud2F2ZU1pZGRsZSB7XHJcbiAgYW5pbWF0aW9uOiBtb3ZlX3dhdmUgMzBzIGxpbmVhciBpbmZpbml0ZTtcclxufVxyXG4ud2F2ZUJvdHRvbSB7XHJcbiAgYmFja2dyb3VuZC1zaXplOiA1MCUgMTAwcHg7XHJcbn1cclxuLndhdmVBbmltYXRpb24gLndhdmVCb3R0b20ge1xyXG4gIGFuaW1hdGlvbjogbW92ZV93YXZlIDQ1cyBsaW5lYXIgaW5maW5pdGU7XHJcbn1cclxuIl19 */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <div class=\\\"waveWrapper waveAnimation\\\">\\r\\n      <div class=\\\"waveWrapperInner bgTop\\\">\\r\\n        <div class=\\\"wave waveTop\\\" style=\\\"background-image: url('http://front-end-noobs.com/jecko/img/wave-top.png')\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"waveWrapperInner bgMiddle\\\">\\r\\n        <div class=\\\"wave waveMiddle\\\" style=\\\"background-image: url('http://front-end-noobs.com/jecko/img/wave-mid.png')\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"waveWrapperInner bgBottom\\\">\\r\\n        <div class=\\\"wave waveBottom\\\" style=\\\"background-image: url('http://front-end-noobs.com/jecko/img/wave-bot.png')\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"login-container\\\">\\r\\n      <h1>Santatecla</h1>\\r\\n      <mat-dialog-content>\\r\\n        <form (keyup.enter)=\\\"login($event, userElement.value, passElement.value)\\\">\\r\\n\\r\\n          <div layout=\\\"row\\\" id=\\\"login-user\\\">\\r\\n            <mat-form-field flex>\\r\\n              <input matInput #userElement #userControl=\\\"ngModel\\\" placeholder=\\\"Usuario\\\" type=\\\"text\\\"\\r\\n                     maxlength=\\\"30\\\" name=\\\"username\\\" [(ngModel)]=\\\"username\\\" required id=\\\"username\\\">\\r\\n              <span matPrefix>\\r\\n                      <mat-icon>person</mat-icon>\\r\\n                    </span>\\r\\n              <mat-hint>{{userElement.value.length}} / 30</mat-hint>\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div layout=\\\"row\\\" id=\\\"login-password\\\">\\r\\n            <mat-form-field flex>\\r\\n              <input matInput #passElement #passControl=\\\"ngModel\\\" placeholder=\\\"Contraseña\\\" type=\\\"password\\\"\\r\\n                     name=\\\"password\\\" [(ngModel)]=\\\"password\\\" required id=\\\"password\\\">\\r\\n              <span matPrefix>\\r\\n                      <mat-icon>lock</mat-icon>\\r\\n              </span>\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div id=\\\"login-button\\\">\\r\\n          <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" class=\\\"text-upper\\\" (click)=\\\"login($event, userElement.value, passElement.value)\\\" id=\\\"send-login-button\\\">Login</button>\\r\\n        </div>\\r\\n\\r\\n      </mat-dialog-content>\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Component, Input} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {LoginService} from '../auth/login.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\n\r\nexport class LoginComponent {\r\n  @Input()\r\n  url: string;\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private loginService: LoginService,) {\r\n  }\r\n\r\n  login(event: any, user: string, pass: string) {\r\n    event.preventDefault();\r\n    this.loginService.login(user, pass).subscribe(\r\n      (u) => {\r\n        if (this.url === '/') {\r\n          if (u.roles.includes('ROLE_ADMIN')) {\r\n            this.router.navigate(['/']);\r\n          } else {\r\n            this.router.navigate(['/courses']);\r\n          }\r\n        } else {\r\n          this.router.navigate([this.url]);\r\n        }\r\n      },\r\n      (error) => alert('Invalid user or password'),\r\n    );\r\n  }\r\n\r\n}\r\n","module.exports = \".header {\\r\\n  position: fixed;\\r\\n  z-index: 1000;\\r\\n  height: 3rem;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  left: 0;\\r\\n  color: white;\\r\\n  font-size: 0.8rem;\\r\\n}\\r\\n\\r\\n.home-button {\\r\\n  margin-left: -0.5rem !important;\\r\\n}\\r\\n\\r\\n.user-header {\\r\\n  background-color: #05132f;\\r\\n}\\r\\n\\r\\n.admin-header {\\r\\n  background-color: #1e042f;\\r\\n}\\r\\n\\r\\n#user-name {\\r\\n  position: absolute;\\r\\n  top: 0.8rem;\\r\\n  right: 3rem;\\r\\n  margin: 0.2rem;\\r\\n}\\r\\n\\r\\n#logout-button {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  margin: 0.2rem;\\r\\n}\\r\\n\\r\\n.mat-icon {\\r\\n  padding: 0;\\r\\n  margin: -0.1rem 0 0 0;\\r\\n}\\r\\n\\r\\n.nav-button {\\r\\n  margin-left: 0;\\r\\n  padding: 0 2rem 0 2rem;\\r\\n  cursor: pointer;\\r\\n  display: inline;\\r\\n  height: 3rem;\\r\\n  top: 0;\\r\\n  transform: skewX(-20deg);\\r\\n}\\r\\n\\r\\n.user-nav-button {\\r\\n  background-image: linear-gradient(to right, #0d2865 0%, #05132f 100%);\\r\\n}\\r\\n\\r\\n.admin-nav-button {\\r\\n  background-image: linear-gradient(to right, #571a69 0%, #1e042f 100%);\\r\\n}\\r\\n\\r\\n.nav-button-icon {\\r\\n  transform: skewX(20deg);\\r\\n}\\r\\n\\r\\n.nav-button-name {\\r\\n  display: inline-block;\\r\\n  margin-left: 0.5rem;\\r\\n  margin-right: 0.5rem;\\r\\n  min-width: 2rem;\\r\\n  transform: skewX(20deg);\\r\\n}\\r\\n\\r\\n.nav-button-title {\\r\\n  position: absolute;\\r\\n  top: -0.6rem;\\r\\n  font-size: 0.7rem;\\r\\n}\\r\\n\\r\\n.admin-nav-button-title {\\r\\n  color: #dcc3e3;\\r\\n}\\r\\n\\r\\n.user-nav-button-title {\\r\\n  color: #abb8d4;\\r\\n}\\r\\n\\r\\n.nav-button-content {\\r\\n  position: relative;\\r\\n  top: 0.3rem;\\r\\n}\\r\\n\\r\\n#tab-wrapper {\\r\\n  margin-right: 13rem;\\r\\n  top: 0.5rem;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVudS9tZW51LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFlBQVk7RUFDWixNQUFNO0VBQ04sUUFBUTtFQUNSLE9BQU87RUFDUCxZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxXQUFXO0VBQ1gsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sUUFBUTtFQUNSLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsY0FBYztFQUNkLHNCQUFzQjtFQUN0QixlQUFlO0VBQ2YsZUFBZTtFQUNmLFlBQVk7RUFDWixNQUFNO0VBS04sd0JBQXdCO0FBQzFCOztBQUVBO0VBQ0UscUVBQXFFO0FBQ3ZFOztBQUVBO0VBQ0UscUVBQXFFO0FBQ3ZFOztBQUVBO0VBS0UsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsZUFBZTtFQUtmLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7QUFDYiIsImZpbGUiOiJzcmMvYXBwL21lbnUvbWVudS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlciB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHotaW5kZXg6IDEwMDA7XHJcbiAgaGVpZ2h0OiAzcmVtO1xyXG4gIHRvcDogMDtcclxuICByaWdodDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LXNpemU6IDAuOHJlbTtcclxufVxyXG5cclxuLmhvbWUtYnV0dG9uIHtcclxuICBtYXJnaW4tbGVmdDogLTAuNXJlbSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udXNlci1oZWFkZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwNTEzMmY7XHJcbn1cclxuXHJcbi5hZG1pbi1oZWFkZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZTA0MmY7XHJcbn1cclxuXHJcbiN1c2VyLW5hbWUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDAuOHJlbTtcclxuICByaWdodDogM3JlbTtcclxuICBtYXJnaW46IDAuMnJlbTtcclxufVxyXG5cclxuI2xvZ291dC1idXR0b24ge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgbWFyZ2luOiAwLjJyZW07XHJcbn1cclxuXHJcbi5tYXQtaWNvbiB7XHJcbiAgcGFkZGluZzogMDtcclxuICBtYXJnaW46IC0wLjFyZW0gMCAwIDA7XHJcbn1cclxuXHJcbi5uYXYtYnV0dG9uIHtcclxuICBtYXJnaW4tbGVmdDogMDtcclxuICBwYWRkaW5nOiAwIDJyZW0gMCAycmVtO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgaGVpZ2h0OiAzcmVtO1xyXG4gIHRvcDogMDtcclxuICAtd2Via2l0LXRyYW5zZm9ybTogc2tld1goLTIwZGVnKTtcclxuICAtbW96LXRyYW5zZm9ybTogc2tld1goLTIwZGVnKTtcclxuICAtbXMtdHJhbnNmb3JtOiBza2V3WCgtMjBkZWcpO1xyXG4gIC1vLXRyYW5zZm9ybTogc2tld1goLTIwZGVnKTtcclxuICB0cmFuc2Zvcm06IHNrZXdYKC0yMGRlZyk7XHJcbn1cclxuXHJcbi51c2VyLW5hdi1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzBkMjg2NSAwJSwgIzA1MTMyZiAxMDAlKTtcclxufVxyXG5cclxuLmFkbWluLW5hdi1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzU3MWE2OSAwJSwgIzFlMDQyZiAxMDAlKTtcclxufVxyXG5cclxuLm5hdi1idXR0b24taWNvbiB7XHJcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHNrZXdYKDIwZGVnKTtcclxuICAtbW96LXRyYW5zZm9ybTogc2tld1goMjBkZWcpO1xyXG4gIC1tcy10cmFuc2Zvcm06IHNrZXdYKDIwZGVnKTtcclxuICAtby10cmFuc2Zvcm06IHNrZXdYKDIwZGVnKTtcclxuICB0cmFuc2Zvcm06IHNrZXdYKDIwZGVnKTtcclxufVxyXG5cclxuLm5hdi1idXR0b24tbmFtZSB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiAwLjVyZW07XHJcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XHJcbiAgbWluLXdpZHRoOiAycmVtO1xyXG4gIC13ZWJraXQtdHJhbnNmb3JtOiBza2V3WCgyMGRlZyk7XHJcbiAgLW1vei10cmFuc2Zvcm06IHNrZXdYKDIwZGVnKTtcclxuICAtbXMtdHJhbnNmb3JtOiBza2V3WCgyMGRlZyk7XHJcbiAgLW8tdHJhbnNmb3JtOiBza2V3WCgyMGRlZyk7XHJcbiAgdHJhbnNmb3JtOiBza2V3WCgyMGRlZyk7XHJcbn1cclxuXHJcbi5uYXYtYnV0dG9uLXRpdGxlIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAtMC42cmVtO1xyXG4gIGZvbnQtc2l6ZTogMC43cmVtO1xyXG59XHJcblxyXG4uYWRtaW4tbmF2LWJ1dHRvbi10aXRsZSB7XHJcbiAgY29sb3I6ICNkY2MzZTM7XHJcbn1cclxuXHJcbi51c2VyLW5hdi1idXR0b24tdGl0bGUge1xyXG4gIGNvbG9yOiAjYWJiOGQ0O1xyXG59XHJcblxyXG4ubmF2LWJ1dHRvbi1jb250ZW50IHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgdG9wOiAwLjNyZW07XHJcbn1cclxuXHJcbiN0YWItd3JhcHBlciB7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxM3JlbTtcclxuICB0b3A6IDAuNXJlbTtcclxufVxyXG4iXX0= */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <div *ngIf=\\\"loginService.isLogged\\\" [ngClass]=\\\"loginService.isAdmin ? 'header admin-header' : 'header user-header'\\\">\\r\\n\\r\\n      <div id=\\\"tab-wrapper\\\">\\r\\n\\r\\n        <button mat-button *ngIf=\\\"loginService.isAdmin\\\" class=\\\"nav-button admin-nav-button home-button\\\" [routerLink]=\\\"['/']\\\">\\r\\n          <mat-icon class=\\\"nav-button-icon\\\">home</mat-icon>\\r\\n          <div class=\\\"nav-button-name\\\">Inicio</div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"tabService.courses\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button home-button' : 'nav-button user-nav-button home-button'\\\" [routerLink]=\\\"['/courses']\\\">\\r\\n          <mat-icon class=\\\"nav-button-icon\\\">class</mat-icon>\\r\\n          <div class=\\\"nav-button-name\\\">Cursos</div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"loginService.isAdmin && tabService.units\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button' : 'nav-button user-nav-button'\\\" [routerLink]=\\\"['/unit']\\\">\\r\\n          <img class=\\\"nav-button-icon\\\" src=\\\"../../assets/img/uml-icon.png\\\" height=\\\"15\\\">\\r\\n          <div class=\\\"nav-button-name\\\">Unidades</div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"loginService.isAdmin && tabService.unit\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button' : 'nav-button user-nav-button'\\\" [routerLink]=\\\"['/unit/', tabService.unitId]\\\">\\r\\n          <div class=\\\"nav-button-name\\\">\\r\\n            <span [ngClass]=\\\"loginService.isAdmin ? 'nav-button-title admin-nav-button-title' : 'nav-button-title user-nav-button-title'\\\">Unidad</span>\\r\\n            <span class=\\\"nav-button-content\\\">{{tabService.unit}}</span>\\r\\n          </div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"tabService.course && loginService.isAdmin\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button' : 'nav-button user-nav-button'\\\" [routerLink]=\\\"['/course/' + tabService.courseId]\\\">\\r\\n          <div class=\\\"nav-button-name\\\">\\r\\n            <span [ngClass]=\\\"loginService.isAdmin ? 'nav-button-title admin-nav-button-title' : 'nav-button-title user-nav-button-title'\\\">Curso</span>\\r\\n            <span class=\\\"nav-button-content\\\">{{tabService.course}}</span>\\r\\n          </div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"tabService.course && !loginService.isAdmin\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button' : 'nav-button user-nav-button'\\\" [routerLink]=\\\"['/course/' + tabService.courseId + '/modules/' + tabService.moduleId]\\\">\\r\\n          <div class=\\\"nav-button-name\\\">\\r\\n            <span [ngClass]=\\\"loginService.isAdmin ? 'nav-button-title admin-nav-button-title' : 'nav-button-title user-nav-button-title'\\\">Curso</span>\\r\\n            <span class=\\\"nav-button-content\\\">{{tabService.course}}</span>\\r\\n          </div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"loginService.isAdmin && tabService.module\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button' : 'nav-button user-nav-button'\\\" [routerLink]=\\\"['/units/' + tabService.unitId + '/modules/' + tabService.moduleId]\\\">\\r\\n          <div class=\\\"nav-button-name\\\">\\r\\n            <span [ngClass]=\\\"loginService.isAdmin ? 'nav-button-title admin-nav-button-title' : 'nav-button-title user-nav-button-title'\\\">Módulo</span>\\r\\n            <span class=\\\"nav-button-content\\\">{{tabService.module}}</span>\\r\\n          </div>\\r\\n        </button>\\r\\n\\r\\n        <button mat-button *ngIf=\\\"tabService.lesson\\\" [ngClass]=\\\"loginService.isAdmin ? 'nav-button admin-nav-button' : 'nav-button user-nav-button'\\\">\\r\\n          <div class=\\\"nav-button-name\\\">\\r\\n            <span [ngClass]=\\\"loginService.isAdmin ? 'nav-button-title admin-nav-button-title' : 'nav-button-title user-nav-button-title'\\\">Lección</span>\\r\\n            <span class=\\\"nav-button-content\\\">{{tabService.lesson}}</span>\\r\\n          </div>\\r\\n        </button>\\r\\n      </div>\\r\\n\\r\\n      <span id=\\\"user-name\\\">{{loginService.user.name}}</span>\\r\\n      <button mat-icon-button id=\\\"logout-button\\\" (click)=\\\"logout()\\\">\\r\\n        <mat-icon>exit_to_app</mat-icon>\\r\\n      </button>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import { Router, ActivatedRoute } from '@angular/router';\r\nimport {Component, OnInit} from '@angular/core';\r\nimport {LoginService} from '../auth/login.service';\r\nimport {Unit} from '../unit/unit.model';\r\nimport {TabService} from '../tab/tab.service';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.css']\r\n})\r\n\r\nexport class MenuComponent {\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private loginService: LoginService,\r\n              private tabService: TabService) {}\r\n\r\n  logout() {\r\n    this.loginService.logout().subscribe(\r\n      (response) => {\r\n        this.router.navigate(['/']);\r\n      },\r\n      (error) => console.log('Error when trying to logout: ' + error),\r\n    );\r\n  }\r\n\r\n}\r\n","module.exports = \"#image-container {\\r\\n  width: 10rem;\\r\\n  display: flex;\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n#courseName{\\r\\n  border: 0;\\r\\n}\\r\\n\\r\\n#progressType{\\r\\n  border: solid #571a69 1px;\\r\\n  margin-left: 5%;\\r\\n  margin-right: 5%;\\r\\n}\\r\\n\\r\\n.columnWidth{\\r\\n  border-collapse: collapse;\\r\\n  padding: 5px;\\r\\n}\\r\\n\\r\\n.row {\\r\\n  margin-top: 5%;\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  flex-wrap: wrap;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.column {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  flex-basis: 100%;\\r\\n  flex: 1;\\r\\n  border:1px solid lightblue;\\r\\n  margin-left: 5%;\\r\\n  margin-right: 5%;\\r\\n}\\r\\n\\r\\n.green-color {\\r\\n  color: green;\\r\\n}\\r\\n\\r\\n.red-color {\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.top-margin {\\r\\n  margin-top: 5rem;\\r\\n  align-content: center;\\r\\n  text-align: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.letf-margin {\\r\\n  margin-left:42%\\r\\n}\\r\\n\\r\\n.progress-table {\\r\\n  height: 25rem;\\r\\n  padding: 0.5rem;\\r\\n}\\r\\n\\r\\n.center-align {\\r\\n  text-align: center;\\r\\n  align-content: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.center-table{\\r\\n  margin:auto;\\r\\n}\\r\\n\\r\\n.title {\\r\\n  margin-top: 8rem;\\r\\n}\\r\\n\\r\\n.extended-info{\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n#spinner{\\r\\n  position: relative;\\r\\n  width: 8rem;\\r\\n  height: 8rem;\\r\\n  left: 40%;\\r\\n  top: 40%;\\r\\n}\\r\\n\\r\\n.histogram{\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvZ3Jlc3MvY2xhc3MtcHJvZ3Jlc3MvY2xhc3MtcHJvZ3Jlc3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsWUFBWTtBQUNkOztBQUVBO0VBQ0UsU0FBUztBQUNYOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsY0FBYztFQUNkLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsZ0JBQWdCO0VBQ2hCLE9BQU87RUFDUCwwQkFBMEI7RUFDMUIsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFO0FBQ0Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtFQUNaLFNBQVM7RUFDVCxRQUFRO0FBQ1Y7O0FBRUE7QUFDQSIsImZpbGUiOiJzcmMvYXBwL3Byb2dyZXNzL2NsYXNzLXByb2dyZXNzL2NsYXNzLXByb2dyZXNzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjaW1hZ2UtY29udGFpbmVyIHtcclxuICB3aWR0aDogMTByZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuXHJcbiNjb3Vyc2VOYW1le1xyXG4gIGJvcmRlcjogMDtcclxufVxyXG5cclxuI3Byb2dyZXNzVHlwZXtcclxuICBib3JkZXI6IHNvbGlkICM1NzFhNjkgMXB4O1xyXG4gIG1hcmdpbi1sZWZ0OiA1JTtcclxuICBtYXJnaW4tcmlnaHQ6IDUlO1xyXG59XHJcblxyXG4uY29sdW1uV2lkdGh7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuXHJcbi5yb3cge1xyXG4gIG1hcmdpbi10b3A6IDUlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5jb2x1bW4ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmbGV4LWJhc2lzOiAxMDAlO1xyXG4gIGZsZXg6IDE7XHJcbiAgYm9yZGVyOjFweCBzb2xpZCBsaWdodGJsdWU7XHJcbiAgbWFyZ2luLWxlZnQ6IDUlO1xyXG4gIG1hcmdpbi1yaWdodDogNSU7XHJcbn1cclxuXHJcbi5ncmVlbi1jb2xvciB7XHJcbiAgY29sb3I6IGdyZWVuO1xyXG59XHJcblxyXG4ucmVkLWNvbG9yIHtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4udG9wLW1hcmdpbiB7XHJcbiAgbWFyZ2luLXRvcDogNXJlbTtcclxuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4ubGV0Zi1tYXJnaW4ge1xyXG4gIG1hcmdpbi1sZWZ0OjQyJVxyXG59XHJcblxyXG4ucHJvZ3Jlc3MtdGFibGUge1xyXG4gIGhlaWdodDogMjVyZW07XHJcbiAgcGFkZGluZzogMC41cmVtO1xyXG59XHJcblxyXG4uY2VudGVyLWFsaWduIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uY2VudGVyLXRhYmxle1xyXG4gIG1hcmdpbjphdXRvO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gIG1hcmdpbi10b3A6IDhyZW07XHJcbn1cclxuXHJcbi5leHRlbmRlZC1pbmZve1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuI3NwaW5uZXJ7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHdpZHRoOiA4cmVtO1xyXG4gIGhlaWdodDogOHJlbTtcclxuICBsZWZ0OiA0MCU7XHJcbiAgdG9wOiA0MCU7XHJcbn1cclxuXHJcbi5oaXN0b2dyYW17XHJcbn1cclxuIl19 */\"","module.exports = \"\\r\\n<div>\\r\\n\\r\\n  <img src=\\\"../../../assets/img/spinner.gif\\\" id=\\\"spinner\\\" class=\\\"top-margin\\\" *ngIf=\\\"!classResultsReady\\\">\\r\\n\\r\\n  <div class=\\\"top-margin\\\">\\r\\n    <span *ngIf=\\\"classResultsReady && !extendedInfo\\\">\\r\\n\\r\\n      <div>\\r\\n        <mat-form-field class=\\\"\\\">\\r\\n          <input matInput (keyup)=\\\"applyFilterStudent($event.target.value)\\\" placeholder=\\\"Nombre del alumno\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-icon>search</mat-icon>\\r\\n      </div>\\r\\n\\r\\n      <table mat-table [dataSource]=\\\"this.showingClassResults\\\" class=\\\"mat-elevation-z8 center-table\\\">\\r\\n        <ng-container matColumnDef=\\\"name\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\">Alumno</th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.studentName}} </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <span *ngFor=\\\"let module of this.courseFormat\\\">\\r\\n          <ng-container matColumnDef=\\\"{{module.moduleName}}\\\">\\r\\n            <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align extended-info\\\" (click)=\\\"showModuleExtendedInfo(module.id, module.moduleName)\\\"> {{module.moduleName}} </th>\\r\\n            <td mat-cell *matCellDef=\\\"let element\\\">{{element.grades[this.courseFormat.indexOf(module)]}}</td>\\r\\n          </ng-container>\\r\\n        </span>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"studentAverage\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\">Media</th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.average}} </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <tr mat-header-row *matHeaderRowDef=\\\"classColumnsToDisplay\\\"></tr>\\r\\n        <tr mat-row *matRowDef=\\\"let row; columns: classColumnsToDisplay;\\\" class=\\\"columnWidth center-align\\\"></tr>\\r\\n      </table>\\r\\n    </span>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"top-margin\\\">\\r\\n    <span *ngIf=\\\"classResultsReady && extendedInfo\\\">\\r\\n\\r\\n      <div>\\r\\n        <mat-form-field class=\\\"\\\">\\r\\n          <input matInput (keyup)=\\\"applyFilterExtendedStudent($event.target.value)\\\" placeholder=\\\"Nombre del alumno\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-icon>search</mat-icon>\\r\\n      </div>\\r\\n\\r\\n      <span *ngIf=\\\"extendedInfo\\\" class=\\\"extended-info\\\" align=\\\"center\\\" (click)=\\\"extendedInfo = false; extendedColumnsToDisplay=['name']\\\">\\r\\n        <mat-icon>keyboard_arrow_up</mat-icon>\\r\\n      </span>\\r\\n      <table mat-table [dataSource]=\\\"this.showingExtendedResults\\\" class=\\\"mat-elevation-z8 center-table\\\">\\r\\n        <ng-container matColumnDef=\\\"name\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\">Alumno</th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.studentName}} </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <span *ngFor=\\\"let question of this.moduleFormat.questions\\\">\\r\\n          <ng-container matColumnDef=\\\"{{question}}\\\">\\r\\n            <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\"> {{question}} </th>\\r\\n            <td mat-cell *matCellDef=\\\"let element\\\">{{element.grades[this.moduleFormat.questions.indexOf(question)]}}</td>\\r\\n          </ng-container>\\r\\n        </span>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"studentAverage\\\">\\r\\n          <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\">Media</th>\\r\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.average}} </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <tr mat-header-row *matHeaderRowDef=\\\"extendedColumnsToDisplay\\\"></tr>\\r\\n        <tr mat-row *matRowDef=\\\"let row; columns: extendedColumnsToDisplay;\\\" class=\\\"columnWidth center-align\\\"></tr>\\r\\n      </table>\\r\\n    </span>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport { ProgressService } from '../progress.service';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {Course} from '../../course/course.model';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {CourseService} from '../../course/course.service';\r\nimport {StudentProgressItem} from '../items/studentProgressItem.model';\r\nimport {ModuleFormat} from '../items/moduleFormat.model';\r\n\r\n@Component({\r\n  selector: 'app-class-progress',\r\n  templateUrl: './class-progress.component.html',\r\n  styleUrls: ['./class-progress.component.css']\r\n})\r\n\r\nexport class ClassProgressComponent implements OnInit {\r\n  courseId: number;\r\n  course: Course;\r\n  classResults: StudentProgressItem[];\r\n  showingClassResults: StudentProgressItem[];\r\n  courseFormat: ModuleFormat[];\r\n  moduleFormat: ModuleFormat;\r\n  moduleExtendedResults: StudentProgressItem[];\r\n  showingExtendedResults: StudentProgressItem[];\r\n  classColumnsToDisplay = ['name'];\r\n  extendedColumnsToDisplay = ['name'];\r\n  classResultsReady = false;\r\n  extendedInfo = false;\r\n\r\n  constructor(private courseService: CourseService,\r\n              private loginService: LoginService,\r\n              private activatedRoute: ActivatedRoute,\r\n              private progressService: ProgressService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.courseId = params.courseId;\r\n      this.courseService.getCourse(this.courseId).subscribe((data: Course) => {\r\n        this.course = data;\r\n      }, error => {console.log(error); });\r\n\r\n      this.progressService.getClassProgress(this.courseId).subscribe((data: StudentProgressItem[]) => {\r\n        this.classResults = data;\r\n        this.showingClassResults = this.classResults;\r\n        console.log(this.classResults);\r\n      }, error => {console.log(error); });\r\n\r\n      this.progressService.getModuleFormat(this.courseId).subscribe((data: ModuleFormat[]) => {\r\n        this.courseFormat = data;\r\n\r\n        for (let module of this.courseFormat) {\r\n          this.classColumnsToDisplay.push(module.moduleName);\r\n        }\r\n\r\n        this.classColumnsToDisplay.push('studentAverage');\r\n        this.classResultsReady = true;\r\n      }, error => {console.log(error); });\r\n\r\n    });\r\n  }\r\n\r\n  showModuleExtendedInfo(moduleId: number, moduleName: string) {\r\n    this.classResultsReady = false;\r\n    this.progressService.getExtendedModuleInfo(this.courseId, moduleId).subscribe((data: StudentProgressItem[]) => {\r\n      this.moduleExtendedResults = data;\r\n      this.showingExtendedResults = this.moduleExtendedResults;\r\n      this.classResultsReady = true;\r\n      this.extendedInfo = true;\r\n    }, error => {console.log(error); });\r\n\r\n    for (let module of this.courseFormat){\r\n      if (module.moduleName === moduleName){\r\n        this.moduleFormat = module;\r\n      }\r\n    }\r\n\r\n    for (let question of this.moduleFormat.questions){\r\n      this.extendedColumnsToDisplay.push(question);\r\n    }\r\n\r\n    this.extendedColumnsToDisplay.push('studentAverage');\r\n  }\r\n\r\n  applyFilterStudent(value: string) {\r\n    this.showingClassResults = [];\r\n    for (let result of this.classResults) {\r\n      if (result.studentName.toLowerCase().includes(value.toLowerCase())) {\r\n        this.showingClassResults.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  applyFilterExtendedStudent(value: string) {\r\n    this.showingExtendedResults = [];\r\n    for (let result of this.moduleExtendedResults) {\r\n      if (result.studentName.toLowerCase().includes(value.toLowerCase())) {\r\n        this.showingExtendedResults.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \".columnWidth{\\r\\n  border-collapse: collapse;\\r\\n  padding: 5px;\\r\\n}\\r\\n\\r\\n.row {\\r\\n  margin-top: 5%;\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.column {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  flex-basis: 100%;\\r\\n  flex: 1;\\r\\n  margin-left: 5%;\\r\\n  margin-right: 5%;\\r\\n}\\r\\n\\r\\n.top-margin {\\r\\n  margin-top: 6rem;\\r\\n  position: absolute;\\r\\n  margin-left: 40%;\\r\\n}\\r\\n\\r\\n.letf-margin {\\r\\n  margin-left:32%\\r\\n}\\r\\n\\r\\n.progress-table {\\r\\n  height: 25rem;\\r\\n  padding: 0.5rem;\\r\\n}\\r\\n\\r\\n.center-align {\\r\\n  text-align: center;\\r\\n  align-content: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.center-table{\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n.title {\\r\\n  margin-top: 8rem;\\r\\n}\\r\\n\\r\\n.extended-info{\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n#spinner{\\r\\n  position: relative;\\r\\n  width: 8rem;\\r\\n  height: 8rem;\\r\\n  left: 40%;\\r\\n  top: 40%;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvZ3Jlc3MvbW9kdWxlLXByb2dyZXNzL21vZHVsZS1wcm9ncmVzcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQixPQUFPO0VBQ1AsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0U7QUFDRjs7QUFFQTtFQUNFLGFBQWE7RUFDYixlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtFQUNaLFNBQVM7RUFDVCxRQUFRO0FBQ1YiLCJmaWxlIjoic3JjL2FwcC9wcm9ncmVzcy9tb2R1bGUtcHJvZ3Jlc3MvbW9kdWxlLXByb2dyZXNzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29sdW1uV2lkdGh7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuXHJcbi5yb3cge1xyXG4gIG1hcmdpbi10b3A6IDUlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbn1cclxuXHJcbi5jb2x1bW4ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmbGV4LWJhc2lzOiAxMDAlO1xyXG4gIGZsZXg6IDE7XHJcbiAgbWFyZ2luLWxlZnQ6IDUlO1xyXG4gIG1hcmdpbi1yaWdodDogNSU7XHJcbn1cclxuXHJcbi50b3AtbWFyZ2luIHtcclxuICBtYXJnaW4tdG9wOiA2cmVtO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBtYXJnaW4tbGVmdDogNDAlO1xyXG59XHJcblxyXG4ubGV0Zi1tYXJnaW4ge1xyXG4gIG1hcmdpbi1sZWZ0OjMyJVxyXG59XHJcblxyXG4ucHJvZ3Jlc3MtdGFibGUge1xyXG4gIGhlaWdodDogMjVyZW07XHJcbiAgcGFkZGluZzogMC41cmVtO1xyXG59XHJcblxyXG4uY2VudGVyLWFsaWduIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uY2VudGVyLXRhYmxle1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gIG1hcmdpbi10b3A6IDhyZW07XHJcbn1cclxuXHJcbi5leHRlbmRlZC1pbmZve1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuI3NwaW5uZXJ7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHdpZHRoOiA4cmVtO1xyXG4gIGhlaWdodDogOHJlbTtcclxuICBsZWZ0OiA0MCU7XHJcbiAgdG9wOiA0MCU7XHJcbn1cclxuIl19 */\"","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n<body>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"column\\\">\\r\\n        <span *ngIf=\\\"moduleResultsReady\\\">\\r\\n\\r\\n          <div>\\r\\n            <mat-form-field class=\\\"letf-margin\\\">\\r\\n              <input matInput (keyup)=\\\"applyFilterModule($event.target.value)\\\" placeholder=\\\"Nombre del módulo\\\">\\r\\n            </mat-form-field>\\r\\n            <mat-icon>search</mat-icon>\\r\\n          </div>\\r\\n\\r\\n          <table mat-table [dataSource]=\\\"this.showingModuleResults\\\" class=\\\"mat-elevation-z8 center-table\\\">\\r\\n            <ng-container matColumnDef=\\\"name\\\">\\r\\n              <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\"> {{this.course.module.name}} </th>\\r\\n              <td mat-cell *matCellDef=\\\"let element\\\"> {{element.name}} </td>\\r\\n            </ng-container>\\r\\n\\r\\n            <ng-container matColumnDef=\\\"realization\\\">\\r\\n              <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\"> % Realización </th>\\r\\n              <td mat-cell *matCellDef=\\\"let element\\\"> {{element.points[0]}} </td>\\r\\n            </ng-container>\\r\\n\\r\\n            <ng-container matColumnDef=\\\"average\\\">\\r\\n              <th mat-header-cell *matHeaderCellDef class=\\\"columnWidth center-align\\\"> Media </th>\\r\\n              <td mat-cell *matCellDef=\\\"let element\\\"> {{element.points[1]}} </td>\\r\\n            </ng-container>\\r\\n\\r\\n            <tr mat-header-row *matHeaderRowDef=\\\"columnsToDisplay\\\"></tr>\\r\\n            <tr mat-row *matRowDef=\\\"let row; columns: columnsToDisplay;\\\" class=\\\"columnWidth center-align\\\"></tr>\\r\\n          </table>\\r\\n\\r\\n        </span>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"column\\\" *ngIf=\\\"this.moduleResultsReady\\\">\\r\\n        <ngx-charts-bar-vertical\\r\\n          [results]=\\\"histogram\\\"\\r\\n          [gradient]=\\\"false\\\"\\r\\n          [xAxis]=\\\"true\\\"\\r\\n          [yAxis]=\\\"true\\\"\\r\\n          [legend]=\\\"false\\\"\\r\\n          [showXAxisLabel]=\\\"true\\\"\\r\\n          [showYAxisLabel]=\\\"true\\\"\\r\\n          [xAxisLabel]=\\\"xAxisLabel\\\"\\r\\n          [yAxisLabel]=\\\"yAxisLabel\\\">\\r\\n        </ngx-charts-bar-vertical>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {ChangeDetectorRef, Component, OnInit} from '@angular/core';\r\nimport { ProgressService } from '../progress.service';\r\nimport {LoginService, User} from '../../auth/login.service';\r\nimport {Course} from '../../course/course.model';\r\nimport {UserResult} from '../items/userResult.model';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {CourseService} from '../../course/course.service';\r\nimport {BrowserModule, DomSanitizer} from '@angular/platform-browser';\r\nimport {MatIconRegistry} from '@angular/material';\r\nimport {DatePipe} from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-module-progress',\r\n  templateUrl: './module-progress.component.html',\r\n  styleUrls: ['./module-progress.component.css']\r\n})\r\n\r\nexport class ModuleProgressComponent implements OnInit {\r\n  courseId: number;\r\n  course: Course;\r\n  moduleResults: UserResult[];\r\n  columnsToDisplay = ['name', 'realization', 'average'];\r\n  moduleResultsReady = false;\r\n  histogram = [];\r\n  xAxisLabel = 'Tema';\r\n  yAxisLabel = 'Media';\r\n  showingModuleResults: UserResult[];\r\n\r\n  constructor(private courseService: CourseService,\r\n              private loginService: LoginService,\r\n              private activatedRoute: ActivatedRoute,\r\n              private progressService: ProgressService,\r\n              private _changeDetectorRef: ChangeDetectorRef,\r\n              private _iconRegistry: MatIconRegistry,\r\n              private _domSanitizer: DomSanitizer) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.courseId = params.courseId;\r\n      this.courseService.getCourse(this.courseId).subscribe((data: Course) => {\r\n        this.course = data;\r\n      }, error => {console.log(error); });\r\n\r\n      this.progressService.getModuleProgress(this.courseId).subscribe((data: UserResult[]) => {\r\n        this.moduleResults = data;\r\n        this.showingModuleResults = this.moduleResults;\r\n        this.buildHistogramData();\r\n        this.moduleResultsReady = true;\r\n      }, error => {console.log(error); });\r\n    });\r\n\r\n    this._iconRegistry.addSvgIconInNamespace('assets', 'covalent',\r\n      this._domSanitizer.bypassSecurityTrustResourceUrl(\r\n        'https://raw.githubusercontent.com/Teradata/covalent-quickstart/develop/src/assets/icons/covalent.svg'));\r\n  }\r\n\r\n  axisDate(val: string): string {\r\n    return new DatePipe('en').transform(val, 'hh a');\r\n  }\r\n\r\n  buildHistogramData() {\r\n    for (let module of this.moduleResults) {\r\n      this.histogram.push({'name': module.name, 'value': 516});\r\n    }\r\n  }\r\n\r\n  applyFilterModule(value: string) {\r\n    this.showingModuleResults = [];\r\n    for (let result of this.moduleResults) {\r\n      if (result.name.toLowerCase().includes(value.toLowerCase())) {\r\n        this.showingModuleResults.push(result);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient} from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class ProgressService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getModuleProgress(courseId: number) {\r\n    return this.http.get('api/course/' + courseId + '/module/progress');\r\n  }\r\n\r\n  getClassProgress(courseId: number) {\r\n    return this.http.get('api/course/' + courseId + '/students/progress');\r\n  }\r\n\r\n  getModuleFormat(courseId: number) {\r\n    return this.http.get('api/course/' + courseId + '/module/format');\r\n  }\r\n\r\n  getExtendedModuleInfo(courseId: number, moduleId: number) {\r\n    return this.http.get('api/course/' + courseId + '/module/' + moduleId + '/extended');\r\n  }\r\n\r\n  getHistogramInfo(courseId: number) {\r\n    return this.http.get('api/course/' + courseId + '/histogram/');\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n  <body class=\\\"card-content\\\">\\r\\n    <h1 mat-dialog-title *ngIf=\\\"!data.isEditing\\\">Añadir nueva pregunta</h1>\\r\\n    <h1 mat-dialog-title *ngIf=\\\"data.isEditing\\\">Editar pregunta</h1>\\r\\n\\r\\n    <div mat-dialog-content>\\r\\n      <div *ngIf=\\\"!data.isEditing\\\" class=\\\"button-row\\\">\\r\\n        <button *ngFor=\\\"let type of questionTypes\\\" (click)=\\\"setQuestion(type.id)\\\"\\r\\n                [ngClass]=\\\"subtype == type.id ? 'question-button mat-button active-type' : 'tool question-button mat-button'\\\">\\r\\n          {{type.name}}\\r\\n        </button>\\r\\n      </div>\\r\\n\\r\\n      <!-- DEFINITION FORM -->\\r\\n      <div *ngIf=\\\"subtype == 'DefinitionQuestion'\\\">\\r\\n        <form class=\\\"add-question-form\\\">\\r\\n          <mat-form-field>\\r\\n            <textarea matInput name=\\\"question\\\" (input)=\\\"changeTextArea($event)\\\" placeholder=\\\"Pregunta\\\" [(ngModel)]=\\\"questionInput\\\" type=\\\"text\\\" required>\\r\\n            </textarea>\\r\\n          </mat-form-field>\\r\\n        </form>\\r\\n      </div>\\r\\n\\r\\n      <!--LIST FORM -->\\r\\n      <div *ngIf=\\\"subtype == 'ListQuestion'\\\">\\r\\n        <form class=\\\"add-question-form\\\">\\r\\n          <div class=\\\"add-question-form-list\\\">\\r\\n            <mat-form-field>\\r\\n              <textarea matInput name=\\\"question\\\" (input)=\\\"changeTextArea($event)\\\" placeholder=\\\"Pregunta\\\" [(ngModel)]=\\\"questionInput\\\" type=\\\"text\\\" required>\\r\\n              </textarea>\\r\\n            </mat-form-field>\\r\\n            <div>\\r\\n              <mat-form-field>\\r\\n                <input matInput name=\\\"answer\\\" placeholder=\\\"Respuesta posible\\\" [(ngModel)]=\\\"answerInput\\\" type=\\\"text\\\"/>\\r\\n              </mat-form-field>\\r\\n              <mat-checkbox name=\\\"correct\\\" [(ngModel)]=\\\"correct\\\" value=\\\"false\\\">\\r\\n                Correcta\\r\\n              </mat-checkbox>\\r\\n              <button (click)=\\\"addPossibleListAnswer()\\\" class=\\\"mat-button add-answer-button tool\\\">\\r\\n                Añadir\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n\\r\\n      <!-- TEST FORM -->\\r\\n      <div *ngIf=\\\"subtype == 'TestQuestion'\\\">\\r\\n        <form class=\\\"add-question-form\\\">\\r\\n          <div class=\\\"add-question-form-list\\\">\\r\\n            <mat-form-field>\\r\\n              <textarea matInput name=\\\"question\\\" (input)=\\\"changeTextArea($event)\\\" placeholder=\\\"Pregunta\\\" [(ngModel)]=\\\"questionInput\\\" type=\\\"text\\\" required>\\r\\n              </textarea>\\r\\n            </mat-form-field>\\r\\n            <div>\\r\\n              <mat-form-field>\\r\\n                <input matInput name=\\\"answer\\\" placeholder=\\\"Respuesta posible\\\"  [(ngModel)]=\\\"answerInput\\\" type=\\\"text\\\"/>\\r\\n              </mat-form-field>\\r\\n              <mat-checkbox name=\\\"correct\\\" [(ngModel)]=\\\"correct\\\" value=\\\"false\\\" [disabled]=\\\"correctTestAnswerSelected\\\">\\r\\n                Correcta\\r\\n              </mat-checkbox>\\r\\n              <button (click)=\\\"addPossibleTestAnswer()\\\" class=\\\"mat-button add-answer-button tool\\\">\\r\\n                Añadir\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"add-question-form\\\">\\r\\n        <mat-list role=\\\"list\\\">\\r\\n          <mat-list-item role=\\\"listitem\\\" *ngFor=\\\"let answer of bindedAnswerKeys\\\">\\r\\n            <p matLine> {{answer}} </p>\\r\\n            <mat-icon *ngIf=\\\"possibleAnswers.get(answer)\\\">done_all</mat-icon>\\r\\n            <button mat-button (click)=\\\"deletePossibleAnswer(answer)\\\" >\\r\\n              <mat-icon class=\\\"delete-icon\\\">clear</mat-icon>\\r\\n            </button>\\r\\n          </mat-list-item>\\r\\n        </mat-list>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div mat-dialog-actions>\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\">Cancelar</button>\\r\\n      <!--<button mat-button [mat-dialog-close]=\\\"true\\\" cdkFocusInitial>\\r\\n        Responder\\r\\n      </button>-->\\r\\n      <button (click)=\\\"sendQuestion()\\\" [mat-dialog-close]=\\\"true\\\" class=\\\"mat-button question-button tool\\\">\\r\\n        Guardar\\r\\n      </button>\\r\\n    </div>\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {MAT_DIALOG_DATA, MatDialogRef, MatSnackBar} from '@angular/material';\r\nimport {QuestionComponent} from '../question.component';\r\nimport {DefinitionQuestion} from '../definitionQuestion/definitionQuestion.model';\r\nimport {ListQuestion} from '../listQuestion/listQuestion.model';\r\nimport {TestQuestion} from '../testQuestion/testQuestion.model';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {Question} from '../question.model';\r\nimport {QuestionService} from '../question.service';\r\n\r\nconst QUESTION_TYPES = [\r\n  {id: 'DefinitionQuestion', name: 'Definición'},\r\n  {id: 'ListQuestion', name: 'Listado'},\r\n  {id: 'TestQuestion', name: 'Test'},\r\n];\r\n\r\nexport interface DialogData {\r\n  isEditing: boolean;\r\n  unitId: number;\r\n  question: Question;\r\n}\r\n\r\n@Component({\r\n  templateUrl: './addQuestionDialog.component.html',\r\n  styleUrls: ['../question.component.css']\r\n})\r\n\r\nexport class AddQuestionDialogComponent implements OnInit {\r\n\r\n  questionTypes;\r\n\r\n  definitionQuestion: DefinitionQuestion;\r\n  listQuestion: ListQuestion;\r\n  testQuestion: TestQuestion;\r\n\r\n  // Add Question attributes\r\n  subtype: string;\r\n  questionInput: string;\r\n  answerInput: string;\r\n  possibleAnswers: Map<string, boolean>;\r\n  bindedAnswerKeys: string[];\r\n  correct: boolean;\r\n  correctTestAnswerSelected: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private questionService: QuestionService,\r\n    private loginService: LoginService,\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogRef: MatDialogRef<QuestionComponent>,\r\n    private snackBar: MatSnackBar,\r\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\r\n\r\n  ngOnInit() {\r\n\r\n    this.questionTypes = QUESTION_TYPES;\r\n\r\n    // Add Question attributes\r\n    this.subtype = 'DefinitionQuestion';\r\n    this.resetAddQuestionForm();\r\n\r\n    if (this.data.isEditing) {\r\n      this.setEditQuestionForm();\r\n    }\r\n\r\n  }\r\n\r\n  resetAddQuestionForm() {\r\n    this.questionInput = '';\r\n    this.answerInput = '';\r\n    this.possibleAnswers = new Map();\r\n    this.rechargeAnswersKeys();\r\n    this.correct = false;\r\n    this.correctTestAnswerSelected = false;\r\n  }\r\n\r\n  setEditQuestionForm() {\r\n    this.subtype = this.data.question.subtype;\r\n    this.questionInput = this.data.question.questionText;\r\n    this.answerInput = '';\r\n    this.correct = false;\r\n    this.possibleAnswers = new Map();\r\n\r\n    if (this.subtype === 'ListQuestion') {\r\n      for (const answer of this.data.question.possibleAnswers) {\r\n        this.possibleAnswers.set(answer, this.data.question.correctAnswers.includes(answer));\r\n      }\r\n    }\r\n\r\n    if (this.subtype === 'TestQuestion') {\r\n      for (const answer of this.data.question.possibleAnswers) {\r\n        this.possibleAnswers.set(answer, answer === this.data.question.correctAnswer);\r\n        if (!this.correctTestAnswerSelected) {\r\n          this.correctTestAnswerSelected = answer === this.data.question.correctAnswer;\r\n        }\r\n      }\r\n    }\r\n    this.rechargeAnswersKeys();\r\n  }\r\n\r\n  setQuestion(subtype: string) {\r\n    this.subtype = subtype;\r\n    this.resetAddQuestionForm();\r\n  }\r\n\r\n  rechargeAnswersKeys() {\r\n    this.bindedAnswerKeys = Array.from(this.possibleAnswers.keys());\r\n  }\r\n\r\n  sendQuestion() {\r\n    switch (this.subtype) {\r\n      case 'DefinitionQuestion': {\r\n        this.sendDefinitionQuestion();\r\n        break;\r\n      }\r\n      case 'ListQuestion': {\r\n        this.sendListQuestion();\r\n        break;\r\n      }\r\n      case 'TestQuestion': {\r\n        this.sendTestQuestion();\r\n        break;\r\n      }\r\n      default: {\r\n        console.log('Not valid');\r\n        break;\r\n      }\r\n    }\r\n    this.dialogRef.close(1);\r\n  }\r\n\r\n  sendDefinitionQuestion() {\r\n    if (this.questionInput === '') {\r\n      // TODO\r\n      console.log('error: inputs cannot be empty');\r\n      return;\r\n    }\r\n    this.definitionQuestion = {\r\n      questionText: this.questionInput,\r\n      subtype: 'DefinitionQuestion'\r\n    };\r\n\r\n    if (!this.data.isEditing) {\r\n      this.questionService.addUnitDefinitionQuestion(this.data.unitId, this.definitionQuestion).subscribe(\r\n        (_) => {\r\n          this.resetAddQuestionForm();\r\n        },\r\n        (err) => console.log(err)\r\n      );\r\n    } else {\r\n      this.questionService.editUnitDefinitionQuestion(this.data.unitId, this.data.question.id, this.definitionQuestion).subscribe(\r\n        (_) => {\r\n          this.resetAddQuestionForm();\r\n        },\r\n        (err) => console.log(err)\r\n      );\r\n    }\r\n  }\r\n\r\n  sendListQuestion() {\r\n    if (this.questionInput === '') {\r\n      // TODO\r\n      console.log('error: inputs cannot be empty');\r\n      return;\r\n    }\r\n    let ca = [];\r\n    this.possibleAnswers.forEach((value: boolean, key: string) => {\r\n      if (value) {\r\n        ca = ca.concat(key);\r\n      }\r\n    });\r\n    this.listQuestion = {\r\n      questionText: this.questionInput,\r\n      subtype: 'ListQuestion',\r\n      possibleAnswers: Array.from(this.possibleAnswers.keys()),\r\n      correctAnswers: ca\r\n    };\r\n\r\n    if (!this.data.isEditing) {\r\n      this.questionService.addUnitListQuestion(this.data.unitId, this.listQuestion).subscribe(\r\n      (_) => {\r\n          this.resetAddQuestionForm();\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.ngOnInit();\r\n        }\r\n      );\r\n    } else {\r\n      this.questionService.editUnitListQuestion(this.data.unitId, this.data.question.id, this.listQuestion).subscribe(\r\n        (_) => {\r\n          this.resetAddQuestionForm();\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.ngOnInit();\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  sendTestQuestion() {\r\n    if (this.questionInput === '') {\r\n      // TODO\r\n      this.openSnackBar('La pregunta no puede estar vacía', 'Entendido');\r\n      console.log('error: inputs cannot be empty');\r\n      return;\r\n    }\r\n    if (!this.correctTestAnswerSelected) {\r\n      this.openSnackBar('Debe haber una respuesta correcta', 'Entendido');\r\n      return;\r\n    }\r\n    let ca = [];\r\n    this.possibleAnswers.forEach((value: boolean, key: string) => {\r\n      if (value) {\r\n        ca = ca.concat(key);\r\n      }\r\n    });\r\n    this.testQuestion = {\r\n      questionText: this.questionInput,\r\n      subtype: 'TestQuestion',\r\n      possibleAnswers: Array.from(this.possibleAnswers.keys()),\r\n      correctAnswer: ca[0]\r\n    };\r\n    if (!this.data.isEditing) {\r\n      this.questionService.addUnitTestQuestion(this.data.unitId, this.testQuestion).subscribe(\r\n        (_) => {\r\n          this.resetAddQuestionForm();\r\n        },\r\n        (err) => console.log(err)\r\n      );\r\n    } else {\r\n      this.questionService.editUnitTestQuestion(this.data.unitId, this.data.question.id, this.testQuestion).subscribe(\r\n        (_) => {\r\n          this.resetAddQuestionForm();\r\n        },\r\n        (err) => console.log(err)\r\n      );\r\n    }\r\n  }\r\n\r\n  addPossibleListAnswer() {\r\n    if (this.answerInput === '') {\r\n      // TODO\r\n      this.openSnackBar('La respuesta no puede estar vacía', 'Entendido');\r\n      return;\r\n    }\r\n    if (this.possibleAnswers.has(this.answerInput)) {\r\n      this.openSnackBar('La respuesta está repetida', 'Entendido');\r\n      return;\r\n    }\r\n    this.possibleAnswers = this.possibleAnswers.set(this.answerInput, this.correct);\r\n    this.rechargeAnswersKeys();\r\n    this.answerInput = '';\r\n  }\r\n\r\n  addPossibleTestAnswer() {\r\n    if (this.answerInput === '') {\r\n      // TODO\r\n      this.openSnackBar('La respuesta no puede estar vacía', 'Entendido');\r\n      return;\r\n    }\r\n    if (this.possibleAnswers.has(this.answerInput)) {\r\n      this.openSnackBar('La respuesta está repetida', 'Entendido');\r\n      return;\r\n    }\r\n    if (!this.correctTestAnswerSelected && this.correct) {\r\n      this.possibleAnswers.set(this.answerInput, true);\r\n      this.correct = false;\r\n      this.correctTestAnswerSelected = true;\r\n    } else {\r\n      this.possibleAnswers.set(this.answerInput, false);\r\n    }\r\n    this.rechargeAnswersKeys();\r\n    this.answerInput = '';\r\n  }\r\n\r\n  deletePossibleAnswer(answer: string) {\r\n    if (this.possibleAnswers.get(answer)) {\r\n      this.correctTestAnswerSelected = false;\r\n    }\r\n    this.possibleAnswers.delete(answer);\r\n    this.rechargeAnswersKeys();\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close(2);\r\n  }\r\n\r\n  changeTextArea(event: Event) {\r\n    this.fitContent(event.target as HTMLTextAreaElement);\r\n  }\r\n\r\n  fitContent(textArea: HTMLTextAreaElement) {\r\n    textArea.style.overflow = 'hidden';\r\n    textArea.style.height = '0px';\r\n    textArea.style.height = textArea.scrollHeight + 'px';\r\n  }\r\n\r\n  openSnackBar(message: string, action: string) {\r\n    this.snackBar.open(message, action, {\r\n      duration: 2000,\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n  <body>\\r\\n    <h1 mat-dialog-title>{{ data.question.questionText }}</h1>\\r\\n    <h2 mat-dialog-title>Intentos realizados: {{definitionAnswers?.length}}</h2>\\r\\n    <div mat-dialog-content>\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Respuesta\\\" [(ngModel)]=\\\"questionAnswer.answerText\\\" />\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div mat-dialog-actions>\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\">Cancelar</button>\\r\\n      <button mat-button [mat-dialog-close]=\\\"questionAnswer.answerText\\\" cdkFocusInitial>\\r\\n        Responder\\r\\n      </button>\\r\\n    </div>\\r\\n  </body>\\r\\n</html>\\r\\n\"","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material';\r\nimport {DefinitionQuestion} from '../definitionQuestion/definitionQuestion.model';\r\nimport {QuestionComponent} from '../question.component';\r\nimport {DefinitionAnswer} from '../definitionQuestion/definitionAnswer.model';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {UnitService} from '../../unit/unit.service';\r\nimport {DefinitionQuestionService} from '../definitionQuestion/definitionQuestion.service';\r\n\r\nexport interface DialogData {\r\n  question: DefinitionQuestion;\r\n  answerInput: string;\r\n}\r\n\r\n@Component({\r\n  templateUrl: './answerDefinitionDialog.component.html',\r\n  styleUrls: ['../question.component.css']\r\n})\r\n\r\nexport class AnswerDefinitionDialogComponent implements OnInit {\r\n\r\n  questionAnswer: DefinitionAnswer;\r\n  definitionAnswers: DefinitionAnswer[];\r\n  questionDone: boolean;\r\n\r\n  unitId: number;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private unitService: UnitService,\r\n    private definitionQuestionService: DefinitionQuestionService,\r\n    private loginService: LoginService,\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogRef: MatDialogRef<QuestionComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\r\n\r\n  ngOnInit() {\r\n    this.questionAnswer = {answerText: ''};\r\n    this.activatedRoute.params.subscribe(params => {\r\n\r\n      this.unitId = params.unitId;\r\n\r\n      this.definitionQuestionService.getUserAnswers(this.data.question.id, this.loginService.getCurrentUser().id).subscribe(\r\n        (data: DefinitionAnswer[]) => {\r\n          this.definitionAnswers = data;\r\n        });\r\n    });\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n<div align=center>\\r\\n  <p>{{question?.questionText}}</p>\\r\\n  <span *ngIf=\\\"!questionDone\\\">\\r\\n    <form #textForm=\\\"ngForm\\\">\\r\\n      <input placeholder=\\\"Texto\\\" [(ngModel)]=\\\"questionAnswer.answerText\\\" name=\\\"answer\\\" required>\\r\\n    </form>\\r\\n    <div *ngIf=\\\"!loginService.isAdmin\\\">\\r\\n      <button class=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"sendAnswer()\\\">Guardar</button>\\r\\n    </div>\\r\\n  </span>\\r\\n  <span *ngIf=\\\"questionDone\\\">\\r\\n    <p>A LA ESPERA DE CORRECCIÓN</p>\\r\\n  </span>\\r\\n  <mat-button-toggle (click)=\\\"return()\\\" style=\\\"margin-top: 5%\\\">Volver</mat-button-toggle>\\r\\n</div>\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit, SystemJsNgModuleLoader} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {DefinitionQuestionService} from './definitionQuestion.service';\r\nimport {DefinitionQuestion} from './definitionQuestion.model';\r\nimport {DefinitionAnswer} from './definitionAnswer.model';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {ListQuestion} from '../listQuestion/listQuestion.model';\r\nimport {ListQuestionService} from '../listQuestion/listQuestion.service';\r\n\r\n@Component({\r\n  templateUrl: './definitionQuestion.component.html'\r\n})\r\n\r\nexport class DefinitionQuestionComponent implements OnInit {\r\n\r\n  question: DefinitionQuestion;\r\n  questionAnswer: DefinitionAnswer;\r\n  questionDone: boolean;\r\n  id: number;\r\n  subtype: string;\r\n\r\n  unitId: number;\r\n  itineraryId: number;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private questionService: DefinitionQuestionService,\r\n    private loginService: LoginService,\r\n    private activatedRoute: ActivatedRoute) {\r\n    this.questionDone = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.questionAnswer = {answerText: ''};\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.id = params.questionId;\r\n      this.itineraryId = params.itineraryId;\r\n      this.unitId = params.unitId;\r\n      this.questionService.getDefinitionQuestion(this.id).subscribe((data: DefinitionQuestion) => {\r\n        this.question = data;\r\n        this.subtype = data.subtype;\r\n      }, error => {\r\n      });\r\n      console.log(this.loginService.getCurrentUser());\r\n      this.questionService.getUserAnswers(this.id, this.loginService.getCurrentUser().id).subscribe((data: DefinitionAnswer[]) => {\r\n        if (data.length != 0) {\r\n          this.questionDone = true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  sendAnswer() {\r\n    this.questionAnswer.user = this.loginService.getCurrentUser();\r\n    this.questionAnswer.unitId = this.unitId;\r\n    this.questionService.addDefinitionAnswer(this.id, this.questionAnswer).subscribe(\r\n      (_) => {\r\n        this.questionDone = true;\r\n      },\r\n      (error) => console.log(error)\r\n    );\r\n  }\r\n\r\n  return(){\r\n    this.router.navigate(['/units/' + this.unitId + '/itineraries/' + this.itineraryId]);\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {DefinitionAnswer} from './definitionAnswer.model';\r\nimport {DefinitionQuestion} from './definitionQuestion.model';\r\n\r\n@Injectable()\r\nexport class DefinitionQuestionService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getDefinitionQuestion(id: number) {\r\n    return this.http.get('api/definition/' + id);\r\n  }\r\n\r\n  addDefinitionQuestion(question: DefinitionQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<DefinitionQuestion>('/api/definition/', body, {headers});\r\n  }\r\n\r\n  addDefinitionAnswer(id: number, answer: DefinitionAnswer): Observable<DefinitionAnswer> {\r\n    const body = JSON.stringify(answer);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<DefinitionAnswer>('/api/definition/' + id, body, {headers});\r\n  }\r\n\r\n  getUserAnswers(questionId: number, userId: number) {\r\n    return this.http.get('api/definition/' + questionId + '/answer/user/' + userId);\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n\\r\\n<body>\\r\\n  <div align=\\\"center\\\">\\r\\n    <p>{{question?.questionText}}</p>\\r\\n    <span *ngIf=\\\"!alreadyDone\\\">\\r\\n      <span *ngIf=\\\"!questionDone\\\">\\r\\n        <form name=\\\"possibleListAnswers\\\">\\r\\n          <p>RESPUESTAS POSIBLES</p>\\r\\n          <span *ngFor=\\\"let answer of availableListAnswers\\\">\\r\\n            <input type=\\\"button\\\" name=\\\"answer\\\" value=\\\"{{answer}}\\\" (click)=\\\"newChoosenAnswer(answer)\\\">\\r\\n          </span>\\r\\n        </form>\\r\\n        <form name=\\\"choosenListAnswers\\\">\\r\\n          <p>RESPUESTAS ESCOGIDAS</p>\\r\\n          <span *ngFor=\\\"let answer of choosenListAnswers\\\">\\r\\n            <input type=\\\"button\\\" name=\\\"answer\\\" value=\\\"{{answer}}\\\" (click)=\\\"deleteChoosenAnswer(answer)\\\">\\r\\n          </span>\\r\\n        </form>\\r\\n        <div *ngIf=\\\"!loginService.isAdmin\\\">\\r\\n          <button class=\\\"button\\\" style=\\\"color: dodgerblue\\\" (click)=\\\"correctListAnswer()\\\">Enviar</button>\\r\\n        </div>\\r\\n      </span>\\r\\n\\r\\n      <span *ngIf=\\\"questionDone\\\">\\r\\n        <span *ngIf=\\\"questionListCorrect\\\">\\r\\n          <p>{{question.correctAnswers}}</p>\\r\\n          <p style=\\\"color: green\\\"> RESPUESTA CORRECTA</p>\\r\\n        </span>\\r\\n        <span *ngIf=\\\"!questionListCorrect\\\">\\r\\n          <p style=\\\"color: red\\\"> RESPUESTA INCORRECTA</p>\\r\\n          <mat-button-toggle (click)=\\\"this.questionDone=false\\\">Volver a intentar</mat-button-toggle>\\r\\n        </span>\\r\\n      </span>\\r\\n    </span>\\r\\n\\r\\n    <span *ngIf=\\\"alreadyDone\\\">\\r\\n      <span *ngIf=\\\"this.questionListCorrect\\\">\\r\\n      <p>{{question.correctAnswers}}</p>\\r\\n      <p style=\\\"color: green\\\"> RESPUESTA CORRECTA</p>\\r\\n    </span>\\r\\n    <span *ngIf=\\\"!this.questionListCorrect\\\">\\r\\n      <p style=\\\"color: red\\\"> RESPUESTA INCORRECTA</p>\\r\\n      <mat-button-toggle (click)=\\\"this.questionDone=false ; this.alreadyDone = false\\\">Volver a intentar</mat-button-toggle>\\r\\n    </span>\\r\\n    </span>\\r\\n\\r\\n    <mat-button-toggle (click)=\\\"return()\\\" style=\\\"margin-top: 5%\\\">Volver</mat-button-toggle>\\r\\n  </div>\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {ListQuestion} from './listQuestion.model';\r\nimport {ListQuestionService} from './listQuestion.service';\r\nimport {ListAnswer} from './listAnswer.model';\r\n\r\n@Component({\r\n  templateUrl: './listQuestion.component.html'\r\n})\r\n\r\nexport class ListQuestionComponent implements OnInit {\r\n  question: ListQuestion;\r\n  choosenListAnswers: string[];\r\n  availableListAnswers: string[];\r\n  questionDone: boolean;\r\n  questionListCorrect: boolean;\r\n  questionListCorrectAnswers: string[];\r\n  questionAnswer: ListAnswer;\r\n  id: number;\r\n  alreadyDone: boolean;\r\n\r\n  unitId: number;\r\n  itineraryId: number;\r\n\r\n  constructor(\r\n    private questionService: ListQuestionService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private loginService: LoginService,\r\n    private router: Router) {\r\n    this.questionDone = false;\r\n    this.choosenListAnswers = [];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.id = params.questionId;\r\n      this.itineraryId = params.itineraryId;\r\n      this.unitId = params.unitId;\r\n      this.questionService.getListQuestion(this.id).subscribe((data: ListQuestion) => {\r\n        this.question = data;\r\n        this.availableListAnswers = this.question.possibleAnswers;\r\n        this.questionListCorrectAnswers = this.question.correctAnswers;\r\n      }, error => {\r\n      });\r\n    });\r\n\r\n    this.questionService.getUserAnswers(this.id, this.loginService.getCurrentUser().id).subscribe((data: ListAnswer[]) => {\r\n      if (data.length != 0) {\r\n        this.alreadyDone = true;\r\n        console.log(data);\r\n        for (let answer of data){\r\n          if (answer[1] === true) {\r\n            this.questionListCorrect = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  newChoosenAnswer(answer: string) {\r\n    this.choosenListAnswers.push(answer);\r\n    this.availableListAnswers.splice(this.availableListAnswers.indexOf(answer), 1);\r\n  }\r\n\r\n  deleteChoosenAnswer(answer: string) {\r\n    this.availableListAnswers.push(answer);\r\n    this.choosenListAnswers.splice(this.choosenListAnswers.indexOf(answer), 1);\r\n  }\r\n\r\n  correctListAnswer() {\r\n    if (this.choosenListAnswers.length === this.questionListCorrectAnswers.length) {\r\n      this.questionListCorrect = true;\r\n      for (let i = 0; i < this.questionListCorrectAnswers.length; i++) {\r\n        if (!this.choosenListAnswers.includes(this.questionListCorrectAnswers[i])) {\r\n          this.questionListCorrect = false;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      this.questionListCorrect = false;\r\n    }\r\n    this.questionAnswer = {user: this.loginService.getCurrentUser(), correct: this.questionListCorrect, unitId: this.unitId};\r\n    this.questionService.addAnswer(this.id, this.questionAnswer).subscribe(\r\n      (_) => {\r\n        this.questionDone = true;\r\n      },\r\n      (error) => console.log(error));\r\n  }\r\n\r\n  return(){\r\n    this.router.navigate(['/units/' + this.unitId + '/itineraries/' + this.itineraryId]);\r\n  }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {ListQuestion} from './listQuestion.model';\r\nimport {ListAnswer} from './listAnswer.model';\r\nimport {DefinitionQuestion} from '../definitionQuestion/definitionQuestion.model';\r\n\r\n@Injectable()\r\nexport class ListQuestionService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getListQuestion(id: number) {\r\n    return this.http.get('api/list/' + id);\r\n  }\r\n\r\n  addListQuestion(listQuestion: ListQuestion) {\r\n    const body = JSON.stringify(listQuestion);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<DefinitionQuestion>('/api/list/', body, {headers});\r\n  }\r\n\r\n  addAnswer(id: number, listAnswer: ListAnswer): Observable<ListQuestion> {\r\n    const body = JSON.stringify(listAnswer);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<ListQuestion>('api/list/' + id, body, {headers});\r\n  }\r\n\r\n  getUserAnswers(questionId: number, userId: number) {\r\n    return this.http.get('api/list/' + questionId + '/answer/user/' + userId);\r\n  }\r\n}\r\n","module.exports = \"#image-container {\\r\\n  width: 10rem;\\r\\n  display: flex;\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.question-header {\\r\\n  height: 3rem;\\r\\n  background-color: #5382ce;\\r\\n  color: white;\\r\\n  font-size: 0.8rem;\\r\\n}\\r\\n\\r\\n.new-question-button {\\r\\n  position: fixed;\\r\\n  color: white;\\r\\n  background-color: #7d3c90;\\r\\n  top: 3.45rem;\\r\\n  z-index: 501;\\r\\n  right: 1rem;\\r\\n}\\r\\n\\r\\n#spinner-container {\\r\\n  position: fixed;\\r\\n  width: calc(100% - 30rem);\\r\\n  right: 8rem;\\r\\n  top: 3.6rem;\\r\\n  z-index: 9999;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n#spinner {\\r\\n  display: inline;\\r\\n  z-index: 10000;\\r\\n  height: 1.8rem;\\r\\n  width: 1.8rem;\\r\\n}\\r\\n\\r\\n#spinner-text {\\r\\n  position: fixed;\\r\\n  display: inline;\\r\\n  z-index: 10000;\\r\\n  color: #ffffff;\\r\\n  margin: 0.35rem 0.5rem 0.35rem 0.5rem;\\r\\n}\\r\\n\\r\\n.tool:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\ntable {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nth.mat-sort-header-sorted {\\r\\n  color: black;\\r\\n}\\r\\n\\r\\n.mat-form-field {\\r\\n  font-size: 14px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.questions-group {\\r\\n  margin-right: 10%;\\r\\n  margin-left: 10%;\\r\\n  margin-top: 2%;\\r\\n  margin-bottom: 2%;\\r\\n}\\r\\n\\r\\n.questions-card {\\r\\n  margin-right: 10%;\\r\\n  margin-left: 10%;\\r\\n  margin-top: 5%;\\r\\n  margin-bottom: 2%;\\r\\n}\\r\\n\\r\\n.add-question-card {\\r\\n  margin-right: 10%;\\r\\n  margin-left: 10%;\\r\\n  margin-top: 2%;\\r\\n  margin-bottom: 5%;\\r\\n}\\r\\n\\r\\n.card-title {\\r\\n  text-align: center;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.card-content {\\r\\n  text-align: center;\\r\\n  align-content: center;\\r\\n}\\r\\n\\r\\n.button-row button,\\r\\n.button-row a {\\r\\n  margin: 8px;\\r\\n}\\r\\n\\r\\n.question-button {\\r\\n  background-color: #7d3c90;\\r\\n  color: #ffffff;\\r\\n}\\r\\n\\r\\n.active-type {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n.add-question-form {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.add-question-form-list {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.add-answer-button {\\r\\n  margin: 10px;\\r\\n  background-color: #7d3c90;\\r\\n  color: #ffffff;\\r\\n}\\r\\n\\r\\n.add-answer-list {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.delete-icon {\\r\\n  color: indianred;\\r\\n}\\r\\n\\r\\n.edit-icon {\\r\\n  color: darkorange;\\r\\n}\\r\\n\\r\\n.text-secondary {\\r\\n  color: gray;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcXVlc3Rpb24vcXVlc3Rpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFlBQVk7RUFDWixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxXQUFXO0VBQ1gsYUFBYTtFQUNiLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2QsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7RUFDZixlQUFlO0VBQ2YsY0FBYztFQUNkLGNBQWM7RUFDZCxxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixxQkFBcUI7QUFDdkI7O0FBRUE7O0VBRUUsV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFdBQVc7QUFDYiIsImZpbGUiOiJzcmMvYXBwL3F1ZXN0aW9uL3F1ZXN0aW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjaW1hZ2UtY29udGFpbmVyIHtcclxuICB3aWR0aDogMTByZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuXHJcbi5xdWVzdGlvbi1oZWFkZXIge1xyXG4gIGhlaWdodDogM3JlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTM4MmNlO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LXNpemU6IDAuOHJlbTtcclxufVxyXG5cclxuLm5ldy1xdWVzdGlvbi1idXR0b24ge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdkM2M5MDtcclxuICB0b3A6IDMuNDVyZW07XHJcbiAgei1pbmRleDogNTAxO1xyXG4gIHJpZ2h0OiAxcmVtO1xyXG59XHJcblxyXG4jc3Bpbm5lci1jb250YWluZXIge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gMzByZW0pO1xyXG4gIHJpZ2h0OiA4cmVtO1xyXG4gIHRvcDogMy42cmVtO1xyXG4gIHotaW5kZXg6IDk5OTk7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4jc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogaW5saW5lO1xyXG4gIHotaW5kZXg6IDEwMDAwO1xyXG4gIGhlaWdodDogMS44cmVtO1xyXG4gIHdpZHRoOiAxLjhyZW07XHJcbn1cclxuXHJcbiNzcGlubmVyLXRleHQge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgei1pbmRleDogMTAwMDA7XHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbiAgbWFyZ2luOiAwLjM1cmVtIDAuNXJlbSAwLjM1cmVtIDAuNXJlbTtcclxufVxyXG5cclxuLnRvb2w6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhNzY5Yjg7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxudGgubWF0LXNvcnQtaGVhZGVyLXNvcnRlZCB7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnF1ZXN0aW9ucy1ncm91cCB7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxMCU7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwJTtcclxuICBtYXJnaW4tdG9wOiAyJTtcclxuICBtYXJnaW4tYm90dG9tOiAyJTtcclxufVxyXG5cclxuLnF1ZXN0aW9ucy1jYXJkIHtcclxuICBtYXJnaW4tcmlnaHQ6IDEwJTtcclxuICBtYXJnaW4tbGVmdDogMTAlO1xyXG4gIG1hcmdpbi10b3A6IDUlO1xyXG4gIG1hcmdpbi1ib3R0b206IDIlO1xyXG59XHJcblxyXG4uYWRkLXF1ZXN0aW9uLWNhcmQge1xyXG4gIG1hcmdpbi1yaWdodDogMTAlO1xyXG4gIG1hcmdpbi1sZWZ0OiAxMCU7XHJcbiAgbWFyZ2luLXRvcDogMiU7XHJcbiAgbWFyZ2luLWJvdHRvbTogNSU7XHJcbn1cclxuXHJcbi5jYXJkLXRpdGxlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5jYXJkLWNvbnRlbnQge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5idXR0b24tcm93IGJ1dHRvbixcclxuLmJ1dHRvbi1yb3cgYSB7XHJcbiAgbWFyZ2luOiA4cHg7XHJcbn1cclxuXHJcbi5xdWVzdGlvbi1idXR0b24ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3ZDNjOTA7XHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuXHJcbi5hY3RpdmUtdHlwZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2E3NjliODtcclxufVxyXG5cclxuLmFkZC1xdWVzdGlvbi1mb3JtIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uYWRkLXF1ZXN0aW9uLWZvcm0tbGlzdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcblxyXG4uYWRkLWFuc3dlci1idXR0b24ge1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2QzYzkwO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG59XHJcblxyXG4uYWRkLWFuc3dlci1saXN0IHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5kZWxldGUtaWNvbiB7XHJcbiAgY29sb3I6IGluZGlhbnJlZDtcclxufVxyXG5cclxuLmVkaXQtaWNvbiB7XHJcbiAgY29sb3I6IGRhcmtvcmFuZ2U7XHJcbn1cclxuXHJcbi50ZXh0LXNlY29uZGFyeSB7XHJcbiAgY29sb3I6IGdyYXk7XHJcbn1cclxuIl19 */\"","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n  <!-- ADMIN -->\\r\\n  <body *ngIf=\\\"loginService.isAdmin\\\">\\r\\n\\r\\n    <button mat-button class=\\\"tool new-question-button\\\" (click)=\\\"openAddQuestionDialog()\\\">\\r\\n      <mat-icon>add</mat-icon>\\r\\n      Nuevo ejercicio\\r\\n    </button>\\r\\n\\r\\n    <div id=\\\"spinner-container\\\" *ngIf=\\\"showSpinner\\\">\\r\\n      <img id=\\\"spinner\\\" src=\\\"../../assets/img/spinner.gif\\\">\\r\\n      <span id=\\\"spinner-text\\\">Cargando...</span>\\r\\n    </div>\\r\\n\\r\\n    <!-- QUESTION TABLE -->\\r\\n    <mat-card class=\\\"questions-card\\\">\\r\\n      <mat-card-title class=\\\"card-title\\\">Preguntas</mat-card-title>\\r\\n      <mat-card-content>\\r\\n        <mat-form-field>\\r\\n          <input matInput (keyup)=\\\"applyFilter($event.target.value)\\\" placeholder=\\\"Filtrar\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n        <table mat-table *ngIf=\\\"questions.length > 0\\\" [dataSource]=\\\"dataSource\\\" matSort>\\r\\n\\r\\n          <ng-container matColumnDef=\\\"question\\\">\\r\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Pregunta </th>\\r\\n            <td mat-cell *matCellDef=\\\"let question\\\"> {{question.questionText}} </td>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container matColumnDef=\\\"subtype\\\">\\r\\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </th>\\r\\n            <td mat-cell *matCellDef=\\\"let question\\\"> {{questionTypes.get(question.subtype)}} </td>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container matColumnDef=\\\"edit\\\">\\r\\n            <th mat-header-cell *matHeaderCellDef> Editar </th>\\r\\n            <td mat-cell *matCellDef=\\\"let question\\\">\\r\\n              <button mat-button (click)=\\\"editQuestion(question.id, question.subtype)\\\">\\r\\n                <mat-icon class=\\\"edit-icon\\\">create</mat-icon>\\r\\n              </button>\\r\\n            </td>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container matColumnDef=\\\"delete\\\">\\r\\n            <th mat-header-cell *matHeaderCellDef> Borrar </th>\\r\\n            <td mat-cell *matCellDef=\\\"let question\\\">\\r\\n              <button mat-button (click)=\\\"deleteQuestion(question.id)\\\">\\r\\n                <mat-icon class=\\\"delete-icon\\\">delete_outline</mat-icon>\\r\\n              </button>\\r\\n            </td>\\r\\n          </ng-container>\\r\\n\\r\\n          <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n          <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n        </table>\\r\\n\\r\\n        <p *ngIf=\\\"questions.length == 0 && !showSpinner\\\" matLine class=\\\"text-secondary card-content\\\">No hay preguntas en esta unidad</p>\\r\\n\\r\\n        <mat-paginator [pageSize]=\\\"10\\\" [pageSizeOptions]=\\\"[5, 10, 20, 100]\\\" showFirstLastButtons></mat-paginator>\\r\\n\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n\\r\\n\\r\\n    <!-- QUESTION LIST -->\\r\\n    <!--<mat-card class=\\\"questions-card\\\">\\r\\n      <mat-card-title class=\\\"card-title\\\">Preguntas</mat-card-title>\\r\\n      <mat-card-content class=\\\"card-content\\\">\\r\\n        <mat-list>\\r\\n          <mat-list-item *ngFor=\\\"let question of questions\\\">\\r\\n            <p matLine>\\r\\n              {{ question.questionText }}\\r\\n              <button mat-button (click)=\\\"deleteQuestion(question.id)\\\">\\r\\n                <mat-icon class=\\\"delete-icon\\\">delete_outline</mat-icon>\\r\\n              </button>\\r\\n            </p>\\r\\n          </mat-list-item>\\r\\n        </mat-list>\\r\\n      </mat-card-content>\\r\\n    </mat-card>-->\\r\\n  </body>\\r\\n\\r\\n  <!-- NOT ADMIN -->\\r\\n  <body *ngIf=\\\"!loginService.isAdmin\\\">\\r\\n\\r\\n    <mat-card class=\\\"questions-card\\\">\\r\\n      <mat-card-title class=\\\"card-title\\\">Preguntas de definición</mat-card-title>\\r\\n      <mat-card-content class=\\\"card-content\\\">\\r\\n        <div *ngFor=\\\"let question of definitionQuestions\\\">\\r\\n          <mat-button-toggle (click)=\\\"openAnswerDialog(question)\\\">\\r\\n            <h3>{{ question.questionText }}</h3>\\r\\n          </mat-button-toggle>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n\\r\\n    <mat-card class=\\\"questions-card\\\">\\r\\n      <mat-card-title class=\\\"card-title\\\">Preguntas de listado</mat-card-title>\\r\\n      <mat-card-content class=\\\"card-content\\\">\\r\\n        <div *ngFor=\\\"let question of listQuestions\\\">\\r\\n          {{ question.questionText }}\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n\\r\\n    <mat-card class=\\\"questions-card\\\">\\r\\n      <mat-card-title class=\\\"card-title\\\">Preguntas de test</mat-card-title>\\r\\n      <mat-card-content class=\\\"card-content\\\">\\r\\n        <div *ngFor=\\\"let question of testQuestions\\\">\\r\\n          {{ question.questionText }}\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n  </body>\\r\\n\\r\\n</html>\\r\\n\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {Question} from './question.model';\r\nimport {QuestionService} from './question.service';\r\nimport {DefinitionQuestion} from './definitionQuestion/definitionQuestion.model';\r\nimport {ListQuestion} from './listQuestion/listQuestion.model';\r\nimport {TestQuestion} from './testQuestion/testQuestion.model';\r\nimport {Lesson} from '../itinerary/lesson/lesson.model';\r\nimport {LoginService} from '../auth/login.service';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {DefinitionAnswer} from './definitionQuestion/definitionAnswer.model';\r\nimport {AnswerDefinitionDialogComponent} from './answerQuestionDialog/answerDefinitionDialog.component';\r\nimport {ConfirmActionComponent} from '../confirmAction/confirm-action.component';\r\nimport {AddQuestionDialogComponent} from './addQuestionDialog/addQuestionDialog.component';\r\nimport {MatPaginator, MatSort, MatTableDataSource} from '@angular/material';\r\n\r\nconst QUESTION_TYPES = [\r\n  {id: 'DefinitionQuestion', name: 'Definición'},\r\n  {id: 'ListQuestion', name: 'Listado'},\r\n  {id: 'TestQuestion', name: 'Test'},\r\n];\r\n\r\n@Component({\r\n  selector: 'app-questions',\r\n  templateUrl: './question.component.html',\r\n  styleUrls: ['./question.component.css']\r\n})\r\n\r\nexport class QuestionComponent implements OnInit {\r\n\r\n  displayedColumns: string[] = ['question', 'subtype', 'edit', 'delete'];\r\n  dataSource;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  showSpinner = false;\r\n\r\n  questions: Question[];\r\n  definitionQuestions: DefinitionQuestion[];\r\n  listQuestions: ListQuestion[];\r\n  testQuestions: TestQuestion[];\r\n\r\n  definitionQuestion: DefinitionQuestion;\r\n  listQuestion: ListQuestion;\r\n  testQuestion: TestQuestion;\r\n\r\n  questionTypes: Map<string, string>;\r\n\r\n  answerInput: string;\r\n\r\n  confirmDialog = {\r\n    text: 'Se eliminará el ejercicio permanentemente',\r\n    button1: 'Cancelar',\r\n    button2: 'Borrar'\r\n  };\r\n\r\n  unitId: number;\r\n  itinerariesTabs: Lesson[];\r\n\r\n  constructor(\r\n    public loginService: LoginService,\r\n    public dialog: MatDialog,\r\n    private questionService: QuestionService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.showSpinner = true;\r\n\r\n    this.questions = [];\r\n    this.questionTypes = new Map();\r\n    for (const entry of QUESTION_TYPES) {\r\n      this.questionTypes.set(entry.id, entry.name);\r\n    }\r\n\r\n    this.answerInput = '';\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.unitId = params.unitId;\r\n    });\r\n\r\n    // init data source\r\n    this.dataSource = new MatTableDataSource<Question>();\r\n\r\n    this.getQuestions();\r\n    // this.getAllQuestions();\r\n  }\r\n\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n  getQuestions() {\r\n    this.questionService.getUnitQuestions(this.unitId).subscribe((data: Question[]) => {\r\n      this.questions = data;\r\n      this.dataSource.data = data;\r\n      this.dataSource.sort = this.sort;\r\n      this.dataSource.paginator = this.paginator;\r\n      this.showSpinner = false;\r\n    });\r\n  }\r\n\r\n  // Get questions type by type\r\n  getAllQuestions() {\r\n    this.questionService.getUnitDefinitionQuestions(this.unitId).subscribe((data: DefinitionQuestion[]) => {\r\n      this.definitionQuestions = data;\r\n      this.questions = this.questions.concat(data);\r\n      // question table\r\n      this.dataSource = new MatTableDataSource(this.questions);\r\n      this.dataSource.sort = this.sort;\r\n      this.showSpinner = false;\r\n    });\r\n\r\n    this.questionService.getUnitListQuestions(this.unitId).subscribe((data: ListQuestion[]) => {\r\n      this.listQuestions = data;\r\n      this.questions = this.questions.concat(data);\r\n      // question table\r\n      this.dataSource = new MatTableDataSource(this.questions);\r\n      this.dataSource.sort = this.sort;\r\n      this.showSpinner = false;\r\n    });\r\n\r\n    this.questionService.getUnitTestQuestions(this.unitId).subscribe((data: TestQuestion[]) => {\r\n      this.testQuestions = data;\r\n      this.questions = this.questions.concat(data);\r\n      // question table\r\n      this.dataSource = new MatTableDataSource(this.questions);\r\n      this.dataSource.sort = this.sort;\r\n      this.showSpinner = false;\r\n    });\r\n  }\r\n\r\n  editQuestion(questionID: number, subtype: string) {\r\n    switch (subtype) {\r\n      case 'DefinitionQuestion': {\r\n        this.getDefinitionQuestion(questionID);\r\n        break;\r\n      }\r\n      case 'ListQuestion': {\r\n        this.getListQuestion(questionID);\r\n        break;\r\n      }\r\n      case 'TestQuestion': {\r\n        this.getTestQuestion(questionID);\r\n        break;\r\n      }\r\n      default: {\r\n        console.log('Not valid');\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  getDefinitionQuestion(questionID: number) {\r\n    this.questionService.getUnitDefinitionQuestion(this.unitId, questionID).subscribe(\r\n      (data: DefinitionQuestion) => {\r\n        this.openEditQuestionDialog(data);\r\n      }\r\n    );\r\n  }\r\n\r\n  getListQuestion(questionID: number) {\r\n    this.questionService.getUnitListQuestion(this.unitId, questionID).subscribe(\r\n      (data: ListQuestion) => {\r\n        this.openEditQuestionDialog(data);\r\n      }\r\n    );\r\n  }\r\n\r\n  getTestQuestion(questionID: number) {\r\n    this.questionService.getUnitTestQuestion(this.unitId, questionID).subscribe(\r\n      (data: TestQuestion) => {\r\n        this.openEditQuestionDialog(data);\r\n      }\r\n    );\r\n  }\r\n\r\n  deleteQuestion(questionID: number) {\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {confirmText: this.confirmDialog.text, button1: this.confirmDialog.button1, button2: this.confirmDialog.button2}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result === 1) {\r\n        this.questionService.deleteUnitQuestion(this.unitId, questionID).subscribe(\r\n          (_) => {\r\n            // TODO Remove it\r\n            this.ngOnInit();\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n            this.ngOnInit();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  sendDefinitionAnswer(questionID: number) {\r\n    if (this.answerInput === '') {\r\n      // TODO\r\n      console.log('error: inputs cannot be empty');\r\n      return;\r\n    }\r\n    const answer: DefinitionAnswer = {\r\n      answerText: this.answerInput,\r\n      user: this.loginService.getCurrentUser(),\r\n      unitId: this.unitId\r\n    };\r\n    this.questionService.addUnitDefinitionAnswer(this.unitId, questionID, answer).subscribe(\r\n      (_) => {\r\n        // TODO Remove it\r\n        this.ngOnInit();\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        this.ngOnInit();\r\n      }\r\n    );\r\n  }\r\n\r\n  openEditQuestionDialog(editingQuestion) {\r\n    const dialogRef = this.dialog.open(AddQuestionDialogComponent, {\r\n      width: '600px',\r\n      data: {isEditing: true, unitId: this.unitId, question: editingQuestion}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result === 1) {\r\n        this.ngOnInit();\r\n      }\r\n    });\r\n  }\r\n\r\n  openAddQuestionDialog() {\r\n    const dialogRef = this.dialog.open(AddQuestionDialogComponent, {\r\n      width: '600px',\r\n      data: {isEditing: false, unitId: this.unitId}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result === 1) {\r\n        this.ngOnInit();\r\n      }\r\n    });\r\n  }\r\n\r\n  openAnswerDialog(q: Question): void {\r\n    const dialogRef = this.dialog.open(AnswerDefinitionDialogComponent, {\r\n      width: '250px',\r\n      data: {question: q, answerInput: this.answerInput}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.answerInput = result;\r\n      if ((typeof this.answerInput !== 'undefined') && (this.answerInput !== '')) {\r\n        this.sendDefinitionAnswer(q.id);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {ListQuestion} from './listQuestion/listQuestion.model';\r\nimport {DefinitionQuestion} from './definitionQuestion/definitionQuestion.model';\r\nimport {TestQuestion} from './testQuestion/testQuestion.model';\r\nimport {DefinitionAnswer} from './definitionQuestion/definitionAnswer.model';\r\n\r\n@Injectable()\r\nexport class QuestionService {\r\n\r\n  baseUrl = '/api/units/';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getUnitQuestions(id: number) {\r\n    return this.http.get(this.baseUrl + id + '/question');\r\n  }\r\n\r\n  getUnitDefinitionQuestions(id: number) {\r\n    return this.http.get(this.baseUrl + id + '/question/definition');\r\n  }\r\n\r\n  getUnitDefinitionQuestion(unitId: number, questionId: number) {\r\n    return this.http.get(this.baseUrl + unitId + '/question/definition/' + questionId);\r\n  }\r\n\r\n  getUnitListQuestions(id: number) {\r\n    return this.http.get(this.baseUrl + id + '/question/list');\r\n  }\r\n\r\n  getUnitListQuestion(unitId: number, questionId: number) {\r\n    return this.http.get(this.baseUrl + unitId + '/question/list/' + questionId);\r\n  }\r\n\r\n  getUnitTestQuestions(id: number) {\r\n    return this.http.get(this.baseUrl + id + '/question/test');\r\n  }\r\n\r\n  getUnitTestQuestion(unitId: number, questionId: number) {\r\n    return this.http.get(this.baseUrl + unitId + '/question/test/' + questionId);\r\n  }\r\n\r\n  addUnitDefinitionQuestion(id: number, question: DefinitionQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<DefinitionQuestion>(this.baseUrl + id + '/question/definition', body, {headers});\r\n  }\r\n\r\n  editUnitDefinitionQuestion(unitId: number, questionId: number, question: DefinitionQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.put<DefinitionQuestion>(this.baseUrl + unitId + '/question/definition/' + questionId, body, {headers});\r\n  }\r\n\r\n  addUnitListQuestion(id: number, question: ListQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<ListQuestion>(this.baseUrl + id + '/question/list', body, {headers});\r\n  }\r\n\r\n  editUnitListQuestion(unitId: number, questionId: number, question: ListQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.put<ListQuestion>(this.baseUrl + unitId + '/question/list/' + questionId, body, {headers});\r\n  }\r\n\r\n  addUnitTestQuestion(id: number, question: TestQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<TestQuestion>(this.baseUrl + id + '/question/test', body, {headers});\r\n  }\r\n\r\n  editUnitTestQuestion(unitId: number, questionId: number, question: TestQuestion) {\r\n    const body = JSON.stringify(question);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.put<TestQuestion>(this.baseUrl + unitId + '/question/test/' + questionId, body, {headers});\r\n  }\r\n\r\n  deleteUnitQuestion(unitID, questionID: number) {\r\n    return this.http.delete(this.baseUrl + unitID + '/question/' + questionID);\r\n  }\r\n\r\n  addUnitDefinitionAnswer(unitID, questionID: number, answer: DefinitionAnswer) {\r\n    const body = JSON.stringify(answer);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post(this.baseUrl + unitID + '/question/definition/' + questionID + '/answer', body, {headers});\r\n  }\r\n}\r\n","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n<div align=center>\\r\\n  <p>{{question?.questionText}}</p>\\r\\n    <span *ngIf=\\\"!questionDone\\\">\\r\\n      <form name=\\\"choosenAnswer\\\">\\r\\n        <span *ngFor=\\\"let answer of question?.possibleAnswers\\\">\\r\\n          <label>\\r\\n            <input type=\\\"radio\\\" name=\\\"answer\\\" value=\\\"{{answer}}\\\" [(ngModel)]=\\\"this.chosenAnswer\\\"> {{answer}}\\r\\n          </label>\\r\\n        </span>\\r\\n      </form>\\r\\n      <div *ngIf=\\\"!loginService.isAdmin\\\">\\r\\n        <button class=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"correctType1Answer()\\\">Guardar</button>\\r\\n      </div>\\r\\n    </span>\\r\\n    <span *ngIf=\\\"questionDone\\\">\\r\\n      <span *ngIf=\\\"correct\\\">\\r\\n        <p>{{question.correctAnswer}}</p>\\r\\n        <p style=\\\"color: green\\\"> RESPUESTA CORRECTA</p>\\r\\n      </span>\\r\\n      <span *ngIf=\\\"!correct\\\">\\r\\n        <p style=\\\"color: red\\\"> RESPUESTA INCORRECTA</p>\\r\\n        <mat-button-toggle (click)=\\\"this.questionDone=false\\\">Volver a intentar</mat-button-toggle>\\r\\n      </span>\\r\\n    </span>\\r\\n  <mat-button-toggle (click)=\\\"return()\\\" style=\\\"margin-top: 5%\\\">Volver</mat-button-toggle>\\r\\n</div>\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {LoginService} from '../../auth/login.service';\r\nimport {TestQuestion} from './testQuestion.model';\r\nimport {TestAnswer} from './testAnswer.model';\r\nimport {TestQuestionService} from './testQuestion.service';\r\n\r\n@Component({\r\n  templateUrl: './testQuestion.component.html'\r\n})\r\n\r\nexport class TestQuestionComponent implements OnInit {\r\n\r\n  question: TestQuestion;\r\n  questionAnswer: TestAnswer;\r\n  questionDone: boolean;\r\n  id: number;\r\n  subtype: string;\r\n  chosenAnswer: string;\r\n  correct: boolean;\r\n  alreadyDone: boolean;\r\n  unitId: number;\r\n  itineraryId: number;\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private questionService: TestQuestionService,\r\n    private loginService: LoginService,\r\n    private activatedRoute: ActivatedRoute) {\r\n    this.questionDone = false;\r\n    this.alreadyDone = false;\r\n    this.correct = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.questionAnswer = {answerText: ''};\r\n    this.questionAnswer = {answerText: ''};\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.id = params.questionId;\r\n      this.itineraryId = params.itineraryId;\r\n      this.unitId = params.unitId;\r\n      this.questionService.getTestQuestion(this.id).subscribe((data: TestQuestion) => {\r\n        this.question = data;\r\n        this.subtype = data.subtype;\r\n      }, error => {\r\n      });\r\n\r\n      this.questionService.getUserAnswers(this.id, this.loginService.getCurrentUser().id).subscribe((data: TestAnswer[]) => {\r\n        if (data.length != 0) {\r\n          this.alreadyDone = true;\r\n          console.log(data);\r\n          for (let answer of data){\r\n            if (answer[2] === true) {\r\n              this.correct = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  correctType1Answer() {\r\n    if (this.chosenAnswer === this.question.correctAnswer) {\r\n      this.correct = true;\r\n    } else {\r\n      this.correct = false;\r\n    }\r\n    this.questionAnswer = {user: this.loginService.getCurrentUser(), correct: this.correct, answerText: this.chosenAnswer, unitId: this.unitId};\r\n    console.log(this.questionAnswer);\r\n    this.questionService.addTestAnswer(this.id, this.questionAnswer).subscribe(\r\n      (_) => {\r\n        this.questionDone = true;\r\n      },\r\n      (error) => console.log(error));\r\n  }\r\n\r\n  return(){\r\n    this.router.navigate(['/units/' + this.unitId + '/itineraries/' + this.itineraryId]);\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {TestAnswer} from './testAnswer.model';\r\nimport {DefinitionQuestion} from '../definitionQuestion/definitionQuestion.model';\r\nimport {TestQuestion} from './testQuestion.model';\r\n\r\n@Injectable()\r\nexport class TestQuestionService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getTestQuestion(id: number) {\r\n    return this.http.get('api/test/' + id);\r\n  }\r\n\r\n  addTestQuestion(testQuestion: TestQuestion) {\r\n    const body = JSON.stringify(testQuestion);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<DefinitionQuestion>('/api/test/', body, {headers});\r\n  }\r\n\r\n  addTestAnswer(id: number, answer: TestAnswer): Observable<TestAnswer> {\r\n    const body = JSON.stringify(answer);\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n\r\n    return this.http.post<TestAnswer>('/api/test/' + id, body, {headers});\r\n  }\r\n\r\n  getUserAnswers(questionId: number, userId: number) {\r\n    return this.http.get('api/test/' + questionId + '/answer/user/' + userId);\r\n  }\r\n}\r\n","export enum RelationType {\r\n  ASSOCIATION = 'ASSOCIATION',\r\n  AGGREGATION = 'AGGREGATION',\r\n  COMPOSITION = 'COMPOSITION',\r\n  INHERITANCE = 'INHERITANCE',\r\n  USE = 'USE'\r\n};\r\n","import { Card } from './../card/card.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Slide } from './slide.model';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class SlideService {\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getSlides() {\r\n    return this.http.get('/api/slides/');\r\n  }\r\n\r\n  getSlide(id: number) {\r\n    return this.http.get('/api/slides/' + id);\r\n  }\r\n\r\n  deleteSlide(slide: Slide): Observable<Slide> {\r\n    return this.http.delete<Slide>('/api/slides/' + slide.id);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {LoginService} from '../auth/login.service';\r\n\r\n@Injectable()\r\nexport class TabService {\r\n\r\n  units = false;\r\n  unit = '';\r\n  unitId: number;\r\n\r\n  courses = false;\r\n  course = '';\r\n  courseId: number;\r\n\r\n  lessons = false;\r\n  lesson = '';\r\n\r\n  modules = false;\r\n  module = '';\r\n  moduleId: number;\r\n\r\n  constructor(private loginService: LoginService) {}\r\n\r\n  emptyAll() {\r\n    this.units = false;\r\n    this.unit = '';\r\n    this.courses = false;\r\n    this.course = '';\r\n    this.lessons = false;\r\n    this.lesson = '';\r\n    this.modules = false;\r\n    this.module = '';\r\n  }\r\n\r\n  setHome() {\r\n    this.emptyAll();\r\n  }\r\n\r\n  setUnits() {\r\n    this.emptyAll();\r\n    this.units = true;\r\n  }\r\n\r\n  setUnit(unitName: string, unitId) {\r\n    this.emptyAll();\r\n    this.units = true;\r\n    this.unit = unitName;\r\n    this.unitId = unitId;\r\n  }\r\n\r\n  setCourses() {\r\n    this.emptyAll();\r\n    this.courses = true;\r\n  }\r\n\r\n  setCourse(courseName: string, courseId: number) {\r\n    this.emptyAll();\r\n    this.courses = true;\r\n    this.course = courseName;\r\n    this.courseId = courseId;\r\n  }\r\n\r\n  setLesson(unitName: string, unitId: number, lessonName: string) {\r\n    this.emptyAll();\r\n    this.units = true;\r\n    this.unit = unitName;\r\n    this.unitId = unitId;\r\n    this.lessons = true;\r\n    this.lesson = lessonName;\r\n  }\r\n\r\n  setLessonInModule(name: string, id: number, moduleName: string, moduleId: number, lessonName: string) {\r\n    this.emptyAll();\r\n    if (this.loginService.isAdmin) {\r\n      this.units = true;\r\n      this.unit = name;\r\n      this.unitId = id;\r\n    } else {\r\n      this.courses = true;\r\n      this.course = name;\r\n      this.courseId = id;\r\n    }\r\n    this.module = moduleName;\r\n    this.moduleId = moduleId;\r\n    this.lessons = true;\r\n    this.lesson = lessonName;\r\n  }\r\n\r\n  setUnitModule(name: string, unitId: number, moduleName: string, moduleId: number) {\r\n    this.emptyAll();\r\n    this.units = true;\r\n    this.unit = name;\r\n    this.unitId = unitId;\r\n    this.modules = true;\r\n    this.module = moduleName;\r\n    this.moduleId = moduleId;\r\n  }\r\n\r\n  setCourseModule(moduleId: number, courseId: number, name: string) {\r\n    this.emptyAll();\r\n    this.moduleId = moduleId;\r\n    this.courseId = courseId;\r\n    this.courses = true;\r\n    this.course = name;\r\n  }\r\n\r\n}\r\n","module.exports = \"\\r\\n::ng-deep .mat-focused .mat-form-field-label {\\r\\n  /*change color of label*/\\r\\n  color: #1e042f !important;\\r\\n}\\r\\n\\r\\n::ng-deep.mat-form-field-underline {\\r\\n  /*change color of underline*/\\r\\n  background-color: #e1afed !important;\\r\\n}\\r\\n\\r\\n::ng-deep.mat-form-field-ripple {\\r\\n  /*change color of underline when focused*/\\r\\n  background-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\ninput:invalid {\\r\\n  background-color: red;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdW5pdC91bml0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0Usd0JBQXdCO0VBQ3hCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLDRCQUE0QjtFQUM1QixvQ0FBb0M7QUFDdEM7O0FBRUE7RUFDRSx5Q0FBeUM7RUFDekMsb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvdW5pdC91bml0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuOjpuZy1kZWVwIC5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xyXG4gIC8qY2hhbmdlIGNvbG9yIG9mIGxhYmVsKi9cclxuICBjb2xvcjogIzFlMDQyZiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lIHtcclxuICAvKmNoYW5nZSBjb2xvciBvZiB1bmRlcmxpbmUqL1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMWFmZWQgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSB7XHJcbiAgLypjaGFuZ2UgY29sb3Igb2YgdW5kZXJsaW5lIHdoZW4gZm9jdXNlZCovXHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5pbnB1dDppbnZhbGlkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XHJcbn1cclxuIl19 */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n<body>\\r\\n\\r\\n  <div id=\\\"lateral-panel\\\" [ngClass]=\\\"showMenu ? 'left-zero' : 'hidden-menu'\\\">\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 0 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(0)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">view_stream</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Fichas</span>\\r\\n    </button>\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 1 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(1)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">edit</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Ejercicios</span>\\r\\n    </button>\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 2 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(2)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">slideshow</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Leciones</span>\\r\\n    </button>\\r\\n\\r\\n    <button [ngClass]=\\\"activeTab == 3 ? 'tab activeTab mat-button' : 'tab mat-button'\\\" (click)=\\\"activateTab(3)\\\">\\r\\n      <mat-icon [ngClass]=\\\"showMenu ? 'tab-icon' : 'tab-icon-without-menu'\\\">vertical_split</mat-icon>\\r\\n      <span class=\\\"tab-text\\\" *ngIf=\\\"showMenu\\\">Módulos</span>\\r\\n    </button>\\r\\n\\r\\n  </div>\\r\\n  <mat-icon id=\\\"hide-menu-button\\\" [ngClass]=\\\"showMenu ? 'show-hide-menu-button' : 'hidden-hide-menu-button'\\\" (click)=\\\"setShowMenu(!showMenu)\\\">reorder</mat-icon>\\r\\n  <div id=\\\"top-panel\\\" [ngClass]=\\\"showMenu ? 'with-menu' : 'without-menu'\\\"></div>\\r\\n\\r\\n  <div id=\\\"unit-course-content\\\" [ngClass]=\\\"showMenu ? 'with-menu' : 'without-menu'\\\">\\r\\n    <app-cards *ngIf=\\\"activeTab==0\\\"></app-cards>\\r\\n    <app-questions *ngIf=\\\"activeTab==1\\\"></app-questions>\\r\\n    <app-lessons *ngIf=\\\"activeTab==2\\\"></app-lessons>\\r\\n    <app-modules *ngIf=\\\"activeTab==3\\\"></app-modules>\\r\\n  </div>\\r\\n\\r\\n</body>\\r\\n</html>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {Unit} from '../unit/unit.model';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {UnitService} from \"./unit.service\";\r\nimport {TabService} from \"../tab/tab.service\";\r\n\r\n@Component({\r\n  templateUrl: './unit.component.html',\r\n  styleUrls: ['./unit.component.css']\r\n})\r\n\r\nexport class UnitComponent implements OnInit {\r\n\r\n  private unit: Unit;\r\n  private activeTab = 0;\r\n  private showMenu = true;\r\n\r\n  constructor(private router: Router,\r\n              private activatedRoute: ActivatedRoute,\r\n              private unitService: UnitService,\r\n              private tabService: TabService) {}\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      const unitId = params.unitId;\r\n      this.unitService.getUnit(unitId).subscribe((data: Unit) => {\r\n        this.tabService.setUnit(data.name, data.id);\r\n        this.unit = data;\r\n      }, error => { console.log(error); });\r\n    });\r\n  }\r\n\r\n  private activateTab(tab: number) {\r\n    this.activeTab = tab;\r\n  }\r\n\r\n  private setShowMenu(showMenu: boolean) {\r\n    this.showMenu = showMenu;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\nimport { Unit } from './unit.model';\r\nimport {Relation} from \"../relation/relation.model\";\r\n\r\n@Injectable()\r\nexport class UnitService {\r\n\r\n  baseUrl = '/api/units/';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getUnits() {\r\n    return this.http.get(this.baseUrl);\r\n  }\r\n\r\n  getUnit(id: number) {\r\n    return this.http.get(this.baseUrl + id);\r\n  }\r\n\r\n  searchByNameContaining(name: string) {\r\n    const params = new HttpParams().set('name', name);\r\n    return this.http.get(this.baseUrl + 'search/', { params: params });\r\n  }\r\n\r\n  createUnit(unit: Unit) {\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n    return this.http.post<Unit>(this.baseUrl, unit, { headers });\r\n  }\r\n\r\n  saveUnits(units: Unit[]) {\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n    });\r\n    return this.http.put<Unit[]>(this.baseUrl, units, { headers });\r\n  }\r\n\r\n  getAbsoluteName(id: number) {\r\n    return this.http.get(this.baseUrl + id + '/absoluteName');\r\n  }\r\n\r\n  getParent(id: number) {\r\n    return this.http.get(this.baseUrl + id + '/parent');\r\n  }\r\n\r\n  deleteUnit(id: number) {\r\n    return this.http.delete<Unit>(this.baseUrl + id);\r\n  }\r\n\r\n  deleteRelation(id: number) {\r\n    return this.http.delete<Relation>(this.baseUrl + 'relations/' + id);\r\n  }\r\n\r\n  getCard(cardId: number, unitId: number) {\r\n    return this.http.get(this.baseUrl + unitId + '/cards/' + cardId);\r\n  }\r\n\r\n}\r\n","module.exports = \"#json-editor-container {\\r\\n  position: absolute;\\r\\n  width: 30%;\\r\\n  height: calc(100vh - 3rem);\\r\\n  top: 3rem;\\r\\n  z-index: 1000;\\r\\n}\\r\\n\\r\\n#search {\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n#result {\\r\\n  border-top: 1px solid #9e2abb;\\r\\n  background-color: #6a3b77;\\r\\n}\\r\\n\\r\\n.active {\\r\\n  background-color: #896196 !important;\\r\\n}\\r\\n\\r\\nmat-label {\\r\\n  color: #cda3db;\\r\\n}\\r\\n\\r\\n#unit-representation {\\r\\n  float: right;\\r\\n  width: 70%;\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n#unit-prefix {\\r\\n  color: #b99bcd;\\r\\n}\\r\\n\\r\\n#unit-name {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n#uml-edit-input {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n#uml-edit-input {\\r\\n  background: transparent;\\r\\n  border: none;\\r\\n  top: 120%;\\r\\n}\\r\\n\\r\\n#uml-node-options {\\r\\n  position: absolute;\\r\\n  padding: 0.1rem;\\r\\n  background-color: #ffffff;\\r\\n  border: thin solid #A8A8A8;\\r\\n  top: 120%;\\r\\n  z-index: 2;\\r\\n  width: 8rem;\\r\\n}\\r\\n\\r\\n#up-button {\\r\\n  width: 100%;\\r\\n  margin-bottom: 0.2rem;\\r\\n  background-color: #f2f0ff;\\r\\n}\\r\\n\\r\\n#up-button:hover {\\r\\n  background-color: #e7e4fe;\\r\\n}\\r\\n\\r\\n.delete-button {\\r\\n  width: 100% !important;;\\r\\n  margin-top: 0.2rem !important;;\\r\\n  background-color: #ffdae8 !important;;\\r\\n}\\r\\n\\r\\n.delete-button:hover {\\r\\n  background-color: #ebcad7 !important;;\\r\\n}\\r\\n\\r\\n.button-icon {\\r\\n  font-size: 1rem;\\r\\n  margin-top: 0.2rem;\\r\\n  margin-bottom: -0.3rem;\\r\\n}\\r\\n\\r\\n#uml-path-options {\\r\\n  position: absolute;\\r\\n  padding: 0.1rem;\\r\\n  background-color: #ffffff;\\r\\n  border: thin solid #A8A8A8;\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.uml-option-icon {\\r\\n  font-size: 1rem;\\r\\n}\\r\\n\\r\\n.save-button {\\r\\n  position: fixed;\\r\\n  color: #896d91;\\r\\n  top: 3.45rem;\\r\\n  z-index: 501;\\r\\n  right: 1rem;\\r\\n  cursor: inherit;\\r\\n}\\r\\n\\r\\n.save-button-enabled {\\r\\n  color: white;\\r\\n  background-color: #7d3c90;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.save-button-enabled:hover {\\r\\n  background-color: #a769b8;\\r\\n}\\r\\n\\r\\n#spinner-container {\\r\\n  position: fixed;\\r\\n  width: calc(100% - 30rem);\\r\\n  right: 8rem;\\r\\n  top: 3.6rem;\\r\\n  z-index: 9999;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n#spinner {\\r\\n  display: inline;\\r\\n  z-index: 10000;\\r\\n  height: 1.8rem;\\r\\n  width: 1.8rem;\\r\\n}\\r\\n\\r\\n#spinner-text {\\r\\n  position: fixed;\\r\\n  display: inline;\\r\\n  z-index: 10000;\\r\\n  color: #ffffff;\\r\\n  margin: 0.35rem 0.5rem 0.35rem 0.5rem;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-invalid .mat-input-element, .mat-warn .mat-input-element {\\r\\n  caret-color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field-label {\\r\\n  color: rgba(0,0,0,.6)!important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-focused .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n::ng-deep .mat-form-field.mat-form-field-invalid .mat-form-field-label {\\r\\n  color: #9e2abb !important;\\r\\n}\\r\\n\\r\\n#search {\\r\\n  width: 100%;\\r\\n  z-index: 120;\\r\\n}\\r\\n\\r\\n.uml-options-button {\\r\\n  border-radius: 0.2rem;\\r\\n  background-color: #fdf7ff;\\r\\n  cursor: pointer;\\r\\n  width: 50%;\\r\\n}\\r\\n\\r\\n.uml-relation-button {\\r\\n  width: 100% !important;\\r\\n}\\r\\n\\r\\n.uml-options-button:hover {\\r\\n  background-color: #ebe5ed;\\r\\n}\\r\\n\\r\\n.uml-content {\\r\\n  margin-top: 8rem;\\r\\n  position: absolute;\\r\\n  right: 0;\\r\\n  padding-bottom: 2rem;\\r\\n  width: 100%;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\n.uml-content-with-menu {\\r\\n  left: 22rem;\\r\\n}\\r\\n\\r\\n.uml-content-without-menu {\\r\\n  left: 11rem;\\r\\n}\\r\\n\\r\\n.hidden-menu {\\r\\n  width: 20rem;\\r\\n  left: -22rem;\\r\\n}\\r\\n\\r\\n.hidden-hide-menu-button {\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n.without-menu {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n#svg {\\r\\n  position: absolute;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n#path {\\r\\n  stroke: #27273c;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy92aWV3LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLDBCQUEwQjtFQUMxQixTQUFTO0VBQ1QsYUFBYTtBQUNmOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsNkJBQTZCO0VBQzdCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osVUFBVTtFQUNWLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7QUFDWjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osU0FBUztBQUNYOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsMEJBQTBCO0VBQzFCLFNBQVM7RUFDVCxVQUFVO0VBQ1YsV0FBVztBQUNiOztBQUVBO0VBQ0UsV0FBVztFQUNYLHFCQUFxQjtFQUNyQix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsNkJBQTZCO0VBQzdCLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsMEJBQTBCO0VBQzFCLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztFQUNkLFlBQVk7RUFDWixZQUFZO0VBQ1osV0FBVztFQUNYLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxXQUFXO0VBQ1gsYUFBYTtFQUNiLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2QsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7RUFDZixlQUFlO0VBQ2YsY0FBYztFQUNkLGNBQWM7RUFDZCxxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixlQUFlO0VBQ2YsVUFBVTtBQUNaOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1Isb0JBQW9CO0VBQ3BCLFdBQVc7RUFDWCxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0VBQ1osWUFBWTtBQUNkOztBQUVBO0VBQ0UsT0FBTztBQUNUOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCIiwiZmlsZSI6InNyYy9hcHAvdmlldy92aWV3LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjanNvbi1lZGl0b3ItY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2lkdGg6IDMwJTtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAzcmVtKTtcclxuICB0b3A6IDNyZW07XHJcbiAgei1pbmRleDogMTAwMDtcclxufVxyXG5cclxuI3NlYXJjaCB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4jcmVzdWx0IHtcclxuICBib3JkZXItdG9wOiAxcHggc29saWQgIzllMmFiYjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmEzYjc3O1xyXG59XHJcblxyXG4uYWN0aXZlIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODk2MTk2ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbm1hdC1sYWJlbCB7XHJcbiAgY29sb3I6ICNjZGEzZGI7XHJcbn1cclxuXHJcbiN1bml0LXJlcHJlc2VudGF0aW9uIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgd2lkdGg6IDcwJTtcclxuICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuI3VuaXQtcHJlZml4IHtcclxuICBjb2xvcjogI2I5OWJjZDtcclxufVxyXG5cclxuI3VuaXQtbmFtZSB7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbiN1bWwtZWRpdC1pbnB1dCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbiN1bWwtZWRpdC1pbnB1dCB7XHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHRvcDogMTIwJTtcclxufVxyXG5cclxuI3VtbC1ub2RlLW9wdGlvbnMge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBwYWRkaW5nOiAwLjFyZW07XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICBib3JkZXI6IHRoaW4gc29saWQgI0E4QThBODtcclxuICB0b3A6IDEyMCU7XHJcbiAgei1pbmRleDogMjtcclxuICB3aWR0aDogOHJlbTtcclxufVxyXG5cclxuI3VwLWJ1dHRvbiB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC4ycmVtO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMmYwZmY7XHJcbn1cclxuXHJcbiN1cC1idXR0b246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlN2U0ZmU7XHJcbn1cclxuXHJcbi5kZWxldGUtYnV0dG9uIHtcclxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OztcclxuICBtYXJnaW4tdG9wOiAwLjJyZW0gIWltcG9ydGFudDs7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZGFlOCAhaW1wb3J0YW50OztcclxufVxyXG5cclxuLmRlbGV0ZS1idXR0b246aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYmNhZDcgIWltcG9ydGFudDs7XHJcbn1cclxuXHJcbi5idXR0b24taWNvbiB7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIG1hcmdpbi10b3A6IDAuMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAtMC4zcmVtO1xyXG59XHJcblxyXG4jdW1sLXBhdGgtb3B0aW9ucyB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHBhZGRpbmc6IDAuMXJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJvcmRlcjogdGhpbiBzb2xpZCAjQThBOEE4O1xyXG4gIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi51bWwtb3B0aW9uLWljb24ge1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxufVxyXG5cclxuLnNhdmUtYnV0dG9uIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgY29sb3I6ICM4OTZkOTE7XHJcbiAgdG9wOiAzLjQ1cmVtO1xyXG4gIHotaW5kZXg6IDUwMTtcclxuICByaWdodDogMXJlbTtcclxuICBjdXJzb3I6IGluaGVyaXQ7XHJcbn1cclxuXHJcbi5zYXZlLWJ1dHRvbi1lbmFibGVkIHtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdkM2M5MDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5zYXZlLWJ1dHRvbi1lbmFibGVkOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTc2OWI4O1xyXG59XHJcblxyXG4jc3Bpbm5lci1jb250YWluZXIge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB3aWR0aDogY2FsYygxMDAlIC0gMzByZW0pO1xyXG4gIHJpZ2h0OiA4cmVtO1xyXG4gIHRvcDogMy42cmVtO1xyXG4gIHotaW5kZXg6IDk5OTk7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4jc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogaW5saW5lO1xyXG4gIHotaW5kZXg6IDEwMDAwO1xyXG4gIGhlaWdodDogMS44cmVtO1xyXG4gIHdpZHRoOiAxLjhyZW07XHJcbn1cclxuXHJcbiNzcGlubmVyLXRleHQge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgei1pbmRleDogMTAwMDA7XHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbiAgbWFyZ2luOiAwLjM1cmVtIDAuNXJlbSAwLjM1cmVtIDAuNXJlbTtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLW91dGxpbmUgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1vdXRsaW5lLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1vdXRsaW5lLXRoaWNrIHtcclxuICBjb2xvcjogIzllMmFiYiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLWFwcGVhcmFuY2Utb3V0bGluZS5tYXQtZm9ybS1maWVsZC1pbnZhbGlkLm1hdC1mb3JtLWZpZWxkLWludmFsaWQgLm1hdC1mb3JtLWZpZWxkLW91dGxpbmUtdGhpY2t7XHJcbiAgY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtaW5wdXQtZWxlbWVudCB7XHJcbiAgY2FyZXQtY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1pbnZhbGlkIC5tYXQtaW5wdXQtZWxlbWVudCwgLm1hdC13YXJuIC5tYXQtaW5wdXQtZWxlbWVudCB7XHJcbiAgY2FyZXQtY29sb3I6ICM5ZTJhYmIgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6IHJnYmEoMCwwLDAsLjYpIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQubWF0LWZvcm0tZmllbGQtaW52YWxpZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xyXG4gIGNvbG9yOiAjOWUyYWJiICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbiNzZWFyY2gge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHotaW5kZXg6IDEyMDtcclxufVxyXG5cclxuLnVtbC1vcHRpb25zLWJ1dHRvbiB7XHJcbiAgYm9yZGVyLXJhZGl1czogMC4ycmVtO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZGY3ZmY7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHdpZHRoOiA1MCU7XHJcbn1cclxuXHJcbi51bWwtcmVsYXRpb24tYnV0dG9uIHtcclxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udW1sLW9wdGlvbnMtYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJlNWVkO1xyXG59XHJcblxyXG4udW1sLWNvbnRlbnQge1xyXG4gIG1hcmdpbi10b3A6IDhyZW07XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHBhZGRpbmctYm90dG9tOiAycmVtO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwdmg7XHJcbn1cclxuXHJcbi51bWwtY29udGVudC13aXRoLW1lbnUge1xyXG4gIGxlZnQ6IDIycmVtO1xyXG59XHJcblxyXG4udW1sLWNvbnRlbnQtd2l0aG91dC1tZW51IHtcclxuICBsZWZ0OiAxMXJlbTtcclxufVxyXG5cclxuLmhpZGRlbi1tZW51IHtcclxuICB3aWR0aDogMjByZW07XHJcbiAgbGVmdDogLTIycmVtO1xyXG59XHJcblxyXG4uaGlkZGVuLWhpZGUtbWVudS1idXR0b24ge1xyXG4gIGxlZnQ6IDA7XHJcbn1cclxuXHJcbi53aXRob3V0LW1lbnUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4jc3ZnIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4jcGF0aCB7XHJcbiAgc3Ryb2tlOiAjMjcyNzNjO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<!DOCTYPE HTML>\\r\\n<html>\\r\\n  <body>\\r\\n\\r\\n    <div id=\\\"lateral-panel\\\" [ngClass]=\\\"showMenu ? 'left-zero' : 'hidden-menu'\\\">\\r\\n      <mat-form-field appearance=\\\"outline\\\" id=\\\"search\\\">\\r\\n        <mat-label>Buscar unidad</mat-label>\\r\\n        <input id=\\\"search-input\\\" matInput [(ngModel)]=\\\"searchField\\\" (ngModelChange)=\\\"search()\\\" (keydown)=\\\"keyDown($event)\\\"/>\\r\\n        <div id=\\\"result-list\\\" *ngIf=\\\"showResults\\\">\\r\\n          <div id=\\\"result\\\" *ngFor=\\\"let result of results; let i = index\\\" [class.active]=\\\"i==arrowKeyLocation\\\" (mouseover)=\\\"setActive(i)\\\">\\r\\n            <span id=\\\"unit-prefix\\\">{{getUnitPrefix(result.name)}}</span>\\r\\n            <span id=\\\"unit-name\\\">{{getUnitName(result.name)}}</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <mat-icon id=\\\"hide-menu-button\\\" [ngClass]=\\\"showMenu ? 'show-hide-menu-button' : 'hidden-hide-menu-button'\\\" (click)=\\\"setShowMenu(!showMenu)\\\">reorder</mat-icon>\\r\\n    <div id=\\\"top-panel\\\" [ngClass]=\\\"showMenu ? 'with-menu' : 'without-menu'\\\"></div>\\r\\n\\r\\n    <div id=\\\"json-editor-container\\\" [hidden]=\\\"hideJson\\\">\\r\\n      <json-editor [options]=\\\"editorOptions\\\" [(ngModel)]=\\\"data\\\"></json-editor>\\r\\n    </div>\\r\\n\\r\\n    <button mat-button [ngClass]=\\\"changed ? 'save-button save-button-enabled' : 'save-button'\\\" (click)=\\\"save(null)\\\">\\r\\n      <mat-icon>save</mat-icon>\\r\\n      Guardar\\r\\n    </button>\\r\\n\\r\\n    <div id=\\\"spinner-container\\\" *ngIf=\\\"showSpinner\\\">\\r\\n      <img id=\\\"spinner\\\" src=\\\"../../assets/img/spinner.gif\\\">\\r\\n      <span id=\\\"spinner-text\\\">Cargando...</span>\\r\\n    </div>\\r\\n\\r\\n    <div [ngClass]=\\\"showMenu ? 'uml-content uml-content-with-menu' : 'uml-content uml-content-without-menu'\\\" #uml></div>\\r\\n\\r\\n    <div #umlNodeOptions (window:resize)=\\\"updateUmlNodeOptions()\\\">\\r\\n      <input id=\\\"uml-edit-input\\\" (change)=\\\"updateUnitName()\\\">\\r\\n      <div id=\\\"uml-node-options\\\">\\r\\n\\r\\n        <button title=\\\"Cargar padre\\\" id=\\\"up-button\\\" class=\\\"uml-options-button\\\" [hidden]=\\\"disableUpButton\\\" (click)=\\\"upLevelAbove()\\\">\\r\\n          <mat-icon class=\\\"button-icon\\\">keyboard_arrow_up</mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"composition-incoming-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-composition-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n        <button id=\\\"composition-outgoing-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-composition-outgoing.png\\\" height=\\\"15\\\"></button>\\r\\n        <br>\\r\\n        <button id=\\\"inheritance-incoming-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-inheritance-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n        <button id=\\\"inheritance-outgoing-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-inheritance-outgoing.png\\\" height=\\\"15\\\"></button>\\r\\n        <br>\\r\\n        <button id=\\\"aggregation-incoming-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-aggregation-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n        <button id=\\\"aggregation-outgoing-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-aggregation-outgoing.png\\\" height=\\\"15\\\"></button>\\r\\n        <br>\\r\\n        <button id=\\\"association-incoming-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-association-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n        <button id=\\\"association-outgoing-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-association-outgoing.png\\\" height=\\\"15\\\"></button>\\r\\n        <br>\\r\\n        <button id=\\\"use-incoming-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-use-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n        <button id=\\\"use-outgoing-button\\\" class=\\\"uml-options-button\\\"><img src=\\\"../../assets/img/add-use-outgoing.png\\\" height=\\\"15\\\"></button>\\r\\n        <br>\\r\\n\\r\\n        <button title=\\\"Eliminar unidad\\\" class=\\\"delete-button uml-options-button\\\" (click)=\\\"deleteUnit()\\\">\\r\\n          <mat-icon class=\\\"button-icon\\\">delete</mat-icon>\\r\\n        </button>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div #umlPathOptions (window:resize)=\\\"drawUmlPathOptions()\\\" [hidden]=\\\"!showUmlPathOptions\\\">\\r\\n      <div id=\\\"uml-path-options\\\">\\r\\n        <div *ngIf=\\\"selectedRelationType!=='COMPOSITION'\\\">\\r\\n          <button id=\\\"composition-relation-button\\\" class=\\\"uml-options-button uml-relation-button\\\"><img src=\\\"../../assets/img/add-composition-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n          <br>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"selectedRelationType!=='INHERITANCE'\\\">\\r\\n          <button id=\\\"inheritance-relation-button\\\" class=\\\"uml-options-button uml-relation-button\\\"><img src=\\\"../../assets/img/add-inheritance-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n          <br>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"selectedRelationType!=='AGGREGATION'\\\">\\r\\n          <button id=\\\"aggregation-relation-button\\\" class=\\\"uml-options-button uml-relation-button\\\"><img src=\\\"../../assets/img/add-aggregation-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n          <br>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"selectedRelationType!=='ASSOCIATION'\\\">\\r\\n          <button id=\\\"association-relation-button\\\" class=\\\"uml-options-button uml-relation-button\\\"><img src=\\\"../../assets/img/add-association-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n          <br>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"selectedRelationType!=='USE'\\\">\\r\\n          <button id=\\\"use-relation-button\\\" class=\\\"uml-options-button uml-relation-button\\\"><img src=\\\"../../assets/img/add-use-incoming.png\\\" height=\\\"15\\\"></button>\\r\\n        </div>\\r\\n\\r\\n        <button title=\\\"Eliminar relación\\\" class=\\\"delete-button uml-options-button\\\" (click)=\\\"deleteRelation()\\\">\\r\\n          <mat-icon class=\\\"button-icon\\\">delete</mat-icon>\\r\\n        </button>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <svg id=\\\"svg\\\">\\r\\n      <path #umlNewPath id=\\\"path\\\"></path>\\r\\n    </svg>\\r\\n\\r\\n  </body>\\r\\n</html>\\r\\n\"","import { Unit } from '../unit/unit.model';\r\nimport { UnitService } from '../unit/unit.service';\r\nimport { Component, ViewChild, OnInit, AfterContentInit, ElementRef, HostListener, OnDestroy } from '@angular/core';\r\nimport { JsonEditorComponent, JsonEditorOptions } from 'ang-jsoneditor';\r\nimport { Router } from '@angular/router';\r\nimport { Relation } from '../relation/relation.model';\r\nimport { RelationType } from '../relation/relation.type';\r\nimport { TdDialogService } from '@covalent/core';\r\nimport {TabService} from '../tab/tab.service';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {ConfirmActionComponent} from '../confirmAction/confirm-action.component';\r\n\r\ndeclare var mermaid: any;\r\n\r\n@Component({\r\n  selector: 'app-view',\r\n  templateUrl: './view.component.html',\r\n  styleUrls: ['./view.component.css']\r\n})\r\n\r\nexport class ViewComponent implements OnInit, AfterContentInit, OnDestroy {\r\n\r\n  private UNIT_NAME_SEPARATOR = '/';\r\n  private ENTER_KEY = 'Enter';\r\n  private ARROW_UP_KEY = 'ArrowUp';\r\n  private ARROW_DOWN_KEY = 'ArrowDown';\r\n\r\n  private searchField = '';\r\n  private showResults = false;\r\n  private results: Unit[] = [];\r\n  private arrowKeyLocation = 0;\r\n\r\n  private hideJson = true;\r\n  @ViewChild(JsonEditorComponent, null) editor: JsonEditorComponent;\r\n  private editorOptions: JsonEditorOptions;\r\n  private data = {\r\n    units: [],\r\n    relations: []\r\n  };\r\n\r\n  private focusedUnitId;\r\n  private units: Map<string, Unit> = new Map<string, Unit>();\r\n  private relations = new Map<string, Relation>();\r\n  private remainingUnits = 0;\r\n\r\n  private showMenu = true;\r\n  private disableUpButton = false;\r\n\r\n  private newUnitId = 0;\r\n  private newRelationId = 0;\r\n\r\n  private changed = false;\r\n  private showSpinner = false;\r\n\r\n  @ViewChild('uml') umlDiv;\r\n\r\n  private selectedTarget: HTMLInputElement;\r\n  @ViewChild('umlNodeOptions') umlNodeOptions: ElementRef;\r\n  private showUmlNodeOptions = false;\r\n  @ViewChild('umlPathOptions') umlPathOptions: ElementRef;\r\n  private showUmlPathOptions = false;\r\n  private selectedRelationType = '';\r\n  @ViewChild('umlNewPath') umlNewPath: ElementRef;\r\n  private creatingRelation = null;\r\n\r\n\r\n  constructor(private router: Router, private unitService: UnitService, private dialogService: TdDialogService,\r\n              private tabService: TabService, public dialog: MatDialog) {}\r\n\r\n  ngOnInit() {\r\n    this.tabService.setUnits();\r\n    window.scroll(0, 0);\r\n    window.document.body.style.overflow = 'hidden';\r\n    this.editorOptions = new JsonEditorOptions();\r\n    this.editorOptions.mode = 'code';\r\n    this.focusUnit(1);\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    mermaid.initialize({\r\n      theme: 'default',\r\n      logLevel: 3,\r\n      flowchart: { curve: 'basis' },\r\n      gantt: { axisFormat: '%m/%d/%Y' },\r\n      sequence: { actorMargin: 50 },\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    window.document.body.style.overflow = 'auto';\r\n  }\r\n\r\n\r\n\r\n  // Data\r\n\r\n  private focusUnit(id: number) {\r\n    this.showSpinner = true;\r\n    this.focusedUnitId = id;\r\n    this.units.clear();\r\n    this.relations.clear();\r\n    this.remainingUnits = 0;\r\n    this.getUnitAndUpdateUml(this.focusedUnitId, new Set<number>());\r\n  }\r\n\r\n  private getUnitAndUpdateUml(id: number, visited: Set<number>) {\r\n    this.remainingUnits--;\r\n    visited.add(id);\r\n    this.unitService.getUnit(id).subscribe((data: Unit) => {\r\n      this.addUnit(data);\r\n      this.remainingUnits += data.incomingRelations.length + 1;\r\n      data.incomingRelations.forEach((relation: Relation) => {\r\n        this.remainingUnits--;\r\n        if (!this.getRelationById(relation.id.toString())) {\r\n          const outgoing = +relation.outgoing;\r\n          if (!visited.has(outgoing)) {\r\n            this.getUnitAndUpdateUml(outgoing, visited);\r\n          }\r\n          this.addRelation(relation);\r\n        }\r\n      });\r\n\r\n      if (this.remainingUnits === 0) {\r\n        this.updateUml();\r\n        this.emptyResults();\r\n        this.showSpinner = false;\r\n\r\n\r\n\r\n\r\n        let i = 0;\r\n        this.units.forEach((unit: Unit) => {\r\n          this.unitService.getAbsoluteName(+unit.id).subscribe((u: Unit) => {\r\n            this.data.units.push(new VisibleUnit(unit.id, u.name));\r\n            i++;\r\n            if (i === this.units.size) {\r\n              this.relations.forEach((relation: Relation) => {\r\n                this.data.relations.push(new VisibleRelation(relation.relationType, relation.incoming, relation.outgoing));\r\n              });\r\n              this.editor.data = this.data;\r\n            }\r\n          }, error => {\r\n            console.log(error);\r\n          });\r\n        });\r\n\r\n\r\n\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  private upLevelAbove() {\r\n    this.unitService.getParent(this.focusedUnitId).subscribe((parent: Unit) => {\r\n      this.focusUnit(+parent.id);\r\n    });\r\n  }\r\n\r\n  private addUnit(unit: Unit) {\r\n    this.units.set(unit.id.toString(), unit);\r\n  }\r\n\r\n  private getUnitById(id: string): Unit {\r\n    return this.units.get(id);\r\n  }\r\n\r\n  private addRelation(relation: Relation) {\r\n    this.relations.set(relation.id.toString(), relation);\r\n  }\r\n\r\n  private getRelationById(id: string): Relation {\r\n    return this.relations.get(id);\r\n  }\r\n\r\n  private getNewUnitId() {\r\n    return '0' + this.newUnitId++;\r\n  }\r\n\r\n  private getNewRelationId(): string {\r\n    return '0' + this.newRelationId++;\r\n  }\r\n\r\n  private save(goToUnit) {\r\n    if (this.changed) {\r\n      this.changed = false;\r\n      this.showSpinner = true;\r\n\r\n      const unitsToCreate: Unit[] = [];\r\n      this.units.forEach((unit: Unit) => {\r\n        if (unit.id.toString().substring(0, 1) === '0') {\r\n          unitsToCreate.push(unit);\r\n        }\r\n      });\r\n\r\n      let i = 0;\r\n      unitsToCreate.forEach((unit: Unit) => {\r\n        const unitToCreate = {\r\n          id: '0',\r\n          name: unit.name,\r\n          outgoingRelations: [],\r\n          incomingRelations: [],\r\n          itineraries: [],\r\n          definitionQuestions: [],\r\n          listQuestions: [],\r\n          testQuestions: []\r\n        };\r\n        this.unitService.createUnit(unitToCreate).subscribe((data: Unit) => {\r\n          unit.id = data.id;\r\n          unit.name = data.name;\r\n          unit.incomingRelations.forEach((relation: Relation) => {\r\n            relation.incoming = data.id.toString();\r\n          });\r\n          unit.outgoingRelations.forEach((relation: Relation) => {\r\n            relation.outgoing = data.id.toString();\r\n          });\r\n\r\n          i++;\r\n          if (i === unitsToCreate.length) {\r\n            this.saveUnitsAndRelations(goToUnit);\r\n          }\r\n        }, error => {\r\n          console.log(error);\r\n        });\r\n      });\r\n      if (unitsToCreate.length === 0) {\r\n        this.saveUnitsAndRelations(goToUnit);\r\n      }\r\n    }\r\n  }\r\n\r\n  private saveUnitsAndRelations(goToUnit) {\r\n    const unitsToSave: Unit[] = [];\r\n    this.units.forEach((unit: Unit) => {\r\n      const unitToSave = {\r\n        id: unit.id,\r\n        name: unit.name,\r\n        outgoingRelations: unit.outgoingRelations,\r\n        incomingRelations: unit.incomingRelations,\r\n        itineraries: [],\r\n        definitionQuestions: [],\r\n        listQuestions: [],\r\n        testQuestions: []\r\n      };\r\n      unitToSave.incomingRelations.forEach((relation: Relation) => {\r\n        if (relation.id.toString().substring(0, 1) === '0') {\r\n          relation.id = '0';\r\n        }\r\n      });\r\n      unitToSave.outgoingRelations.forEach((relation: Relation) => {\r\n        if (relation.id.toString().substring(0, 1) === '0') {\r\n          relation.id = '0';\r\n        }\r\n      });\r\n      unitsToSave.push(unitToSave);\r\n    });\r\n    this.unitService.saveUnits(unitsToSave).subscribe(() => {\r\n      this.focusUnit(this.focusedUnitId);\r\n      if (goToUnit) {\r\n        this.goToUnit(goToUnit);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  // Uml\r\n\r\n  private updateUml() {\r\n    const element: any = this.umlDiv.nativeElement;\r\n    element.innerHTML = '';\r\n    try {\r\n      const uml = this.parseUml(this.relations);\r\n      mermaid.render('uml', uml, (svgCode, bindFunctions) => {\r\n        element.innerHTML = svgCode;\r\n        this.updateUmlNodeOptions();\r\n      });\r\n    } catch (error) {}\r\n  }\r\n\r\n  private updateUnitName() {\r\n    const selectedUnit: Unit = this.getUnitById(this.selectedTarget.id.toString().substring(0, this.selectedTarget.id.length));\r\n    this.changed = ((this.changed) || (selectedUnit.name !== this.umlNodeOptions.nativeElement.firstChild.value));\r\n    selectedUnit.name = this.umlNodeOptions.nativeElement.firstChild.value;\r\n    this.setShowUmlNodeOptions(false);\r\n    this.setShowUmlPathOptions(false);\r\n    this.updateUml();\r\n  }\r\n\r\n  private createUnit(relationType): Unit {\r\n    const selectedUnit: Unit = this.getUnitById(this.selectedTarget.id.toString().substring(0, this.selectedTarget.id.length));\r\n    const newUnitName = 'Nueva unidad';\r\n    const newUnit: Unit = {\r\n      id: this.getNewUnitId().toString(),\r\n      name: newUnitName,\r\n      incomingRelations: [],\r\n      outgoingRelations: []\r\n    };\r\n    const newRelation: Relation = {\r\n      id: this.getNewRelationId().toString(),\r\n      relationType,\r\n      incoming: this.selectedTarget.id.toString().substring(0, this.selectedTarget.id.length),\r\n      outgoing: newUnit.id.toString()\r\n    };\r\n    newUnit.outgoingRelations.push(newRelation);\r\n    this.addUnit(newUnit);\r\n    selectedUnit.incomingRelations.push(newRelation);\r\n    this.addRelation(newRelation);\r\n    this.updateUml();\r\n    this.changed = true;\r\n    return newUnit;\r\n  }\r\n\r\n  private createRelation(relationType, incoming: Unit, outgoing: Unit) {\r\n    const newRelation: Relation = {\r\n      id: this.getNewRelationId().toString(),\r\n      relationType,\r\n      incoming: incoming.id,\r\n      outgoing: outgoing.id\r\n    };\r\n    const duplicateIncoming = this.checkDuplicateRelation(incoming, newRelation);\r\n    const duplicateOutgoing = this.checkDuplicateRelation(outgoing, newRelation);\r\n    if (!(duplicateIncoming && duplicateOutgoing)) {\r\n      if (!duplicateIncoming) {\r\n        incoming.incomingRelations.push(newRelation);\r\n      }\r\n      if (!duplicateOutgoing) {\r\n        outgoing.outgoingRelations.push(newRelation);\r\n      }\r\n      this.addRelation(newRelation);\r\n    }\r\n    this.updateUml();\r\n    this.changed = true;\r\n  }\r\n\r\n  private checkDuplicateRelation(unit: Unit, relation: Relation): boolean {\r\n    let duplicate = false;\r\n    unit.incomingRelations.forEach((incomingRelation: Relation) => {\r\n      if ((!duplicate) && (incomingRelation.incoming.toString() === relation.incoming.toString()) && (incomingRelation.outgoing.toString() === relation.outgoing.toString())) {\r\n        incomingRelation.relationType = relation.relationType;\r\n        duplicate = true;\r\n      }\r\n    });\r\n    unit.outgoingRelations.forEach((outgoingRelation: Relation) => {\r\n      if ((!duplicate) && (outgoingRelation.incoming.toString() === relation.incoming.toString()) && (outgoingRelation.outgoing.toString() === relation.outgoing.toString())) {\r\n        outgoingRelation.relationType = relation.relationType;\r\n        duplicate = true;\r\n      }\r\n    });\r\n    return duplicate;\r\n  }\r\n\r\n  private deleteUnit() {\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {\r\n        confirmText: 'Se eliminará definitivamente la unidad y su contenido.',\r\n        button1: 'Cancelar',\r\n        button2: 'Eliminar'}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      window.scroll(0, 0);\r\n      if (result === 1) {\r\n        this.unitService.deleteUnit(+this.selectedTarget.id).subscribe(() => {\r\n          if (+this.focusedUnitId === +this.selectedTarget.id) {\r\n            let focused = false;\r\n            this.getUnitById(this.focusedUnitId.toString()).incomingRelations.forEach((relation: Relation) => {\r\n              if ((!focused) && (this.focusedUnitId.toString() !== relation.outgoing.toString())) {\r\n                this.focusedUnitId = relation.outgoing.toString();\r\n                focused = true;\r\n              }\r\n            });\r\n          }\r\n          this.focusUnit(this.focusedUnitId);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private deleteRelation() {\r\n    const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n      data: {\r\n        confirmText: 'Se eliminará la relación',\r\n        button1: 'Cancelar',\r\n        button2: 'Eliminar'}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      window.scroll(0, 0);\r\n      if (result === 1) {\r\n        const splittedRelation: string[] = this.selectedTarget.id.split('-');\r\n        const incoming = splittedRelation[0];\r\n        const outgoing = splittedRelation[1];\r\n        const relationType = this.getRelationTypeEquivalent(splittedRelation[2]);\r\n        this.units.get(incoming).incomingRelations.forEach((relation: Relation) => {\r\n          if ((relation.outgoing.toString() === outgoing) && (relation.relationType === relationType)) {\r\n            this.unitService.deleteRelation(+relation.id).subscribe(() => {\r\n              this.focusUnit(this.focusedUnitId);\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private findUnitTarget(id: string): HTMLInputElement {\r\n    let found = false;\r\n    let target: HTMLInputElement = null;\r\n    this.umlDiv.nativeElement.firstChild.childNodes.forEach((childNode) => {\r\n      const firstChild = childNode.firstChild as HTMLInputElement;\r\n      if ((!found) && (firstChild) && (firstChild.id) && (firstChild.id.toString().substring(0, firstChild.id.length) === id.toString())) {\r\n        target = firstChild;\r\n        found = true;\r\n      }\r\n    });\r\n    return target;\r\n  }\r\n\r\n  private drawUmlNodeOptions() {\r\n    const input = this.umlNodeOptions.nativeElement.firstChild;\r\n    const padding = '0.5rem';\r\n    input.style.left = 'calc(' + (this.selectedTarget.getBoundingClientRect().left + window.pageXOffset) + 'px + ' + padding + ')';\r\n    input.style.width = 'calc(' + (this.selectedTarget.getBoundingClientRect().width) + 'px - ' + padding + ' - ' + padding + ')';\r\n    input.style.top = (this.selectedTarget.getBoundingClientRect().top + window.pageYOffset) + 'px';\r\n    input.style.height = (this.selectedTarget.getBoundingClientRect().height) + 'px';\r\n    const text = (this.selectedTarget.nextSibling as HTMLInputElement);\r\n    if (text.innerHTML) { input.value = text.innerHTML; }\r\n    text.innerHTML = '';\r\n    input.focus();\r\n    input.setSelectionRange(0, input.value.length);\r\n    const optionsStyle = this.umlNodeOptions.nativeElement.lastChild.style;\r\n    optionsStyle.left = (this.selectedTarget.getBoundingClientRect().right + window.pageXOffset) + 'px';\r\n    optionsStyle.top = (this.selectedTarget.getBoundingClientRect().top + window.pageYOffset) + 'px';\r\n    this.disableUpButton = true;\r\n    if (+this.focusedUnitId === +this.selectedTarget.id) {\r\n      this.unitService.getParent(+this.focusedUnitId).subscribe((parent: Unit) => {\r\n        this.disableUpButton = (parent === null);\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateUmlNodeOptions() {\r\n    if (this.showUmlNodeOptions) {\r\n      this.drawUmlNodeOptions();\r\n    } else {\r\n      this.umlNodeOptions.nativeElement.firstChild.style.top = '120%';\r\n      this.umlNodeOptions.nativeElement.lastChild.style.top = '120%';\r\n    }\r\n  }\r\n\r\n  private setShowUmlNodeOptions(showUmlNodeOptions: boolean) {\r\n    this.showUmlNodeOptions = showUmlNodeOptions;\r\n  }\r\n\r\n  private drawUmlPathOptions() {\r\n    let relationType;\r\n    if (this.selectedTarget.attributes[3]) { relationType = this.selectedTarget.attributes[3].nodeValue; }\r\n    this.selectedRelationType = this.getRelationTypeEquivalent(relationType);\r\n    const optionsStyle = this.umlPathOptions.nativeElement.firstChild.style;\r\n    optionsStyle.left = (this.selectedTarget.getBoundingClientRect().right + window.pageXOffset) + 'px';\r\n    optionsStyle.top = (this.selectedTarget.getBoundingClientRect().top + window.pageYOffset) + 'px';\r\n  }\r\n\r\n  private setShowUmlPathOptions(showUmlNodeOptions: boolean) {\r\n    this.showUmlPathOptions = showUmlNodeOptions;\r\n  }\r\n\r\n  private changeRelationType(id: string, newRelationType: string) {\r\n    const splittedRelation: string[] = id.split('-');\r\n    const incoming = splittedRelation[0];\r\n    const outgoing = splittedRelation[1];\r\n    const relationType = this.getRelationTypeEquivalent(splittedRelation[2]);\r\n    this.units.get(incoming).incomingRelations.forEach((relation: Relation) => {\r\n      if ((relation.outgoing.toString() === outgoing) && (relation.relationType === relationType)) {\r\n        relation.relationType = newRelationType;\r\n      }\r\n    });\r\n    this.units.get(outgoing).outgoingRelations.forEach((relation: Relation) => {\r\n      if ((relation.incoming.toString() === incoming) && (relation.relationType === relationType)) {\r\n        relation.relationType = newRelationType;\r\n      }\r\n    });\r\n    this.setShowUmlPathOptions(false);\r\n    this.updateUml();\r\n    this.changed = true;\r\n  }\r\n\r\n  private getRelationTypeEquivalent(relationType: string): string {\r\n    let equivalent = RelationType.USE;\r\n    if (relationType) {\r\n      if (relationType.includes('composition')) {\r\n        equivalent = RelationType.COMPOSITION;\r\n      } else if (relationType.includes('extension')) {\r\n        equivalent = RelationType.INHERITANCE;\r\n      } else if (relationType.includes('aggregation')) {\r\n        equivalent = RelationType.AGGREGATION;\r\n      } else if (relationType.includes('dependency')) {\r\n        equivalent = RelationType.ASSOCIATION;\r\n      }\r\n    }\r\n    return equivalent;\r\n  }\r\n\r\n\r\n\r\n  // Key event listener\r\n\r\n  @HostListener('window:keydown', ['$event'])\r\n  onKeyPress($event: KeyboardEvent) {\r\n    if (($event.metaKey || $event.ctrlKey) && ($event.key === 's')) {\r\n      $event.preventDefault();\r\n      this.save(null);\r\n    }\r\n    if (($event.metaKey || $event.ctrlKey) && ($event.key === 'e')) {\r\n      $event.preventDefault();\r\n      this.hideJson = !this.hideJson;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  // Mouse event listener\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  public documentClick(event: Event): void {\r\n    const target = event.target as HTMLInputElement;\r\n\r\n    if (!this.creatingRelation) {\r\n\r\n      // Search\r\n      if ((target.id === 'result') || (target.id === 'unit-prefix') || (target.id === 'unit-name')) {\r\n        this.focusUnit(+this.results[this.arrowKeyLocation].id);\r\n      } else if ((target.attributes) && (target.attributes['class']) &&\r\n        ((target.attributes['class'].nodeValue === 'mat-form-field-flex') ||\r\n          (target.attributes['class'].nodeValue.includes('mat-form-field-outline')) ||\r\n          (target.attributes['class'].nodeValue === 'mat-form-field-infix') || (target.id === 'search-input'))) {\r\n        this.setShowResults(true);\r\n      } else {\r\n        this.setShowResults(false);\r\n      }\r\n\r\n      // Uml\r\n      if ((target.id === 'composition-incoming-button') || (target.parentElement.id === 'composition-incoming-button')) {\r\n        this.selectedTarget = this.findUnitTarget(this.createUnit(RelationType.COMPOSITION).id);\r\n        this.drawUmlNodeOptions();\r\n      } else if ((target.id === 'inheritance-incoming-button') || (target.parentElement.id === 'inheritance-incoming-button')) {\r\n        this.selectedTarget = this.findUnitTarget(this.createUnit(RelationType.INHERITANCE).id);\r\n        this.drawUmlNodeOptions();\r\n      } else if ((target.id === 'aggregation-incoming-button') || (target.parentElement.id === 'aggregation-incoming-button')) {\r\n        this.selectedTarget = this.findUnitTarget(this.createUnit(RelationType.AGGREGATION).id);\r\n        this.drawUmlNodeOptions();\r\n      } else if ((target.id === 'association-incoming-button') || (target.parentElement.id === 'association-incoming-button')) {\r\n        this.selectedTarget = this.findUnitTarget(this.createUnit(RelationType.ASSOCIATION).id);\r\n        this.drawUmlNodeOptions();\r\n      } else if ((target.id === 'use-incoming-button') || (target.parentElement.id === 'use-incoming-button')) {\r\n        this.selectedTarget = this.findUnitTarget(this.createUnit(RelationType.USE).id);\r\n        this.drawUmlNodeOptions();\r\n      } else if ((target.id === 'composition-outgoing-button') || (target.parentElement.id === 'composition-outgoing-button')) {\r\n        this.creatingRelation = {\r\n          relationType: RelationType.COMPOSITION,\r\n          outgoing: this.selectedTarget.id.toString(),\r\n          boundingClientRect: this.selectedTarget.getBoundingClientRect()\r\n        };\r\n        this.closeUmlNodeOptions();\r\n      } else if ((target.id === 'inheritance-outgoing-button') || (target.parentElement.id === 'inheritance-outgoing-button')) {\r\n        this.creatingRelation = {\r\n          relationType: RelationType.INHERITANCE,\r\n          outgoing: this.selectedTarget.id.toString(),\r\n          boundingClientRect: this.selectedTarget.getBoundingClientRect()\r\n        };\r\n        this.closeUmlNodeOptions();\r\n      } else if ((target.id === 'aggregation-outgoing-button') || (target.parentElement.id === 'aggregation-outgoing-button')) {\r\n        this.creatingRelation = {\r\n          relationType: RelationType.AGGREGATION,\r\n          outgoing: this.selectedTarget.id.toString(),\r\n          boundingClientRect: this.selectedTarget.getBoundingClientRect()\r\n        };\r\n        this.closeUmlNodeOptions();\r\n      } else if ((target.id === 'association-outgoing-button') || (target.parentElement.id === 'association-outgoing-button')) {\r\n        this.creatingRelation = {\r\n          relationType: RelationType.ASSOCIATION,\r\n          outgoing: this.selectedTarget.id.toString(),\r\n          boundingClientRect: this.selectedTarget.getBoundingClientRect()\r\n        };\r\n        this.closeUmlNodeOptions();\r\n      } else if ((target.id === 'use-outgoing-button') || (target.parentElement.id === 'use-outgoing-button')) {\r\n        this.creatingRelation = {\r\n          relationType: RelationType.USE,\r\n          outgoing: this.selectedTarget.id.toString(),\r\n          boundingClientRect: this.selectedTarget.getBoundingClientRect()\r\n        };\r\n        this.closeUmlNodeOptions();\r\n      } else if ((target.id === 'composition-relation-button') || (target.parentElement.id === 'composition-relation-button')) {\r\n        this.changeRelationType(this.selectedTarget.id.toString(), RelationType.COMPOSITION);\r\n      } else if ((target.id === 'inheritance-relation-button') || (target.parentElement.id === 'inheritance-relation-button')) {\r\n        this.changeRelationType(this.selectedTarget.id.toString(), RelationType.INHERITANCE);\r\n      } else if ((target.id === 'aggregation-relation-button') || (target.parentElement.id === 'aggregation-relation-button')) {\r\n        this.changeRelationType(this.selectedTarget.id.toString(), RelationType.AGGREGATION);\r\n      } else if ((target.id === 'association-relation-button') || (target.parentElement.id === 'association-relation-button')) {\r\n        this.changeRelationType(this.selectedTarget.id.toString(), RelationType.ASSOCIATION);\r\n      } else if ((target.id === 'use-relation-button') || (target.parentElement.id === 'use-relation-button')) {\r\n        this.changeRelationType(this.selectedTarget.id.toString(), RelationType.USE);\r\n      } else if ((target.id !== 'uml-edit-input') && (target.id !== 'uml-node-options')) {\r\n        this.closeUmlNodeOptions();\r\n      }\r\n    } else {\r\n      if ((target.tagName === 'rect') || (target.tagName === 'text')) {\r\n        this.createRelation(this.creatingRelation.relationType, this.getUnitById(target.id.toString().substring(0, target.id.toString().length)), this.getUnitById(this.creatingRelation.outgoing));\r\n      }\r\n      this.creatingRelation = null;\r\n      this.umlNewPath.nativeElement.setAttribute('d','');\r\n    }\r\n  }\r\n\r\n  @HostListener('document:dblclick', ['$event'])\r\n  public documentDoubleClick(event: Event): void {\r\n    this.creatingRelation = null;\r\n    const target = event.target as HTMLInputElement;\r\n    if ((!this.showUmlNodeOptions) && ((target.tagName === 'rect') || (target.tagName === 'text'))) {\r\n      const id = target.id.toString().substring(0, target.id.toString().length);\r\n      if (this.changed) {\r\n        const dialogRef = this.dialog.open(ConfirmActionComponent, {\r\n          data: {\r\n            confirmText: 'Se han realizado cambios',\r\n            button1: 'Guardar',\r\n            button2: 'Descartar'}\r\n        });\r\n        dialogRef.afterClosed().subscribe(result => {\r\n          if (result === 1) {\r\n            this.goToUnit(id);\r\n          } else if (result === 2) {\r\n            this.save(id);\r\n          }\r\n        });\r\n      } else {\r\n        this.goToUnit(id);\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('document:contextmenu', ['$event'])\r\n  public documentRightClick(event: Event): void {\r\n    event.preventDefault();\r\n    this.creatingRelation = null;\r\n    const target = event.target as HTMLInputElement;\r\n    if ((!this.showUmlNodeOptions) && ((target.tagName === 'rect') || (target.tagName === 'text') || (target.tagName === 'path'))) {\r\n      this.selectedTarget = target;\r\n      if (target.tagName === 'path') {\r\n        this.setShowUmlPathOptions(true);\r\n        this.drawUmlPathOptions();\r\n      } else {\r\n        this.setShowUmlPathOptions(false);\r\n        if (target.tagName === 'text') {\r\n          this.selectedTarget = target.previousElementSibling as HTMLInputElement;\r\n        }\r\n        this.setShowUmlNodeOptions(true);\r\n        this.drawUmlNodeOptions();\r\n      }\r\n    } else if ((target.id !== 'uml-edit-input') && (target.id !== 'uml-node-options')) {\r\n      this.closeUmlNodeOptions();\r\n    }\r\n  }\r\n\r\n  private closeUmlNodeOptions() {\r\n    if (this.showUmlNodeOptions) {\r\n      this.updateUnitName();\r\n    }\r\n    this.setShowUmlNodeOptions(false);\r\n    this.setShowUmlPathOptions(false);\r\n    this.updateUmlNodeOptions();\r\n  }\r\n\r\n  @HostListener('document:mousemove', ['$event'])\r\n  private onMouseMove(event: MouseEvent) {\r\n    if (this.creatingRelation) {\r\n      this.umlNewPath.nativeElement.setAttribute('d',\r\n        'M' + (this.creatingRelation.boundingClientRect.right + window.pageXOffset - (this.creatingRelation.boundingClientRect.width / 2)) +\r\n        ' ' + (this.creatingRelation.boundingClientRect.top + window.pageYOffset + (this.creatingRelation.boundingClientRect.height / 2)) +\r\n        ' L' + event.clientX + ' ' + event.clientY);\r\n    } else {\r\n      this.umlNewPath.nativeElement.setAttribute('d','');\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  // Menu\r\n\r\n  private setShowMenu(showMenu: boolean) {\r\n    this.showMenu = showMenu;\r\n  }\r\n\r\n\r\n\r\n  // Search\r\n\r\n  private search() {\r\n    if (this.searchField.length > 0) {\r\n      this.unitService.searchByNameContaining(this.searchField).subscribe((data: any) => {\r\n        this.results = data;\r\n        this.arrowKeyLocation = 0;\r\n      }, error => {\r\n        console.log(error);\r\n      });\r\n    } else {\r\n      this.emptyResults();\r\n    }\r\n  }\r\n\r\n  private setShowResults(showResults: boolean) {\r\n    if (showResults) {\r\n      this.search();\r\n    } else {\r\n      this.emptyResults();\r\n    }\r\n    this.showResults = showResults;\r\n  }\r\n\r\n  private emptyResults() {\r\n    this.results = [];\r\n  }\r\n\r\n  private keyDown(event: KeyboardEvent) {\r\n    if ((event.key === this.ENTER_KEY) && (this.results.length > 0)) {\r\n      this.focusUnit(+this.results[this.arrowKeyLocation].id);\r\n    } else if ((event.key === this.ARROW_UP_KEY) && (this.arrowKeyLocation > 0)) {\r\n      this.arrowKeyLocation--;\r\n    } else if ((event.key === this.ARROW_DOWN_KEY) && (this.arrowKeyLocation < (this.results.length - 1))) {\r\n      this.arrowKeyLocation++;\r\n    }\r\n  }\r\n\r\n  private setActive(i: number) {\r\n    this.arrowKeyLocation = i;\r\n  }\r\n\r\n  private getUnitPrefix(completeName: string) {\r\n    const nameLength = completeName.split(this.UNIT_NAME_SEPARATOR)[completeName.split(this.UNIT_NAME_SEPARATOR).length - 1].length;\r\n    return completeName.substring(0, completeName.length - nameLength);\r\n  }\r\n\r\n  private getUnitName(completeName: string) {\r\n    return completeName.split(this.UNIT_NAME_SEPARATOR)[completeName.split(this.UNIT_NAME_SEPARATOR).length - 1];\r\n  }\r\n\r\n\r\n\r\n  // Routing\r\n\r\n  private goToUnit(id) {\r\n    this.router.navigate(['/unit/' + id]);\r\n  }\r\n\r\n\r\n\r\n  // Uml parser\r\n\r\n  private parseUml(relations: any) {\r\n    const parsedRelations = this.getRelationsDiagram(relations);\r\n    if (parsedRelations !== '') {\r\n      return 'classDiagram\\n' + parsedRelations;\r\n    } else if (this.getUnitById(this.focusedUnitId.toString())) {\r\n      return 'classDiagram\\n' + this.getOneUnitDiagram();\r\n    } else {\r\n      throw new Error('Invalid data. Unable to display uml');\r\n    }\r\n  }\r\n\r\n  private getOneUnitDiagram() {\r\n    return this.parseUnitName(this.focusedUnitId.toString()) + '<|--|>' + this.parseUnitName(this.focusedUnitId.toString());\r\n  }\r\n\r\n  private getRelationsDiagram(relations: any): string {\r\n    let uml = '';\r\n    let connector = '';\r\n    relations.forEach((relation: any) => {\r\n      switch (relation.relationType) {\r\n        case RelationType.ASSOCIATION: { connector = '<--'; break; }\r\n        case RelationType.AGGREGATION: { connector = '\"1\"o--\"many\"'; break; }\r\n        case RelationType.COMPOSITION: { connector = '\"0\"*--\"0..n\"'; break; }\r\n        case RelationType.INHERITANCE: { connector = '<|--'; break; }\r\n        case RelationType.USE: { connector = '--'; break; }\r\n        default: { throw new Error('Unrecognized uml relation type'); }\r\n      }\r\n      uml += this.parseUnitName(relation.incoming.toString()) + connector + this.parseUnitName(relation.outgoing.toString()) + '\\n';\r\n    });\r\n    return uml;\r\n  }\r\n\r\n  private parseUnitName(id: string): string {\r\n    let name = id;\r\n    const unit = this.getUnitById(id);\r\n    if (unit) {\r\n      name += unit.name;\r\n    }\r\n    return name;\r\n  }\r\n\r\n}\r\n\r\nclass VisibleUnit implements Unit {\r\n  id: string;\r\n  name: string;\r\n\r\n  constructor(id: string, name: string) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n}\r\n\r\nclass VisibleRelation implements Relation {\r\n  relationType: string;\r\n  incoming: string;\r\n  outgoing: string;\r\n\r\n  constructor(relationType: string, incoming: string, outgoing: string) {\r\n    this.relationType = relationType;\r\n    this.incoming = incoming;\r\n    this.outgoing = outgoing;\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import 'hammerjs';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}